(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function t(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(l){if(l.ep)return;l.ep=!0;const h=t(l);fetch(l.href,h)}})();function lh(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Vp={exports:{}},Au={};var hx;function CS(){if(hx)return Au;hx=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,l,h){var d=null;if(h!==void 0&&(d=""+h),l.key!==void 0&&(d=""+l.key),"key"in l){h={};for(var v in l)v!=="key"&&(h[v]=l[v])}else h=l;return l=h.ref,{$$typeof:i,type:s,key:d,ref:l!==void 0?l:null,props:h}}return Au.Fragment=e,Au.jsx=t,Au.jsxs=t,Au}var dx;function NS(){return dx||(dx=1,Vp.exports=CS()),Vp.exports}var g=NS(),zp={exports:{}},Fe={};var fx;function RS(){if(fx)return Fe;fx=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),N=Symbol.iterator;function O(q){return q===null||typeof q!="object"?null:(q=N&&q[N]||q["@@iterator"],typeof q=="function"?q:null)}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,Z={};function ce(q,oe,ye){this.props=q,this.context=oe,this.refs=Z,this.updater=ye||K}ce.prototype.isReactComponent={},ce.prototype.setState=function(q,oe){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,oe,"setState")},ce.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function pe(){}pe.prototype=ce.prototype;function J(q,oe,ye){this.props=q,this.context=oe,this.refs=Z,this.updater=ye||K}var X=J.prototype=new pe;X.constructor=J,$(X,ce.prototype),X.isPureReactComponent=!0;var _e=Array.isArray;function Ee(){}var k={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function D(q,oe,ye){var ve=ye.ref;return{$$typeof:i,type:q,key:oe,ref:ve!==void 0?ve:null,props:ye}}function H(q,oe){return D(q.type,oe,q.props)}function B(q){return typeof q=="object"&&q!==null&&q.$$typeof===i}function G(q){var oe={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(ye){return oe[ye]})}var z=/\/+/g;function ct(q,oe){return typeof q=="object"&&q!==null&&q.key!=null?G(""+q.key):oe.toString(36)}function rn(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(Ee,Ee):(q.status="pending",q.then(function(oe){q.status==="pending"&&(q.status="fulfilled",q.value=oe)},function(oe){q.status==="pending"&&(q.status="rejected",q.reason=oe)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function ae(q,oe,ye,ve,Ae){var Te=typeof q;(Te==="undefined"||Te==="boolean")&&(q=null);var He=!1;if(q===null)He=!0;else switch(Te){case"bigint":case"string":case"number":He=!0;break;case"object":switch(q.$$typeof){case i:case e:He=!0;break;case S:return He=q._init,ae(He(q._payload),oe,ye,ve,Ae)}}if(He)return Ae=Ae(q),He=ve===""?"."+ct(q,0):ve,_e(Ae)?(ye="",He!=null&&(ye=He.replace(z,"$&/")+"/"),ae(Ae,oe,ye,"",function(br){return br})):Ae!=null&&(B(Ae)&&(Ae=H(Ae,ye+(Ae.key==null||q&&q.key===Ae.key?"":(""+Ae.key).replace(z,"$&/")+"/")+He)),oe.push(Ae)),1;He=0;var St=ve===""?".":ve+":";if(_e(q))for(var It=0;It<q.length;It++)ve=q[It],Te=St+ct(ve,It),He+=ae(ve,oe,ye,Te,Ae);else if(It=O(q),typeof It=="function")for(q=It.call(q),It=0;!(ve=q.next()).done;)ve=ve.value,Te=St+ct(ve,It++),He+=ae(ve,oe,ye,Te,Ae);else if(Te==="object"){if(typeof q.then=="function")return ae(rn(q),oe,ye,ve,Ae);throw oe=String(q),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return He}function be(q,oe,ye){if(q==null)return q;var ve=[],Ae=0;return ae(q,ve,"","",function(Te){return oe.call(ye,Te,Ae++)}),ve}function ge(q){if(q._status===-1){var oe=q._result;oe=oe(),oe.then(function(ye){(q._status===0||q._status===-1)&&(q._status=1,q._result=ye)},function(ye){(q._status===0||q._status===-1)&&(q._status=2,q._result=ye)}),q._status===-1&&(q._status=0,q._result=oe)}if(q._status===1)return q._result.default;throw q._result}var tt=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},Se={map:be,forEach:function(q,oe,ye){be(q,function(){oe.apply(this,arguments)},ye)},count:function(q){var oe=0;return be(q,function(){oe++}),oe},toArray:function(q){return be(q,function(oe){return oe})||[]},only:function(q){if(!B(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return Fe.Activity=w,Fe.Children=Se,Fe.Component=ce,Fe.Fragment=t,Fe.Profiler=l,Fe.PureComponent=J,Fe.StrictMode=s,Fe.Suspense=y,Fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Fe.__COMPILER_RUNTIME={__proto__:null,c:function(q){return k.H.useMemoCache(q)}},Fe.cache=function(q){return function(){return q.apply(null,arguments)}},Fe.cacheSignal=function(){return null},Fe.cloneElement=function(q,oe,ye){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var ve=$({},q.props),Ae=q.key;if(oe!=null)for(Te in oe.key!==void 0&&(Ae=""+oe.key),oe)!M.call(oe,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&oe.ref===void 0||(ve[Te]=oe[Te]);var Te=arguments.length-2;if(Te===1)ve.children=ye;else if(1<Te){for(var He=Array(Te),St=0;St<Te;St++)He[St]=arguments[St+2];ve.children=He}return D(q.type,Ae,ve)},Fe.createContext=function(q){return q={$$typeof:d,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:h,_context:q},q},Fe.createElement=function(q,oe,ye){var ve,Ae={},Te=null;if(oe!=null)for(ve in oe.key!==void 0&&(Te=""+oe.key),oe)M.call(oe,ve)&&ve!=="key"&&ve!=="__self"&&ve!=="__source"&&(Ae[ve]=oe[ve]);var He=arguments.length-2;if(He===1)Ae.children=ye;else if(1<He){for(var St=Array(He),It=0;It<He;It++)St[It]=arguments[It+2];Ae.children=St}if(q&&q.defaultProps)for(ve in He=q.defaultProps,He)Ae[ve]===void 0&&(Ae[ve]=He[ve]);return D(q,Te,Ae)},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(q){return{$$typeof:v,render:q}},Fe.isValidElement=B,Fe.lazy=function(q){return{$$typeof:S,_payload:{_status:-1,_result:q},_init:ge}},Fe.memo=function(q,oe){return{$$typeof:x,type:q,compare:oe===void 0?null:oe}},Fe.startTransition=function(q){var oe=k.T,ye={};k.T=ye;try{var ve=q(),Ae=k.S;Ae!==null&&Ae(ye,ve),typeof ve=="object"&&ve!==null&&typeof ve.then=="function"&&ve.then(Ee,tt)}catch(Te){tt(Te)}finally{oe!==null&&ye.types!==null&&(oe.types=ye.types),k.T=oe}},Fe.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Fe.use=function(q){return k.H.use(q)},Fe.useActionState=function(q,oe,ye){return k.H.useActionState(q,oe,ye)},Fe.useCallback=function(q,oe){return k.H.useCallback(q,oe)},Fe.useContext=function(q){return k.H.useContext(q)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(q,oe){return k.H.useDeferredValue(q,oe)},Fe.useEffect=function(q,oe){return k.H.useEffect(q,oe)},Fe.useEffectEvent=function(q){return k.H.useEffectEvent(q)},Fe.useId=function(){return k.H.useId()},Fe.useImperativeHandle=function(q,oe,ye){return k.H.useImperativeHandle(q,oe,ye)},Fe.useInsertionEffect=function(q,oe){return k.H.useInsertionEffect(q,oe)},Fe.useLayoutEffect=function(q,oe){return k.H.useLayoutEffect(q,oe)},Fe.useMemo=function(q,oe){return k.H.useMemo(q,oe)},Fe.useOptimistic=function(q,oe){return k.H.useOptimistic(q,oe)},Fe.useReducer=function(q,oe,ye){return k.H.useReducer(q,oe,ye)},Fe.useRef=function(q){return k.H.useRef(q)},Fe.useState=function(q){return k.H.useState(q)},Fe.useSyncExternalStore=function(q,oe,ye){return k.H.useSyncExternalStore(q,oe,ye)},Fe.useTransition=function(){return k.H.useTransition()},Fe.version="19.2.1",Fe}var mx;function Wg(){return mx||(mx=1,zp.exports=RS()),zp.exports}var j=Wg();const _r=lh(j);var Up={exports:{}},Su={},Bp={exports:{}},qp={};var px;function IS(){return px||(px=1,(function(i){function e(ae,be){var ge=ae.length;ae.push(be);e:for(;0<ge;){var tt=ge-1>>>1,Se=ae[tt];if(0<l(Se,be))ae[tt]=be,ae[ge]=Se,ge=tt;else break e}}function t(ae){return ae.length===0?null:ae[0]}function s(ae){if(ae.length===0)return null;var be=ae[0],ge=ae.pop();if(ge!==be){ae[0]=ge;e:for(var tt=0,Se=ae.length,q=Se>>>1;tt<q;){var oe=2*(tt+1)-1,ye=ae[oe],ve=oe+1,Ae=ae[ve];if(0>l(ye,ge))ve<Se&&0>l(Ae,ye)?(ae[tt]=Ae,ae[ve]=ge,tt=ve):(ae[tt]=ye,ae[oe]=ge,tt=oe);else if(ve<Se&&0>l(Ae,ge))ae[tt]=Ae,ae[ve]=ge,tt=ve;else break e}}return be}function l(ae,be){var ge=ae.sortIndex-be.sortIndex;return ge!==0?ge:ae.id-be.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;i.unstable_now=function(){return h.now()}}else{var d=Date,v=d.now();i.unstable_now=function(){return d.now()-v}}var y=[],x=[],S=1,w=null,N=3,O=!1,K=!1,$=!1,Z=!1,ce=typeof setTimeout=="function"?setTimeout:null,pe=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function X(ae){for(var be=t(x);be!==null;){if(be.callback===null)s(x);else if(be.startTime<=ae)s(x),be.sortIndex=be.expirationTime,e(y,be);else break;be=t(x)}}function _e(ae){if($=!1,X(ae),!K)if(t(y)!==null)K=!0,Ee||(Ee=!0,G());else{var be=t(x);be!==null&&rn(_e,be.startTime-ae)}}var Ee=!1,k=-1,M=5,D=-1;function H(){return Z?!0:!(i.unstable_now()-D<M)}function B(){if(Z=!1,Ee){var ae=i.unstable_now();D=ae;var be=!0;try{e:{K=!1,$&&($=!1,pe(k),k=-1),O=!0;var ge=N;try{t:{for(X(ae),w=t(y);w!==null&&!(w.expirationTime>ae&&H());){var tt=w.callback;if(typeof tt=="function"){w.callback=null,N=w.priorityLevel;var Se=tt(w.expirationTime<=ae);if(ae=i.unstable_now(),typeof Se=="function"){w.callback=Se,X(ae),be=!0;break t}w===t(y)&&s(y),X(ae)}else s(y);w=t(y)}if(w!==null)be=!0;else{var q=t(x);q!==null&&rn(_e,q.startTime-ae),be=!1}}break e}finally{w=null,N=ge,O=!1}be=void 0}}finally{be?G():Ee=!1}}}var G;if(typeof J=="function")G=function(){J(B)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,ct=z.port2;z.port1.onmessage=B,G=function(){ct.postMessage(null)}}else G=function(){ce(B,0)};function rn(ae,be){k=ce(function(){ae(i.unstable_now())},be)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ae){ae.callback=null},i.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<ae?Math.floor(1e3/ae):5},i.unstable_getCurrentPriorityLevel=function(){return N},i.unstable_next=function(ae){switch(N){case 1:case 2:case 3:var be=3;break;default:be=N}var ge=N;N=be;try{return ae()}finally{N=ge}},i.unstable_requestPaint=function(){Z=!0},i.unstable_runWithPriority=function(ae,be){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var ge=N;N=ae;try{return be()}finally{N=ge}},i.unstable_scheduleCallback=function(ae,be,ge){var tt=i.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?tt+ge:tt):ge=tt,ae){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=ge+Se,ae={id:S++,callback:be,priorityLevel:ae,startTime:ge,expirationTime:Se,sortIndex:-1},ge>tt?(ae.sortIndex=ge,e(x,ae),t(y)===null&&ae===t(x)&&($?(pe(k),k=-1):$=!0,rn(_e,ge-tt))):(ae.sortIndex=Se,e(y,ae),K||O||(K=!0,Ee||(Ee=!0,G()))),ae},i.unstable_shouldYield=H,i.unstable_wrapCallback=function(ae){var be=N;return function(){var ge=N;N=be;try{return ae.apply(this,arguments)}finally{N=ge}}}})(qp)),qp}var gx;function PS(){return gx||(gx=1,Bp.exports=IS()),Bp.exports}var Hp={exports:{}},Fn={};var _x;function MS(){if(_x)return Fn;_x=1;var i=Wg();function e(y){var x="https://react.dev/errors/"+y;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)x+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+y+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(y,x,S){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:y,containerInfo:x,implementation:S}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(y,x){if(y==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return Fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Fn.createPortal=function(y,x){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(e(299));return h(y,x,null,S)},Fn.flushSync=function(y){var x=d.T,S=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=x,s.p=S,s.d.f()}},Fn.preconnect=function(y,x){typeof y=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,s.d.C(y,x))},Fn.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Fn.preinit=function(y,x){if(typeof y=="string"&&x&&typeof x.as=="string"){var S=x.as,w=v(S,x.crossOrigin),N=typeof x.integrity=="string"?x.integrity:void 0,O=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;S==="style"?s.d.S(y,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:w,integrity:N,fetchPriority:O}):S==="script"&&s.d.X(y,{crossOrigin:w,integrity:N,fetchPriority:O,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},Fn.preinitModule=function(y,x){if(typeof y=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var S=v(x.as,x.crossOrigin);s.d.M(y,{crossOrigin:S,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&s.d.M(y)},Fn.preload=function(y,x){if(typeof y=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var S=x.as,w=v(S,x.crossOrigin);s.d.L(y,S,{crossOrigin:w,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},Fn.preloadModule=function(y,x){if(typeof y=="string")if(x){var S=v(x.as,x.crossOrigin);s.d.m(y,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:S,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else s.d.m(y)},Fn.requestFormReset=function(y){s.d.r(y)},Fn.unstable_batchedUpdates=function(y,x){return y(x)},Fn.useFormState=function(y,x,S){return d.H.useFormState(y,x,S)},Fn.useFormStatus=function(){return d.H.useHostTransitionStatus()},Fn.version="19.2.1",Fn}var yx;function PE(){if(yx)return Hp.exports;yx=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Hp.exports=MS(),Hp.exports}var vx;function OS(){if(vx)return Su;vx=1;var i=PS(),e=Wg(),t=PE();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function h(n){var r=n,o=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(o=r.return),n=r.return;while(n)}return r.tag===3?o:null}function d(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function v(n){if(n.tag===31){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function y(n){if(h(n)!==n)throw Error(s(188))}function x(n){var r=n.alternate;if(!r){if(r=h(n),r===null)throw Error(s(188));return r!==n?null:n}for(var o=n,u=r;;){var p=o.return;if(p===null)break;var _=p.alternate;if(_===null){if(u=p.return,u!==null){o=u;continue}break}if(p.child===_.child){for(_=p.child;_;){if(_===o)return y(p),n;if(_===u)return y(p),r;_=_.sibling}throw Error(s(188))}if(o.return!==u.return)o=p,u=_;else{for(var A=!1,I=p.child;I;){if(I===o){A=!0,o=p,u=_;break}if(I===u){A=!0,u=p,o=_;break}I=I.sibling}if(!A){for(I=_.child;I;){if(I===o){A=!0,o=_,u=p;break}if(I===u){A=!0,u=_,o=p;break}I=I.sibling}if(!A)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?n:r}function S(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=S(n),r!==null)return r;n=n.sibling}return null}var w=Object.assign,N=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),K=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),ce=Symbol.for("react.profiler"),pe=Symbol.for("react.consumer"),J=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),_e=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function G(n){return n===null||typeof n!="object"?null:(n=B&&n[B]||n["@@iterator"],typeof n=="function"?n:null)}var z=Symbol.for("react.client.reference");function ct(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===z?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case $:return"Fragment";case ce:return"Profiler";case Z:return"StrictMode";case _e:return"Suspense";case Ee:return"SuspenseList";case D:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case K:return"Portal";case J:return n.displayName||"Context";case pe:return(n._context.displayName||"Context")+".Consumer";case X:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case k:return r=n.displayName||null,r!==null?r:ct(n.type)||"Memo";case M:r=n._payload,n=n._init;try{return ct(n(r))}catch{}}return null}var rn=Array.isArray,ae=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},tt=[],Se=-1;function q(n){return{current:n}}function oe(n){0>Se||(n.current=tt[Se],tt[Se]=null,Se--)}function ye(n,r){Se++,tt[Se]=n.current,n.current=r}var ve=q(null),Ae=q(null),Te=q(null),He=q(null);function St(n,r){switch(ye(Te,r),ye(Ae,n),ye(ve,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?L0(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=L0(r),n=k0(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}oe(ve),ye(ve,n)}function It(){oe(ve),oe(Ae),oe(Te)}function br(n){n.memoizedState!==null&&ye(He,n);var r=ve.current,o=k0(r,n.type);r!==o&&(ye(Ae,n),ye(ve,o))}function Gr(n){Ae.current===n&&(oe(ve),oe(Ae)),He.current===n&&(oe(He),bu._currentValue=ge)}var Zi,Zr;function Ki(n){if(Zi===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Zi=r&&r[1]||"",Zr=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zi+n+Zr}var oa=!1;function Kr(n,r){if(!n||oa)return"";oa=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(se){var ie=se}Reflect.construct(n,[],fe)}else{try{fe.call()}catch(se){ie=se}n.call(fe.prototype)}}else{try{throw Error()}catch(se){ie=se}(fe=n())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(se){if(se&&ie&&typeof se.stack=="string")return[se.stack,ie.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=u.DetermineComponentFrameRoot(),A=_[0],I=_[1];if(A&&I){var U=A.split(`
`),te=I.split(`
`);for(p=u=0;u<U.length&&!U[u].includes("DetermineComponentFrameRoot");)u++;for(;p<te.length&&!te[p].includes("DetermineComponentFrameRoot");)p++;if(u===U.length||p===te.length)for(u=U.length-1,p=te.length-1;1<=u&&0<=p&&U[u]!==te[p];)p--;for(;1<=u&&0<=p;u--,p--)if(U[u]!==te[p]){if(u!==1||p!==1)do if(u--,p--,0>p||U[u]!==te[p]){var le=`
`+U[u].replace(" at new "," at ");return n.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",n.displayName)),le}while(1<=u&&0<=p);break}}}finally{oa=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?Ki(o):""}function As(n,r){switch(n.tag){case 26:case 27:case 5:return Ki(n.type);case 16:return Ki("Lazy");case 13:return n.child!==r&&r!==null?Ki("Suspense Fallback"):Ki("Suspense");case 19:return Ki("SuspenseList");case 0:case 15:return Kr(n.type,!1);case 11:return Kr(n.type.render,!1);case 1:return Kr(n.type,!0);case 31:return Ki("Activity");default:return""}}function Yr(n){try{var r="",o=null;do r+=As(n,o),o=n,n=n.return;while(n);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Yt=Object.prototype.hasOwnProperty,Qt=i.unstable_scheduleCallback,Yi=i.unstable_cancelCallback,bl=i.unstable_shouldYield,xo=i.unstable_requestPaint,Pn=i.unstable_now,Ss=i.unstable_getCurrentPriorityLevel,Cs=i.unstable_ImmediatePriority,la=i.unstable_UserBlockingPriority,Er=i.unstable_NormalPriority,Uc=i.unstable_LowPriority,bo=i.unstable_IdlePriority,Eo=i.log,El=i.unstable_setDisableYieldValue,ri=null,sn=null;function Qn(n){if(typeof Eo=="function"&&El(n),sn&&typeof sn.setStrictMode=="function")try{sn.setStrictMode(ri,n)}catch{}}var qt=Math.clz32?Math.clz32:wl,Qr=Math.log,ca=Math.LN2;function wl(n){return n>>>=0,n===0?32:31-(Qr(n)/ca|0)|0}var Ti=256,$r=262144,Ht=4194304;function Qi(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function $i(n,r,o){var u=n.pendingLanes;if(u===0)return 0;var p=0,_=n.suspendedLanes,A=n.pingedLanes;n=n.warmLanes;var I=u&134217727;return I!==0?(u=I&~_,u!==0?p=Qi(u):(A&=I,A!==0?p=Qi(A):o||(o=I&~n,o!==0&&(p=Qi(o))))):(I=u&~_,I!==0?p=Qi(I):A!==0?p=Qi(A):o||(o=u&~n,o!==0&&(p=Qi(o)))),p===0?0:r!==0&&r!==p&&(r&_)===0&&(_=p&-p,o=r&-r,_>=o||_===32&&(o&4194048)!==0)?r:p}function Ai(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Bc(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tl(){var n=Ht;return Ht<<=1,(Ht&62914560)===0&&(Ht=4194304),n}function Xi(n){for(var r=[],o=0;31>o;o++)r.push(n);return r}function wr(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function qc(n,r,o,u,p,_){var A=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var I=n.entanglements,U=n.expirationTimes,te=n.hiddenUpdates;for(o=A&~o;0<o;){var le=31-qt(o),fe=1<<le;I[le]=0,U[le]=-1;var ie=te[le];if(ie!==null)for(te[le]=null,le=0;le<ie.length;le++){var se=ie[le];se!==null&&(se.lane&=-536870913)}o&=~fe}u!==0&&Ns(n,u,0),_!==0&&p===0&&n.tag!==0&&(n.suspendedLanes|=_&~(A&~r))}function Ns(n,r,o){n.pendingLanes|=r,n.suspendedLanes&=~r;var u=31-qt(r);n.entangledLanes|=r,n.entanglements[u]=n.entanglements[u]|1073741824|o&261930}function wo(n,r){var o=n.entangledLanes|=r;for(n=n.entanglements;o;){var u=31-qt(o),p=1<<u;p&r|n[u]&r&&(n[u]|=r),o&=~p}}function To(n,r){var o=r&-r;return o=(o&42)!==0?1:En(o),(o&(n.suspendedLanes|r))!==0?0:o}function En(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Ie(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Ao(){var n=be.p;return n!==0?n:(n=window.event,n===void 0?32:rx(n.type))}function si(n,r){var o=be.p;try{return be.p=n,r()}finally{be.p=o}}var ai=Math.random().toString(36).slice(2),Ft="__reactFiber$"+ai,$t="__reactProps$"+ai,Si="__reactContainer$"+ai,Ci="__reactEvents$"+ai,Al="__reactListeners$"+ai,Sl="__reactHandles$"+ai,Cl="__reactResources$"+ai,Wi="__reactMarker$"+ai;function ua(n){delete n[Ft],delete n[$t],delete n[Ci],delete n[Al],delete n[Sl]}function Ni(n){var r=n[Ft];if(r)return r;for(var o=n.parentNode;o;){if(r=o[Si]||o[Ft]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(n=q0(n);n!==null;){if(o=n[Ft])return o;n=q0(n)}return r}n=o,o=n.parentNode}return null}function oi(n){if(n=n[Ft]||n[Si]){var r=n.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return n}return null}function wn(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function Ji(n){var r=n[Cl];return r||(r=n[Cl]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Xt(n){n[Wi]=!0}var So=new Set,Co={};function er(n,r){li(n,r),li(n+"Capture",r)}function li(n,r){for(Co[n]=r,n=0;n<r.length;n++)So.add(r[n])}var Tr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ha={},da={};function Xr(n){return Yt.call(da,n)?!0:Yt.call(ha,n)?!1:Tr.test(n)?da[n]=!0:(ha[n]=!0,!1)}function $e(n,r,o){if(Xr(r))if(o===null)n.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+o)}}function Xe(n,r,o){if(o===null)n.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+o)}}function kt(n,r,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(r,o,""+u)}}function Dt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function $n(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Rs(n,r,o){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,r);if(!n.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,_=u.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return p.call(this)},set:function(A){o=""+A,_.call(this,A)}}),Object.defineProperty(n,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(A){o=""+A},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Ne(n){if(!n._valueTracker){var r=$n(n)?"checked":"value";n._valueTracker=Rs(n,r,""+n[r])}}function bt(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return n&&(u=$n(n)?n.checked?"true":"false":n.value),n=u,n!==o?(r.setValue(n),!0):!1}function ci(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var tr=/[\n"\\]/g;function Pt(n){return n.replace(tr,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function fa(n,r,o,u,p,_,A,I){n.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?n.type=A:n.removeAttribute("type"),r!=null?A==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+Dt(r)):n.value!==""+Dt(r)&&(n.value=""+Dt(r)):A!=="submit"&&A!=="reset"||n.removeAttribute("value"),r!=null?Ri(n,A,Dt(r)):o!=null?Ri(n,A,Dt(o)):u!=null&&n.removeAttribute("value"),p==null&&_!=null&&(n.defaultChecked=!!_),p!=null&&(n.checked=p&&typeof p!="function"&&typeof p!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?n.name=""+Dt(I):n.removeAttribute("name")}function Is(n,r,o,u,p,_,A,I){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.type=_),r!=null||o!=null){if(!(_!=="submit"&&_!=="reset"||r!=null)){Ne(n);return}o=o!=null?""+Dt(o):"",r=r!=null?""+Dt(r):o,I||r===n.value||(n.value=r),n.defaultValue=r}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=I?n.checked:!!u,n.defaultChecked=!!u,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(n.name=A),Ne(n)}function Ri(n,r,o){r==="number"&&ci(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function Et(n,r,o,u){if(n=n.options,r){r={};for(var p=0;p<o.length;p++)r["$"+o[p]]=!0;for(o=0;o<n.length;o++)p=r.hasOwnProperty("$"+n[o].value),n[o].selected!==p&&(n[o].selected=p),p&&u&&(n[o].defaultSelected=!0)}else{for(o=""+Dt(o),r=null,p=0;p<n.length;p++){if(n[p].value===o){n[p].selected=!0,u&&(n[p].defaultSelected=!0);return}r!==null||n[p].disabled||(r=n[p])}r!==null&&(r.selected=!0)}}function nr(n,r,o){if(r!=null&&(r=""+Dt(r),r!==n.value&&(n.value=r),o==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=o!=null?""+Dt(o):""}function ui(n,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(rn(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=Dt(r),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u),Ne(n)}function un(n,r){if(r){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=r;return}}n.textContent=r}var ma=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ar(n,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":u?n.setProperty(r,o):typeof o!="number"||o===0||ma.has(r)?r==="float"?n.cssFloat=o:n[r]=(""+o).trim():n[r]=o+"px"}function Ps(n,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var p in r)u=r[p],r.hasOwnProperty(p)&&o[p]!==u&&Ar(n,p,u)}else for(var _ in r)r.hasOwnProperty(_)&&Ar(n,_,r[_])}function Wr(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ms=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ir=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Jr(n){return ir.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Vn(){}var pa=null;function zn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var es=null,je=null;function Tn(n){var r=oi(n);if(r&&(n=r.stateNode)){var o=n[$t]||null;e:switch(n=r.stateNode,r.type){case"input":if(fa(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Pt(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==n&&u.form===n.form){var p=u[$t]||null;if(!p)throw Error(s(90));fa(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===n.form&&bt(u)}break e;case"textarea":nr(n,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Et(n,!!o.multiple,r,!1)}}}var mt=!1;function Sr(n,r,o){if(mt)return n(r,o);mt=!0;try{var u=n(r);return u}finally{if(mt=!1,(es!==null||je!==null)&&(od(),es&&(r=es,n=je,je=es=null,Tn(r),n)))for(r=0;r<n.length;r++)Tn(n[r])}}function Xn(n,r){var o=n.stateNode;if(o===null)return null;var u=o[$t]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cr=!1;if(Un)try{var nt={};Object.defineProperty(nt,"passive",{get:function(){Cr=!0}}),window.addEventListener("test",nt,nt),window.removeEventListener("test",nt,nt)}catch{Cr=!1}var hi=null,Nr=null,jt=null;function Ii(){if(jt)return jt;var n,r=Nr,o=r.length,u,p="value"in hi?hi.value:hi.textContent,_=p.length;for(n=0;n<o&&r[n]===p[n];n++);var A=o-n;for(u=1;u<=A&&r[o-u]===p[_-u];u++);return jt=p.slice(n,1<u?1-u:void 0)}function ts(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function rr(){return!0}function Pi(){return!1}function hn(n){function r(o,u,p,_,A){this._reactName=o,this._targetInst=p,this.type=u,this.nativeEvent=_,this.target=A,this.currentTarget=null;for(var I in n)n.hasOwnProperty(I)&&(o=n[I],this[I]=o?o(_):_[I]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?rr:Pi,this.isPropagationStopped=Pi,this}return w(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),r}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sr=hn(Mi),Rr=w({},Mi,{view:0,detail:0}),Qe=hn(Rr),ns,An,Bn,Os=w({},Rr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:is,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Bn&&(Bn&&n.type==="mousemove"?(ns=n.screenX-Bn.screenX,An=n.screenY-Bn.screenY):An=ns=0,Bn=n),ns)},movementY:function(n){return"movementY"in n?n.movementY:An}}),No=hn(Os),Ir=w({},Os,{dataTransfer:0}),Nl=hn(Ir),Ro=w({},Rr,{relatedTarget:0}),Ls=hn(Ro),Io=w({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),ga=hn(Io),_a=w({},Mi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Wn=hn(_a),Rl=w({},Mi,{data:0}),Oi=hn(Rl),Li={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Po={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ya(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Mo[n])?!!r[n]:!1}function is(){return ya}var Sn=w({},Rr,{key:function(n){if(n.key){var r=Li[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=ts(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Po[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:is,charCode:function(n){return n.type==="keypress"?ts(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ts(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Oo=hn(Sn),Il=w({},Os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pr=hn(Il),f=w({},Rr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:is}),E=hn(f),C=w({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),P=hn(C),W=w({},Os,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),re=hn(W),xe=w({},Mi,{newState:0,oldState:0}),Be=hn(xe),ut=[9,13,27,32],ht=Un&&"CompositionEvent"in window,Mt=null;Un&&"documentMode"in document&&(Mt=document.documentMode);var di=Un&&"TextEvent"in window&&!Mt,fi=Un&&(!ht||Mt&&8<Mt&&11>=Mt),Jn=" ",ki=!1;function ks(n,r){switch(n){case"keyup":return ut.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ds(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var va=!1;function Di(n,r){switch(n){case"compositionend":return Ds(r);case"keypress":return r.which!==32?null:(ki=!0,Jn);case"textInput":return n=r.data,n===Jn&&ki?null:n;default:return null}}function xa(n,r){if(va)return n==="compositionend"||!ht&&ks(n,r)?(n=Ii(),jt=Nr=hi=null,va=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return fi&&r.locale!=="ko"?null:r.data;default:return null}}var nm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ar(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!nm[n.type]:r==="textarea"}function Th(n,r,o,u){es?je?je.push(u):je=[u]:es=u,r=md(r,"onChange"),0<r.length&&(o=new sr("onChange","change",null,o,u),n.push({event:o,listeners:r}))}var or=null,Lo=null;function ko(n){N0(n,0)}function Do(n){var r=wn(n);if(bt(r))return n}function jo(n,r){if(n==="change")return r}var Ah=!1;if(Un){var lr;if(Un){var ba="oninput"in document;if(!ba){var Sh=document.createElement("div");Sh.setAttribute("oninput","return;"),ba=typeof Sh.oninput=="function"}lr=ba}else lr=!1;Ah=lr&&(!document.documentMode||9<document.documentMode)}function Pl(){or&&(or.detachEvent("onpropertychange",Ch),Lo=or=null)}function Ch(n){if(n.propertyName==="value"&&Do(Lo)){var r=[];Th(r,Lo,n,zn(n)),Sr(ko,r)}}function Mr(n,r,o){n==="focusin"?(Pl(),or=r,Lo=o,or.attachEvent("onpropertychange",Ch)):n==="focusout"&&Pl()}function im(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Do(Lo)}function Ea(n,r){if(n==="click")return Do(r)}function rm(n,r){if(n==="input"||n==="change")return Do(r)}function Or(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Cn=typeof Object.is=="function"?Object.is:Or;function wa(n,r){if(Cn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var o=Object.keys(n),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var p=o[u];if(!Yt.call(r,p)||!Cn(n[p],r[p]))return!1}return!0}function Ml(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Vo(n,r){var o=Ml(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=r&&u>=r)return{node:o,offset:r-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Ml(o)}}function Ol(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Ol(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function zo(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=ci(n.document);r instanceof n.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)n=r.contentWindow;else break;r=ci(n.document)}return r}function rs(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var Ll=Un&&"documentMode"in document&&11>=document.documentMode,ss=null,kl=null,Uo=null,Ta=!1;function Nh(n,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ta||ss==null||ss!==ci(u)||(u=ss,"selectionStart"in u&&rs(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Uo&&wa(Uo,u)||(Uo=u,u=md(kl,"onSelect"),0<u.length&&(r=new sr("onSelect","select",null,r,o),n.push({event:r,listeners:u}),r.target=ss)))}function as(n,r){var o={};return o[n.toLowerCase()]=r.toLowerCase(),o["Webkit"+n]="webkit"+r,o["Moz"+n]="moz"+r,o}var Aa={animationend:as("Animation","AnimationEnd"),animationiteration:as("Animation","AnimationIteration"),animationstart:as("Animation","AnimationStart"),transitionrun:as("Transition","TransitionRun"),transitionstart:as("Transition","TransitionStart"),transitioncancel:as("Transition","TransitionCancel"),transitionend:as("Transition","TransitionEnd")},Dl={},Rh={};Un&&(Rh=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function Nn(n){if(Dl[n])return Dl[n];if(!Aa[n])return n;var r=Aa[n],o;for(o in r)if(r.hasOwnProperty(o)&&o in Rh)return Dl[n]=r[o];return n}var Bo=Nn("animationend"),Ih=Nn("animationiteration"),qo=Nn("animationstart"),sm=Nn("transitionrun"),Ph=Nn("transitionstart"),am=Nn("transitioncancel"),Sa=Nn("transitionend"),Mh=new Map,os="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");os.push("scrollEnd");function mi(n,r){Mh.set(n,r),er(r,[n])}var Ho=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},pi=[],qn=0,jl=0;function Fo(){for(var n=qn,r=jl=qn=0;r<n;){var o=pi[r];pi[r++]=null;var u=pi[r];pi[r++]=null;var p=pi[r];pi[r++]=null;var _=pi[r];if(pi[r++]=null,u!==null&&p!==null){var A=u.pending;A===null?p.next=p:(p.next=A.next,A.next=p),u.pending=p}_!==0&&Ca(o,p,_)}}function ls(n,r,o,u){pi[qn++]=n,pi[qn++]=r,pi[qn++]=o,pi[qn++]=u,jl|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Hc(n,r,o,u){return ls(n,r,o,u),Go(n)}function cr(n,r){return ls(n,null,null,r),Go(n)}function Ca(n,r,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var p=!1,_=n.return;_!==null;)_.childLanes|=o,u=_.alternate,u!==null&&(u.childLanes|=o),_.tag===22&&(n=_.stateNode,n===null||n._visibility&1||(p=!0)),n=_,_=_.return;return n.tag===3?(_=n.stateNode,p&&r!==null&&(p=31-qt(o),n=_.hiddenUpdates,u=n[p],u===null?n[p]=[r]:u.push(r),r.lane=o|536870912),_):null}function Go(n){if(50<mu)throw mu=0,lp=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var js={};function om(n,r,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(n,r,o,u){return new om(n,r,o,u)}function Vl(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ur(n,r){var o=n.alternate;return o===null?(o=Hn(n.tag,r,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=r,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,r=n.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function Fc(n,r){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,r=o.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Zo(n,r,o,u,p,_){var A=0;if(u=n,typeof n=="function")Vl(n)&&(A=1);else if(typeof n=="string")A=pS(n,o,ve.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case D:return n=Hn(31,o,r,p),n.elementType=D,n.lanes=_,n;case $:return Vs(o.children,p,_,r);case Z:A=8,p|=24;break;case ce:return n=Hn(12,o,r,p|2),n.elementType=ce,n.lanes=_,n;case _e:return n=Hn(13,o,r,p),n.elementType=_e,n.lanes=_,n;case Ee:return n=Hn(19,o,r,p),n.elementType=Ee,n.lanes=_,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case J:A=10;break e;case pe:A=9;break e;case X:A=11;break e;case k:A=14;break e;case M:A=16,u=null;break e}A=29,o=Error(s(130,n===null?"null":typeof n,"")),u=null}return r=Hn(A,o,r,p),r.elementType=n,r.type=u,r.lanes=_,r}function Vs(n,r,o,u){return n=Hn(7,n,u,r),n.lanes=o,n}function zl(n,r,o){return n=Hn(6,n,null,r),n.lanes=o,n}function Gc(n){var r=Hn(18,null,null,0);return r.stateNode=n,r}function Zc(n,r,o){return r=Hn(4,n.children!==null?n.children:[],n.key,r),r.lanes=o,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var a=new WeakMap;function c(n,r){if(typeof n=="object"&&n!==null){var o=a.get(n);return o!==void 0?o:(r={value:n,source:r,stack:Yr(r)},a.set(n,r),r)}return{value:n,source:r,stack:Yr(r)}}var m=[],b=0,T=null,R=0,V=[],Q=0,ne=null,de=1,we="";function Oe(n,r){m[b++]=R,m[b++]=T,T=n,R=r}function Ke(n,r,o){V[Q++]=de,V[Q++]=we,V[Q++]=ne,ne=n;var u=de;n=we;var p=32-qt(u)-1;u&=~(1<<p),o+=1;var _=32-qt(r)+p;if(30<_){var A=p-p%5;_=(u&(1<<A)-1).toString(32),u>>=A,p-=A,de=1<<32-qt(r)+p|o<<p|u,we=_+n}else de=1<<_|o<<p|u,we=n}function vn(n){n.return!==null&&(Oe(n,1),Ke(n,1,0))}function Wt(n){for(;n===T;)T=m[--b],m[b]=null,R=m[--b],m[b]=null;for(;n===ne;)ne=V[--Q],V[Q]=null,we=V[--Q],V[Q]=null,de=V[--Q],V[Q]=null}function ei(n,r){V[Q++]=de,V[Q++]=we,V[Q++]=ne,de=r.id,we=r.overflow,ne=n}var pt=null,gt=null,We=!1,cs=null,gi=!1,Ul=Error(s(519));function us(n){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ko(c(r,n)),Ul}function Kc(n){var r=n.stateNode,o=n.type,u=n.memoizedProps;switch(r[Ft]=n,r[$t]=u,o){case"dialog":et("cancel",r),et("close",r);break;case"iframe":case"object":case"embed":et("load",r);break;case"video":case"audio":for(o=0;o<gu.length;o++)et(gu[o],r);break;case"source":et("error",r);break;case"img":case"image":case"link":et("error",r),et("load",r);break;case"details":et("toggle",r);break;case"input":et("invalid",r),Is(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":et("invalid",r);break;case"textarea":et("invalid",r),ui(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||M0(r.textContent,o)?(u.popover!=null&&(et("beforetoggle",r),et("toggle",r)),u.onScroll!=null&&et("scroll",r),u.onScrollEnd!=null&&et("scrollend",r),u.onClick!=null&&(r.onclick=Vn),r=!0):r=!1,r||us(n,!0)}function Gt(n){for(pt=n.return;pt;)switch(pt.tag){case 5:case 31:case 13:gi=!1;return;case 27:case 3:gi=!0;return;default:pt=pt.return}}function Lr(n){if(n!==pt)return!1;if(!We)return Gt(n),We=!0,!1;var r=n.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||wp(n.type,n.memoizedProps)),o=!o),o&&gt&&us(n),Gt(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));gt=B0(n)}else if(r===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));gt=B0(n)}else r===27?(r=gt,Ba(n.type)?(n=Np,Np=null,gt=n):gt=r):gt=pt?dr(n.stateNode.nextSibling):null;return!0}function zs(){gt=pt=null,We=!1}function Yc(){var n=cs;return n!==null&&(xi===null?xi=n:xi.push.apply(xi,n),cs=null),n}function Ko(n){cs===null?cs=[n]:cs.push(n)}var Yo=q(null),hs=null,kr=null;function Na(n,r,o){ye(Yo,r._currentValue),r._currentValue=o}function Us(n){n._currentValue=Yo.current,oe(Yo)}function lm(n,r,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),n===o)break;n=n.return}}function cm(n,r,o,u){var p=n.child;for(p!==null&&(p.return=n);p!==null;){var _=p.dependencies;if(_!==null){var A=p.child;_=_.firstContext;e:for(;_!==null;){var I=_;_=p;for(var U=0;U<r.length;U++)if(I.context===r[U]){_.lanes|=o,I=_.alternate,I!==null&&(I.lanes|=o),lm(_.return,o,n),u||(A=null);break e}_=I.next}}else if(p.tag===18){if(A=p.return,A===null)throw Error(s(341));A.lanes|=o,_=A.alternate,_!==null&&(_.lanes|=o),lm(A,o,n),A=null}else A=p.child;if(A!==null)A.return=p;else for(A=p;A!==null;){if(A===n){A=null;break}if(p=A.sibling,p!==null){p.return=A.return,A=p;break}A=A.return}p=A}}function Bl(n,r,o,u){n=null;for(var p=r,_=!1;p!==null;){if(!_){if((p.flags&524288)!==0)_=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var A=p.alternate;if(A===null)throw Error(s(387));if(A=A.memoizedProps,A!==null){var I=p.type;Cn(p.pendingProps.value,A.value)||(n!==null?n.push(I):n=[I])}}else if(p===He.current){if(A=p.alternate,A===null)throw Error(s(387));A.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(n!==null?n.push(bu):n=[bu])}p=p.return}n!==null&&cm(r,n,o,u),r.flags|=262144}function Oh(n){for(n=n.firstContext;n!==null;){if(!Cn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Qo(n){hs=n,kr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Mn(n){return _y(hs,n)}function Lh(n,r){return hs===null&&Qo(n),_y(n,r)}function _y(n,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},kr===null){if(n===null)throw Error(s(308));kr=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else kr=kr.next=r;return o}var hA=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){r.aborted=!0,n.forEach(function(o){return o()})}},dA=i.unstable_scheduleCallback,fA=i.unstable_NormalPriority,dn={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function um(){return{controller:new hA,data:new Map,refCount:0}}function Qc(n){n.refCount--,n.refCount===0&&dA(fA,function(){n.controller.abort()})}var $c=null,hm=0,ql=0,Hl=null;function mA(n,r){if($c===null){var o=$c=[];hm=0,ql=mp(),Hl={status:"pending",value:void 0,then:function(u){o.push(u)}}}return hm++,r.then(yy,yy),r}function yy(){if(--hm===0&&$c!==null){Hl!==null&&(Hl.status="fulfilled");var n=$c;$c=null,ql=0,Hl=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function pA(n,r){var o=[],u={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return n.then(function(){u.status="fulfilled",u.value=r;for(var p=0;p<o.length;p++)(0,o[p])(r)},function(p){for(u.status="rejected",u.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),u}var vy=ae.S;ae.S=function(n,r){n0=Pn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&mA(n,r),vy!==null&&vy(n,r)};var $o=q(null);function dm(){var n=$o.current;return n!==null?n:Ot.pooledCache}function kh(n,r){r===null?ye($o,$o.current):ye($o,r.pool)}function xy(){var n=dm();return n===null?null:{parent:dn._currentValue,pool:n}}var Fl=Error(s(460)),fm=Error(s(474)),Dh=Error(s(542)),jh={then:function(){}};function by(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Ey(n,r,o){switch(o=n[o],o===void 0?n.push(r):o!==r&&(r.then(Vn,Vn),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Ty(n),n;default:if(typeof r.status=="string")r.then(Vn,Vn);else{if(n=Ot,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(u){if(r.status==="pending"){var p=r;p.status="fulfilled",p.value=u}},function(u){if(r.status==="pending"){var p=r;p.status="rejected",p.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Ty(n),n}throw Wo=r,Fl}}function Xo(n){try{var r=n._init;return r(n._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Wo=o,Fl):o}}var Wo=null;function wy(){if(Wo===null)throw Error(s(459));var n=Wo;return Wo=null,n}function Ty(n){if(n===Fl||n===Dh)throw Error(s(483))}var Gl=null,Xc=0;function Vh(n){var r=Xc;return Xc+=1,Gl===null&&(Gl=[]),Ey(Gl,n,r)}function Wc(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function zh(n,r){throw r.$$typeof===N?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function Ay(n){function r(Y,F){if(n){var ee=Y.deletions;ee===null?(Y.deletions=[F],Y.flags|=16):ee.push(F)}}function o(Y,F){if(!n)return null;for(;F!==null;)r(Y,F),F=F.sibling;return null}function u(Y){for(var F=new Map;Y!==null;)Y.key!==null?F.set(Y.key,Y):F.set(Y.index,Y),Y=Y.sibling;return F}function p(Y,F){return Y=ur(Y,F),Y.index=0,Y.sibling=null,Y}function _(Y,F,ee){return Y.index=ee,n?(ee=Y.alternate,ee!==null?(ee=ee.index,ee<F?(Y.flags|=67108866,F):ee):(Y.flags|=67108866,F)):(Y.flags|=1048576,F)}function A(Y){return n&&Y.alternate===null&&(Y.flags|=67108866),Y}function I(Y,F,ee,ue){return F===null||F.tag!==6?(F=zl(ee,Y.mode,ue),F.return=Y,F):(F=p(F,ee),F.return=Y,F)}function U(Y,F,ee,ue){var Le=ee.type;return Le===$?le(Y,F,ee.props.children,ue,ee.key):F!==null&&(F.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===M&&Xo(Le)===F.type)?(F=p(F,ee.props),Wc(F,ee),F.return=Y,F):(F=Zo(ee.type,ee.key,ee.props,null,Y.mode,ue),Wc(F,ee),F.return=Y,F)}function te(Y,F,ee,ue){return F===null||F.tag!==4||F.stateNode.containerInfo!==ee.containerInfo||F.stateNode.implementation!==ee.implementation?(F=Zc(ee,Y.mode,ue),F.return=Y,F):(F=p(F,ee.children||[]),F.return=Y,F)}function le(Y,F,ee,ue,Le){return F===null||F.tag!==7?(F=Vs(ee,Y.mode,ue,Le),F.return=Y,F):(F=p(F,ee),F.return=Y,F)}function fe(Y,F,ee){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=zl(""+F,Y.mode,ee),F.return=Y,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case O:return ee=Zo(F.type,F.key,F.props,null,Y.mode,ee),Wc(ee,F),ee.return=Y,ee;case K:return F=Zc(F,Y.mode,ee),F.return=Y,F;case M:return F=Xo(F),fe(Y,F,ee)}if(rn(F)||G(F))return F=Vs(F,Y.mode,ee,null),F.return=Y,F;if(typeof F.then=="function")return fe(Y,Vh(F),ee);if(F.$$typeof===J)return fe(Y,Lh(Y,F),ee);zh(Y,F)}return null}function ie(Y,F,ee,ue){var Le=F!==null?F.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return Le!==null?null:I(Y,F,""+ee,ue);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case O:return ee.key===Le?U(Y,F,ee,ue):null;case K:return ee.key===Le?te(Y,F,ee,ue):null;case M:return ee=Xo(ee),ie(Y,F,ee,ue)}if(rn(ee)||G(ee))return Le!==null?null:le(Y,F,ee,ue,null);if(typeof ee.then=="function")return ie(Y,F,Vh(ee),ue);if(ee.$$typeof===J)return ie(Y,F,Lh(Y,ee),ue);zh(Y,ee)}return null}function se(Y,F,ee,ue,Le){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return Y=Y.get(ee)||null,I(F,Y,""+ue,Le);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case O:return Y=Y.get(ue.key===null?ee:ue.key)||null,U(F,Y,ue,Le);case K:return Y=Y.get(ue.key===null?ee:ue.key)||null,te(F,Y,ue,Le);case M:return ue=Xo(ue),se(Y,F,ee,ue,Le)}if(rn(ue)||G(ue))return Y=Y.get(ee)||null,le(F,Y,ue,Le,null);if(typeof ue.then=="function")return se(Y,F,ee,Vh(ue),Le);if(ue.$$typeof===J)return se(Y,F,ee,Lh(F,ue),Le);zh(F,ue)}return null}function Pe(Y,F,ee,ue){for(var Le=null,_t=null,Me=F,Ye=F=0,rt=null;Me!==null&&Ye<ee.length;Ye++){Me.index>Ye?(rt=Me,Me=null):rt=Me.sibling;var yt=ie(Y,Me,ee[Ye],ue);if(yt===null){Me===null&&(Me=rt);break}n&&Me&&yt.alternate===null&&r(Y,Me),F=_(yt,F,Ye),_t===null?Le=yt:_t.sibling=yt,_t=yt,Me=rt}if(Ye===ee.length)return o(Y,Me),We&&Oe(Y,Ye),Le;if(Me===null){for(;Ye<ee.length;Ye++)Me=fe(Y,ee[Ye],ue),Me!==null&&(F=_(Me,F,Ye),_t===null?Le=Me:_t.sibling=Me,_t=Me);return We&&Oe(Y,Ye),Le}for(Me=u(Me);Ye<ee.length;Ye++)rt=se(Me,Y,Ye,ee[Ye],ue),rt!==null&&(n&&rt.alternate!==null&&Me.delete(rt.key===null?Ye:rt.key),F=_(rt,F,Ye),_t===null?Le=rt:_t.sibling=rt,_t=rt);return n&&Me.forEach(function(Za){return r(Y,Za)}),We&&Oe(Y,Ye),Le}function Ve(Y,F,ee,ue){if(ee==null)throw Error(s(151));for(var Le=null,_t=null,Me=F,Ye=F=0,rt=null,yt=ee.next();Me!==null&&!yt.done;Ye++,yt=ee.next()){Me.index>Ye?(rt=Me,Me=null):rt=Me.sibling;var Za=ie(Y,Me,yt.value,ue);if(Za===null){Me===null&&(Me=rt);break}n&&Me&&Za.alternate===null&&r(Y,Me),F=_(Za,F,Ye),_t===null?Le=Za:_t.sibling=Za,_t=Za,Me=rt}if(yt.done)return o(Y,Me),We&&Oe(Y,Ye),Le;if(Me===null){for(;!yt.done;Ye++,yt=ee.next())yt=fe(Y,yt.value,ue),yt!==null&&(F=_(yt,F,Ye),_t===null?Le=yt:_t.sibling=yt,_t=yt);return We&&Oe(Y,Ye),Le}for(Me=u(Me);!yt.done;Ye++,yt=ee.next())yt=se(Me,Y,Ye,yt.value,ue),yt!==null&&(n&&yt.alternate!==null&&Me.delete(yt.key===null?Ye:yt.key),F=_(yt,F,Ye),_t===null?Le=yt:_t.sibling=yt,_t=yt);return n&&Me.forEach(function(SS){return r(Y,SS)}),We&&Oe(Y,Ye),Le}function Rt(Y,F,ee,ue){if(typeof ee=="object"&&ee!==null&&ee.type===$&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case O:e:{for(var Le=ee.key;F!==null;){if(F.key===Le){if(Le=ee.type,Le===$){if(F.tag===7){o(Y,F.sibling),ue=p(F,ee.props.children),ue.return=Y,Y=ue;break e}}else if(F.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===M&&Xo(Le)===F.type){o(Y,F.sibling),ue=p(F,ee.props),Wc(ue,ee),ue.return=Y,Y=ue;break e}o(Y,F);break}else r(Y,F);F=F.sibling}ee.type===$?(ue=Vs(ee.props.children,Y.mode,ue,ee.key),ue.return=Y,Y=ue):(ue=Zo(ee.type,ee.key,ee.props,null,Y.mode,ue),Wc(ue,ee),ue.return=Y,Y=ue)}return A(Y);case K:e:{for(Le=ee.key;F!==null;){if(F.key===Le)if(F.tag===4&&F.stateNode.containerInfo===ee.containerInfo&&F.stateNode.implementation===ee.implementation){o(Y,F.sibling),ue=p(F,ee.children||[]),ue.return=Y,Y=ue;break e}else{o(Y,F);break}else r(Y,F);F=F.sibling}ue=Zc(ee,Y.mode,ue),ue.return=Y,Y=ue}return A(Y);case M:return ee=Xo(ee),Rt(Y,F,ee,ue)}if(rn(ee))return Pe(Y,F,ee,ue);if(G(ee)){if(Le=G(ee),typeof Le!="function")throw Error(s(150));return ee=Le.call(ee),Ve(Y,F,ee,ue)}if(typeof ee.then=="function")return Rt(Y,F,Vh(ee),ue);if(ee.$$typeof===J)return Rt(Y,F,Lh(Y,ee),ue);zh(Y,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,F!==null&&F.tag===6?(o(Y,F.sibling),ue=p(F,ee),ue.return=Y,Y=ue):(o(Y,F),ue=zl(ee,Y.mode,ue),ue.return=Y,Y=ue),A(Y)):o(Y,F)}return function(Y,F,ee,ue){try{Xc=0;var Le=Rt(Y,F,ee,ue);return Gl=null,Le}catch(Me){if(Me===Fl||Me===Dh)throw Me;var _t=Hn(29,Me,null,Y.mode);return _t.lanes=ue,_t.return=Y,_t}finally{}}}var Jo=Ay(!0),Sy=Ay(!1),Ra=!1;function mm(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pm(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ia(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Pa(n,r,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(vt&2)!==0){var p=u.pending;return p===null?r.next=r:(r.next=p.next,p.next=r),u.pending=r,r=Go(n),Ca(n,null,o),r}return ls(n,u,r,o),Go(n)}function Jc(n,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=n.pendingLanes,o|=u,r.lanes=o,wo(n,o)}}function gm(n,r){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var p=null,_=null;if(o=o.firstBaseUpdate,o!==null){do{var A={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};_===null?p=_=A:_=_.next=A,o=o.next}while(o!==null);_===null?p=_=r:_=_.next=r}else p=_=r;o={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:_,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=r:n.next=r,o.lastBaseUpdate=r}var _m=!1;function eu(){if(_m){var n=Hl;if(n!==null)throw n}}function tu(n,r,o,u){_m=!1;var p=n.updateQueue;Ra=!1;var _=p.firstBaseUpdate,A=p.lastBaseUpdate,I=p.shared.pending;if(I!==null){p.shared.pending=null;var U=I,te=U.next;U.next=null,A===null?_=te:A.next=te,A=U;var le=n.alternate;le!==null&&(le=le.updateQueue,I=le.lastBaseUpdate,I!==A&&(I===null?le.firstBaseUpdate=te:I.next=te,le.lastBaseUpdate=U))}if(_!==null){var fe=p.baseState;A=0,le=te=U=null,I=_;do{var ie=I.lane&-536870913,se=ie!==I.lane;if(se?(it&ie)===ie:(u&ie)===ie){ie!==0&&ie===ql&&(_m=!0),le!==null&&(le=le.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var Pe=n,Ve=I;ie=r;var Rt=o;switch(Ve.tag){case 1:if(Pe=Ve.payload,typeof Pe=="function"){fe=Pe.call(Rt,fe,ie);break e}fe=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Ve.payload,ie=typeof Pe=="function"?Pe.call(Rt,fe,ie):Pe,ie==null)break e;fe=w({},fe,ie);break e;case 2:Ra=!0}}ie=I.callback,ie!==null&&(n.flags|=64,se&&(n.flags|=8192),se=p.callbacks,se===null?p.callbacks=[ie]:se.push(ie))}else se={lane:ie,tag:I.tag,payload:I.payload,callback:I.callback,next:null},le===null?(te=le=se,U=fe):le=le.next=se,A|=ie;if(I=I.next,I===null){if(I=p.shared.pending,I===null)break;se=I,I=se.next,se.next=null,p.lastBaseUpdate=se,p.shared.pending=null}}while(!0);le===null&&(U=fe),p.baseState=U,p.firstBaseUpdate=te,p.lastBaseUpdate=le,_===null&&(p.shared.lanes=0),Da|=A,n.lanes=A,n.memoizedState=fe}}function Cy(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function Ny(n,r){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)Cy(o[n],r)}var Zl=q(null),Uh=q(0);function Ry(n,r){n=Qs,ye(Uh,n),ye(Zl,r),Qs=n|r.baseLanes}function ym(){ye(Uh,Qs),ye(Zl,Zl.current)}function vm(){Qs=Uh.current,oe(Zl),oe(Uh)}var ji=q(null),hr=null;function Ma(n){var r=n.alternate;ye(an,an.current&1),ye(ji,n),hr===null&&(r===null||Zl.current!==null||r.memoizedState!==null)&&(hr=n)}function xm(n){ye(an,an.current),ye(ji,n),hr===null&&(hr=n)}function Iy(n){n.tag===22?(ye(an,an.current),ye(ji,n),hr===null&&(hr=n)):Oa()}function Oa(){ye(an,an.current),ye(ji,ji.current)}function Vi(n){oe(ji),hr===n&&(hr=null),oe(an)}var an=q(0);function Bh(n){for(var r=n;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Sp(o)||Cp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Bs=0,Ze=null,Ct=null,fn=null,qh=!1,Kl=!1,el=!1,Hh=0,nu=0,Yl=null,gA=0;function Jt(){throw Error(s(321))}function bm(n,r){if(r===null)return!1;for(var o=0;o<r.length&&o<n.length;o++)if(!Cn(n[o],r[o]))return!1;return!0}function Em(n,r,o,u,p,_){return Bs=_,Ze=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,ae.H=n===null||n.memoizedState===null?fv:jm,el=!1,_=o(u,p),el=!1,Kl&&(_=My(r,o,u,p)),Py(n),_}function Py(n){ae.H=su;var r=Ct!==null&&Ct.next!==null;if(Bs=0,fn=Ct=Ze=null,qh=!1,nu=0,Yl=null,r)throw Error(s(300));n===null||mn||(n=n.dependencies,n!==null&&Oh(n)&&(mn=!0))}function My(n,r,o,u){Ze=n;var p=0;do{if(Kl&&(Yl=null),nu=0,Kl=!1,25<=p)throw Error(s(301));if(p+=1,fn=Ct=null,n.updateQueue!=null){var _=n.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}ae.H=mv,_=r(o,u)}while(Kl);return _}function _A(){var n=ae.H,r=n.useState()[0];return r=typeof r.then=="function"?iu(r):r,n=n.useState()[0],(Ct!==null?Ct.memoizedState:null)!==n&&(Ze.flags|=1024),r}function wm(){var n=Hh!==0;return Hh=0,n}function Tm(n,r,o){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~o}function Am(n){if(qh){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}qh=!1}Bs=0,fn=Ct=Ze=null,Kl=!1,nu=Hh=0,Yl=null}function ti(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?Ze.memoizedState=fn=n:fn=fn.next=n,fn}function on(){if(Ct===null){var n=Ze.alternate;n=n!==null?n.memoizedState:null}else n=Ct.next;var r=fn===null?Ze.memoizedState:fn.next;if(r!==null)fn=r,Ct=n;else{if(n===null)throw Ze.alternate===null?Error(s(467)):Error(s(310));Ct=n,n={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},fn===null?Ze.memoizedState=fn=n:fn=fn.next=n}return fn}function Fh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function iu(n){var r=nu;return nu+=1,Yl===null&&(Yl=[]),n=Ey(Yl,n,r),r=Ze,(fn===null?r.memoizedState:fn.next)===null&&(r=r.alternate,ae.H=r===null||r.memoizedState===null?fv:jm),n}function Gh(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return iu(n);if(n.$$typeof===J)return Mn(n)}throw Error(s(438,String(n)))}function Sm(n){var r=null,o=Ze.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Ze.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(p){return p.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Fh(),Ze.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(n),u=0;u<n;u++)o[u]=H;return r.index++,o}function qs(n,r){return typeof r=="function"?r(n):r}function Zh(n){var r=on();return Cm(r,Ct,n)}function Cm(n,r,o){var u=n.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var p=n.baseQueue,_=u.pending;if(_!==null){if(p!==null){var A=p.next;p.next=_.next,_.next=A}r.baseQueue=p=_,u.pending=null}if(_=n.baseState,p===null)n.memoizedState=_;else{r=p.next;var I=A=null,U=null,te=r,le=!1;do{var fe=te.lane&-536870913;if(fe!==te.lane?(it&fe)===fe:(Bs&fe)===fe){var ie=te.revertLane;if(ie===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),fe===ql&&(le=!0);else if((Bs&ie)===ie){te=te.next,ie===ql&&(le=!0);continue}else fe={lane:0,revertLane:te.revertLane,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},U===null?(I=U=fe,A=_):U=U.next=fe,Ze.lanes|=ie,Da|=ie;fe=te.action,el&&o(_,fe),_=te.hasEagerState?te.eagerState:o(_,fe)}else ie={lane:fe,revertLane:te.revertLane,gesture:te.gesture,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},U===null?(I=U=ie,A=_):U=U.next=ie,Ze.lanes|=fe,Da|=fe;te=te.next}while(te!==null&&te!==r);if(U===null?A=_:U.next=I,!Cn(_,n.memoizedState)&&(mn=!0,le&&(o=Hl,o!==null)))throw o;n.memoizedState=_,n.baseState=A,n.baseQueue=U,u.lastRenderedState=_}return p===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Nm(n){var r=on(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=n;var u=o.dispatch,p=o.pending,_=r.memoizedState;if(p!==null){o.pending=null;var A=p=p.next;do _=n(_,A.action),A=A.next;while(A!==p);Cn(_,r.memoizedState)||(mn=!0),r.memoizedState=_,r.baseQueue===null&&(r.baseState=_),o.lastRenderedState=_}return[_,u]}function Oy(n,r,o){var u=Ze,p=on(),_=We;if(_){if(o===void 0)throw Error(s(407));o=o()}else o=r();var A=!Cn((Ct||p).memoizedState,o);if(A&&(p.memoizedState=o,mn=!0),p=p.queue,Pm(Dy.bind(null,u,p,n),[n]),p.getSnapshot!==r||A||fn!==null&&fn.memoizedState.tag&1){if(u.flags|=2048,Ql(9,{destroy:void 0},ky.bind(null,u,p,o,r),null),Ot===null)throw Error(s(349));_||(Bs&127)!==0||Ly(u,r,o)}return o}function Ly(n,r,o){n.flags|=16384,n={getSnapshot:r,value:o},r=Ze.updateQueue,r===null?(r=Fh(),Ze.updateQueue=r,r.stores=[n]):(o=r.stores,o===null?r.stores=[n]:o.push(n))}function ky(n,r,o,u){r.value=o,r.getSnapshot=u,jy(r)&&Vy(n)}function Dy(n,r,o){return o(function(){jy(r)&&Vy(n)})}function jy(n){var r=n.getSnapshot;n=n.value;try{var o=r();return!Cn(n,o)}catch{return!0}}function Vy(n){var r=cr(n,2);r!==null&&bi(r,n,2)}function Rm(n){var r=ti();if(typeof n=="function"){var o=n;if(n=o(),el){Qn(!0);try{o()}finally{Qn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:n},r}function zy(n,r,o,u){return n.baseState=o,Cm(n,Ct,typeof u=="function"?u:qs)}function yA(n,r,o,u,p){if(Qh(n))throw Error(s(485));if(n=r.action,n!==null){var _={payload:p,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){_.listeners.push(A)}};ae.T!==null?o(!0):_.isTransition=!1,u(_),o=r.pending,o===null?(_.next=r.pending=_,Uy(r,_)):(_.next=o.next,r.pending=o.next=_)}}function Uy(n,r){var o=r.action,u=r.payload,p=n.state;if(r.isTransition){var _=ae.T,A={};ae.T=A;try{var I=o(p,u),U=ae.S;U!==null&&U(A,I),By(n,r,I)}catch(te){Im(n,r,te)}finally{_!==null&&A.types!==null&&(_.types=A.types),ae.T=_}}else try{_=o(p,u),By(n,r,_)}catch(te){Im(n,r,te)}}function By(n,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){qy(n,r,u)},function(u){return Im(n,r,u)}):qy(n,r,o)}function qy(n,r,o){r.status="fulfilled",r.value=o,Hy(r),n.state=o,r=n.pending,r!==null&&(o=r.next,o===r?n.pending=null:(o=o.next,r.next=o,Uy(n,o)))}function Im(n,r,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,Hy(r),r=r.next;while(r!==u)}n.action=null}function Hy(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function Fy(n,r){return r}function Gy(n,r){if(We){var o=Ot.formState;if(o!==null){e:{var u=Ze;if(We){if(gt){t:{for(var p=gt,_=gi;p.nodeType!==8;){if(!_){p=null;break t}if(p=dr(p.nextSibling),p===null){p=null;break t}}_=p.data,p=_==="F!"||_==="F"?p:null}if(p){gt=dr(p.nextSibling),u=p.data==="F!";break e}}us(u)}u=!1}u&&(r=o[0])}}return o=ti(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fy,lastRenderedState:r},o.queue=u,o=uv.bind(null,Ze,u),u.dispatch=o,u=Rm(!1),_=Dm.bind(null,Ze,!1,u.queue),u=ti(),p={state:r,dispatch:null,action:n,pending:null},u.queue=p,o=yA.bind(null,Ze,p,_,o),p.dispatch=o,u.memoizedState=n,[r,o,!1]}function Zy(n){var r=on();return Ky(r,Ct,n)}function Ky(n,r,o){if(r=Cm(n,r,Fy)[0],n=Zh(qs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=iu(r)}catch(A){throw A===Fl?Dh:A}else u=r;r=on();var p=r.queue,_=p.dispatch;return o!==r.memoizedState&&(Ze.flags|=2048,Ql(9,{destroy:void 0},vA.bind(null,p,o),null)),[u,_,n]}function vA(n,r){n.action=r}function Yy(n){var r=on(),o=Ct;if(o!==null)return Ky(r,o,n);on(),r=r.memoizedState,o=on();var u=o.queue.dispatch;return o.memoizedState=n,[r,u,!1]}function Ql(n,r,o,u){return n={tag:n,create:o,deps:u,inst:r,next:null},r=Ze.updateQueue,r===null&&(r=Fh(),Ze.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,r.lastEffect=n),n}function Qy(){return on().memoizedState}function Kh(n,r,o,u){var p=ti();Ze.flags|=n,p.memoizedState=Ql(1|r,{destroy:void 0},o,u===void 0?null:u)}function Yh(n,r,o,u){var p=on();u=u===void 0?null:u;var _=p.memoizedState.inst;Ct!==null&&u!==null&&bm(u,Ct.memoizedState.deps)?p.memoizedState=Ql(r,_,o,u):(Ze.flags|=n,p.memoizedState=Ql(1|r,_,o,u))}function $y(n,r){Kh(8390656,8,n,r)}function Pm(n,r){Yh(2048,8,n,r)}function xA(n){Ze.flags|=4;var r=Ze.updateQueue;if(r===null)r=Fh(),Ze.updateQueue=r,r.events=[n];else{var o=r.events;o===null?r.events=[n]:o.push(n)}}function Xy(n){var r=on().memoizedState;return xA({ref:r,nextImpl:n}),function(){if((vt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Wy(n,r){return Yh(4,2,n,r)}function Jy(n,r){return Yh(4,4,n,r)}function ev(n,r){if(typeof r=="function"){n=n();var o=r(n);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function tv(n,r,o){o=o!=null?o.concat([n]):null,Yh(4,4,ev.bind(null,r,n),o)}function Mm(){}function nv(n,r){var o=on();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&bm(r,u[1])?u[0]:(o.memoizedState=[n,r],n)}function iv(n,r){var o=on();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&bm(r,u[1]))return u[0];if(u=n(),el){Qn(!0);try{n()}finally{Qn(!1)}}return o.memoizedState=[u,r],u}function Om(n,r,o){return o===void 0||(Bs&1073741824)!==0&&(it&261930)===0?n.memoizedState=r:(n.memoizedState=o,n=r0(),Ze.lanes|=n,Da|=n,o)}function rv(n,r,o,u){return Cn(o,r)?o:Zl.current!==null?(n=Om(n,o,u),Cn(n,r)||(mn=!0),n):(Bs&42)===0||(Bs&1073741824)!==0&&(it&261930)===0?(mn=!0,n.memoizedState=o):(n=r0(),Ze.lanes|=n,Da|=n,r)}function sv(n,r,o,u,p){var _=be.p;be.p=_!==0&&8>_?_:8;var A=ae.T,I={};ae.T=I,Dm(n,!1,r,o);try{var U=p(),te=ae.S;if(te!==null&&te(I,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var le=pA(U,u);ru(n,r,le,Bi(n))}else ru(n,r,u,Bi(n))}catch(fe){ru(n,r,{then:function(){},status:"rejected",reason:fe},Bi())}finally{be.p=_,A!==null&&I.types!==null&&(A.types=I.types),ae.T=A}}function bA(){}function Lm(n,r,o,u){if(n.tag!==5)throw Error(s(476));var p=av(n).queue;sv(n,p,r,ge,o===null?bA:function(){return ov(n),o(u)})}function av(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:ge},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:o},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function ov(n){var r=av(n);r.next===null&&(r=n.alternate.memoizedState),ru(n,r.next.queue,{},Bi())}function km(){return Mn(bu)}function lv(){return on().memoizedState}function cv(){return on().memoizedState}function EA(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var o=Bi();n=Ia(o);var u=Pa(r,n,o);u!==null&&(bi(u,r,o),Jc(u,r,o)),r={cache:um()},n.payload=r;return}r=r.return}}function wA(n,r,o){var u=Bi();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Qh(n)?hv(r,o):(o=Hc(n,r,o,u),o!==null&&(bi(o,n,u),dv(o,r,u)))}function uv(n,r,o){var u=Bi();ru(n,r,o,u)}function ru(n,r,o,u){var p={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Qh(n))hv(r,p);else{var _=n.alternate;if(n.lanes===0&&(_===null||_.lanes===0)&&(_=r.lastRenderedReducer,_!==null))try{var A=r.lastRenderedState,I=_(A,o);if(p.hasEagerState=!0,p.eagerState=I,Cn(I,A))return ls(n,r,p,0),Ot===null&&Fo(),!1}catch{}finally{}if(o=Hc(n,r,p,u),o!==null)return bi(o,n,u),dv(o,r,u),!0}return!1}function Dm(n,r,o,u){if(u={lane:2,revertLane:mp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Qh(n)){if(r)throw Error(s(479))}else r=Hc(n,o,u,2),r!==null&&bi(r,n,2)}function Qh(n){var r=n.alternate;return n===Ze||r!==null&&r===Ze}function hv(n,r){Kl=qh=!0;var o=n.pending;o===null?r.next=r:(r.next=o.next,o.next=r),n.pending=r}function dv(n,r,o){if((o&4194048)!==0){var u=r.lanes;u&=n.pendingLanes,o|=u,r.lanes=o,wo(n,o)}}var su={readContext:Mn,use:Gh,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useLayoutEffect:Jt,useInsertionEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useSyncExternalStore:Jt,useId:Jt,useHostTransitionStatus:Jt,useFormState:Jt,useActionState:Jt,useOptimistic:Jt,useMemoCache:Jt,useCacheRefresh:Jt};su.useEffectEvent=Jt;var fv={readContext:Mn,use:Gh,useCallback:function(n,r){return ti().memoizedState=[n,r===void 0?null:r],n},useContext:Mn,useEffect:$y,useImperativeHandle:function(n,r,o){o=o!=null?o.concat([n]):null,Kh(4194308,4,ev.bind(null,r,n),o)},useLayoutEffect:function(n,r){return Kh(4194308,4,n,r)},useInsertionEffect:function(n,r){Kh(4,2,n,r)},useMemo:function(n,r){var o=ti();r=r===void 0?null:r;var u=n();if(el){Qn(!0);try{n()}finally{Qn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(n,r,o){var u=ti();if(o!==void 0){var p=o(r);if(el){Qn(!0);try{o(r)}finally{Qn(!1)}}}else p=r;return u.memoizedState=u.baseState=p,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:p},u.queue=n,n=n.dispatch=wA.bind(null,Ze,n),[u.memoizedState,n]},useRef:function(n){var r=ti();return n={current:n},r.memoizedState=n},useState:function(n){n=Rm(n);var r=n.queue,o=uv.bind(null,Ze,r);return r.dispatch=o,[n.memoizedState,o]},useDebugValue:Mm,useDeferredValue:function(n,r){var o=ti();return Om(o,n,r)},useTransition:function(){var n=Rm(!1);return n=sv.bind(null,Ze,n.queue,!0,!1),ti().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,o){var u=Ze,p=ti();if(We){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),Ot===null)throw Error(s(349));(it&127)!==0||Ly(u,r,o)}p.memoizedState=o;var _={value:o,getSnapshot:r};return p.queue=_,$y(Dy.bind(null,u,_,n),[n]),u.flags|=2048,Ql(9,{destroy:void 0},ky.bind(null,u,_,o,r),null),o},useId:function(){var n=ti(),r=Ot.identifierPrefix;if(We){var o=we,u=de;o=(u&~(1<<32-qt(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Hh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=gA++,r="_"+r+"r_"+o.toString(32)+"_";return n.memoizedState=r},useHostTransitionStatus:km,useFormState:Gy,useActionState:Gy,useOptimistic:function(n){var r=ti();r.memoizedState=r.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Dm.bind(null,Ze,!0,o),o.dispatch=r,[n,r]},useMemoCache:Sm,useCacheRefresh:function(){return ti().memoizedState=EA.bind(null,Ze)},useEffectEvent:function(n){var r=ti(),o={impl:n};return r.memoizedState=o,function(){if((vt&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},jm={readContext:Mn,use:Gh,useCallback:nv,useContext:Mn,useEffect:Pm,useImperativeHandle:tv,useInsertionEffect:Wy,useLayoutEffect:Jy,useMemo:iv,useReducer:Zh,useRef:Qy,useState:function(){return Zh(qs)},useDebugValue:Mm,useDeferredValue:function(n,r){var o=on();return rv(o,Ct.memoizedState,n,r)},useTransition:function(){var n=Zh(qs)[0],r=on().memoizedState;return[typeof n=="boolean"?n:iu(n),r]},useSyncExternalStore:Oy,useId:lv,useHostTransitionStatus:km,useFormState:Zy,useActionState:Zy,useOptimistic:function(n,r){var o=on();return zy(o,Ct,n,r)},useMemoCache:Sm,useCacheRefresh:cv};jm.useEffectEvent=Xy;var mv={readContext:Mn,use:Gh,useCallback:nv,useContext:Mn,useEffect:Pm,useImperativeHandle:tv,useInsertionEffect:Wy,useLayoutEffect:Jy,useMemo:iv,useReducer:Nm,useRef:Qy,useState:function(){return Nm(qs)},useDebugValue:Mm,useDeferredValue:function(n,r){var o=on();return Ct===null?Om(o,n,r):rv(o,Ct.memoizedState,n,r)},useTransition:function(){var n=Nm(qs)[0],r=on().memoizedState;return[typeof n=="boolean"?n:iu(n),r]},useSyncExternalStore:Oy,useId:lv,useHostTransitionStatus:km,useFormState:Yy,useActionState:Yy,useOptimistic:function(n,r){var o=on();return Ct!==null?zy(o,Ct,n,r):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:Sm,useCacheRefresh:cv};mv.useEffectEvent=Xy;function Vm(n,r,o,u){r=n.memoizedState,o=o(u,r),o=o==null?r:w({},r,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var zm={enqueueSetState:function(n,r,o){n=n._reactInternals;var u=Bi(),p=Ia(u);p.payload=r,o!=null&&(p.callback=o),r=Pa(n,p,u),r!==null&&(bi(r,n,u),Jc(r,n,u))},enqueueReplaceState:function(n,r,o){n=n._reactInternals;var u=Bi(),p=Ia(u);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=Pa(n,p,u),r!==null&&(bi(r,n,u),Jc(r,n,u))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var o=Bi(),u=Ia(o);u.tag=2,r!=null&&(u.callback=r),r=Pa(n,u,o),r!==null&&(bi(r,n,o),Jc(r,n,o))}};function pv(n,r,o,u,p,_,A){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,_,A):r.prototype&&r.prototype.isPureReactComponent?!wa(o,u)||!wa(p,_):!0}function gv(n,r,o,u){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==n&&zm.enqueueReplaceState(r,r.state,null)}function tl(n,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(n=n.defaultProps){o===r&&(o=w({},o));for(var p in n)o[p]===void 0&&(o[p]=n[p])}return o}function _v(n){Ho(n)}function yv(n){console.error(n)}function vv(n){Ho(n)}function $h(n,r){try{var o=n.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function xv(n,r,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Um(n,r,o){return o=Ia(o),o.tag=3,o.payload={element:null},o.callback=function(){$h(n,r)},o}function bv(n){return n=Ia(n),n.tag=3,n}function Ev(n,r,o,u){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var _=u.value;n.payload=function(){return p(_)},n.callback=function(){xv(r,o,u)}}var A=o.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(n.callback=function(){xv(r,o,u),typeof p!="function"&&(ja===null?ja=new Set([this]):ja.add(this));var I=u.stack;this.componentDidCatch(u.value,{componentStack:I!==null?I:""})})}function TA(n,r,o,u,p){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&Bl(r,o,p,!0),o=ji.current,o!==null){switch(o.tag){case 31:case 13:return hr===null?ld():o.alternate===null&&en===0&&(en=3),o.flags&=-257,o.flags|=65536,o.lanes=p,u===jh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),hp(n,u,p)),!1;case 22:return o.flags|=65536,u===jh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),hp(n,u,p)),!1}throw Error(s(435,o.tag))}return hp(n,u,p),ld(),!1}if(We)return r=ji.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=p,u!==Ul&&(n=Error(s(422),{cause:u}),Ko(c(n,o)))):(u!==Ul&&(r=Error(s(423),{cause:u}),Ko(c(r,o))),n=n.current.alternate,n.flags|=65536,p&=-p,n.lanes|=p,u=c(u,o),p=Um(n.stateNode,u,p),gm(n,p),en!==4&&(en=2)),!1;var _=Error(s(520),{cause:u});if(_=c(_,o),fu===null?fu=[_]:fu.push(_),en!==4&&(en=2),r===null)return!0;u=c(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,n=p&-p,o.lanes|=n,n=Um(o.stateNode,u,n),gm(o,n),!1;case 1:if(r=o.type,_=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ja===null||!ja.has(_))))return o.flags|=65536,p&=-p,o.lanes|=p,p=bv(p),Ev(p,n,o,u),gm(o,p),!1}o=o.return}while(o!==null);return!1}var Bm=Error(s(461)),mn=!1;function On(n,r,o,u){r.child=n===null?Sy(r,null,o,u):Jo(r,n.child,o,u)}function wv(n,r,o,u,p){o=o.render;var _=r.ref;if("ref"in u){var A={};for(var I in u)I!=="ref"&&(A[I]=u[I])}else A=u;return Qo(r),u=Em(n,r,o,A,_,p),I=wm(),n!==null&&!mn?(Tm(n,r,p),Hs(n,r,p)):(We&&I&&vn(r),r.flags|=1,On(n,r,u,p),r.child)}function Tv(n,r,o,u,p){if(n===null){var _=o.type;return typeof _=="function"&&!Vl(_)&&_.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=_,Av(n,r,_,u,p)):(n=Zo(o.type,null,u,r,r.mode,p),n.ref=r.ref,n.return=r,r.child=n)}if(_=n.child,!Qm(n,p)){var A=_.memoizedProps;if(o=o.compare,o=o!==null?o:wa,o(A,u)&&n.ref===r.ref)return Hs(n,r,p)}return r.flags|=1,n=ur(_,u),n.ref=r.ref,n.return=r,r.child=n}function Av(n,r,o,u,p){if(n!==null){var _=n.memoizedProps;if(wa(_,u)&&n.ref===r.ref)if(mn=!1,r.pendingProps=u=_,Qm(n,p))(n.flags&131072)!==0&&(mn=!0);else return r.lanes=n.lanes,Hs(n,r,p)}return qm(n,r,o,u,p)}function Sv(n,r,o,u){var p=u.children,_=n!==null?n.memoizedState:null;if(n===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(_=_!==null?_.baseLanes|o:o,n!==null){for(u=r.child=n.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~_}else u=0,r.child=null;return Cv(n,r,_,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&kh(r,_!==null?_.cachePool:null),_!==null?Ry(r,_):ym(),Iy(r);else return u=r.lanes=536870912,Cv(n,r,_!==null?_.baseLanes|o:o,o,u)}else _!==null?(kh(r,_.cachePool),Ry(r,_),Oa(),r.memoizedState=null):(n!==null&&kh(r,null),ym(),Oa());return On(n,r,p,o),r.child}function au(n,r){return n!==null&&n.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Cv(n,r,o,u,p){var _=dm();return _=_===null?null:{parent:dn._currentValue,pool:_},r.memoizedState={baseLanes:o,cachePool:_},n!==null&&kh(r,null),ym(),Iy(r),n!==null&&Bl(n,r,u,!0),r.childLanes=p,null}function Xh(n,r){return r=Jh({mode:r.mode,children:r.children},n.mode),r.ref=n.ref,n.child=r,r.return=n,r}function Nv(n,r,o){return Jo(r,n.child,null,o),n=Xh(r,r.pendingProps),n.flags|=2,Vi(r),r.memoizedState=null,n}function AA(n,r,o){var u=r.pendingProps,p=(r.flags&128)!==0;if(r.flags&=-129,n===null){if(We){if(u.mode==="hidden")return n=Xh(r,u),r.lanes=536870912,au(null,n);if(xm(r),(n=gt)?(n=U0(n,gi),n=n!==null&&n.data==="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:ne!==null?{id:de,overflow:we}:null,retryLane:536870912,hydrationErrors:null},o=Gc(n),o.return=r,r.child=o,pt=r,gt=null)):n=null,n===null)throw us(r);return r.lanes=536870912,null}return Xh(r,u)}var _=n.memoizedState;if(_!==null){var A=_.dehydrated;if(xm(r),p)if(r.flags&256)r.flags&=-257,r=Nv(n,r,o);else if(r.memoizedState!==null)r.child=n.child,r.flags|=128,r=null;else throw Error(s(558));else if(mn||Bl(n,r,o,!1),p=(o&n.childLanes)!==0,mn||p){if(u=Ot,u!==null&&(A=To(u,o),A!==0&&A!==_.retryLane))throw _.retryLane=A,cr(n,A),bi(u,n,A),Bm;ld(),r=Nv(n,r,o)}else n=_.treeContext,gt=dr(A.nextSibling),pt=r,We=!0,cs=null,gi=!1,n!==null&&ei(r,n),r=Xh(r,u),r.flags|=4096;return r}return n=ur(n.child,{mode:u.mode,children:u.children}),n.ref=r.ref,r.child=n,n.return=r,n}function Wh(n,r){var o=r.ref;if(o===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(n===null||n.ref!==o)&&(r.flags|=4194816)}}function qm(n,r,o,u,p){return Qo(r),o=Em(n,r,o,u,void 0,p),u=wm(),n!==null&&!mn?(Tm(n,r,p),Hs(n,r,p)):(We&&u&&vn(r),r.flags|=1,On(n,r,o,p),r.child)}function Rv(n,r,o,u,p,_){return Qo(r),r.updateQueue=null,o=My(r,u,o,p),Py(n),u=wm(),n!==null&&!mn?(Tm(n,r,_),Hs(n,r,_)):(We&&u&&vn(r),r.flags|=1,On(n,r,o,_),r.child)}function Iv(n,r,o,u,p){if(Qo(r),r.stateNode===null){var _=js,A=o.contextType;typeof A=="object"&&A!==null&&(_=Mn(A)),_=new o(u,_),r.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=zm,r.stateNode=_,_._reactInternals=r,_=r.stateNode,_.props=u,_.state=r.memoizedState,_.refs={},mm(r),A=o.contextType,_.context=typeof A=="object"&&A!==null?Mn(A):js,_.state=r.memoizedState,A=o.getDerivedStateFromProps,typeof A=="function"&&(Vm(r,o,A,u),_.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(A=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),A!==_.state&&zm.enqueueReplaceState(_,_.state,null),tu(r,u,_,p),eu(),_.state=r.memoizedState),typeof _.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(n===null){_=r.stateNode;var I=r.memoizedProps,U=tl(o,I);_.props=U;var te=_.context,le=o.contextType;A=js,typeof le=="object"&&le!==null&&(A=Mn(le));var fe=o.getDerivedStateFromProps;le=typeof fe=="function"||typeof _.getSnapshotBeforeUpdate=="function",I=r.pendingProps!==I,le||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I||te!==A)&&gv(r,_,u,A),Ra=!1;var ie=r.memoizedState;_.state=ie,tu(r,u,_,p),eu(),te=r.memoizedState,I||ie!==te||Ra?(typeof fe=="function"&&(Vm(r,o,fe,u),te=r.memoizedState),(U=Ra||pv(r,o,U,u,ie,te,A))?(le||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(r.flags|=4194308)):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=te),_.props=u,_.state=te,_.context=A,u=U):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{_=r.stateNode,pm(n,r),A=r.memoizedProps,le=tl(o,A),_.props=le,fe=r.pendingProps,ie=_.context,te=o.contextType,U=js,typeof te=="object"&&te!==null&&(U=Mn(te)),I=o.getDerivedStateFromProps,(te=typeof I=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(A!==fe||ie!==U)&&gv(r,_,u,U),Ra=!1,ie=r.memoizedState,_.state=ie,tu(r,u,_,p),eu();var se=r.memoizedState;A!==fe||ie!==se||Ra||n!==null&&n.dependencies!==null&&Oh(n.dependencies)?(typeof I=="function"&&(Vm(r,o,I,u),se=r.memoizedState),(le=Ra||pv(r,o,le,u,ie,se,U)||n!==null&&n.dependencies!==null&&Oh(n.dependencies))?(te||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(u,se,U),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(u,se,U)),typeof _.componentDidUpdate=="function"&&(r.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof _.componentDidUpdate!="function"||A===n.memoizedProps&&ie===n.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&ie===n.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=se),_.props=u,_.state=se,_.context=U,u=le):(typeof _.componentDidUpdate!="function"||A===n.memoizedProps&&ie===n.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&ie===n.memoizedState||(r.flags|=1024),u=!1)}return _=u,Wh(n,r),u=(r.flags&128)!==0,_||u?(_=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:_.render(),r.flags|=1,n!==null&&u?(r.child=Jo(r,n.child,null,p),r.child=Jo(r,null,o,p)):On(n,r,o,p),r.memoizedState=_.state,n=r.child):n=Hs(n,r,p),n}function Pv(n,r,o,u){return zs(),r.flags|=256,On(n,r,o,u),r.child}var Hm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fm(n){return{baseLanes:n,cachePool:xy()}}function Gm(n,r,o){return n=n!==null?n.childLanes&~o:0,r&&(n|=Ui),n}function Mv(n,r,o){var u=r.pendingProps,p=!1,_=(r.flags&128)!==0,A;if((A=_)||(A=n!==null&&n.memoizedState===null?!1:(an.current&2)!==0),A&&(p=!0,r.flags&=-129),A=(r.flags&32)!==0,r.flags&=-33,n===null){if(We){if(p?Ma(r):Oa(),(n=gt)?(n=U0(n,gi),n=n!==null&&n.data!=="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:ne!==null?{id:de,overflow:we}:null,retryLane:536870912,hydrationErrors:null},o=Gc(n),o.return=r,r.child=o,pt=r,gt=null)):n=null,n===null)throw us(r);return Cp(n)?r.lanes=32:r.lanes=536870912,null}var I=u.children;return u=u.fallback,p?(Oa(),p=r.mode,I=Jh({mode:"hidden",children:I},p),u=Vs(u,p,o,null),I.return=r,u.return=r,I.sibling=u,r.child=I,u=r.child,u.memoizedState=Fm(o),u.childLanes=Gm(n,A,o),r.memoizedState=Hm,au(null,u)):(Ma(r),Zm(r,I))}var U=n.memoizedState;if(U!==null&&(I=U.dehydrated,I!==null)){if(_)r.flags&256?(Ma(r),r.flags&=-257,r=Km(n,r,o)):r.memoizedState!==null?(Oa(),r.child=n.child,r.flags|=128,r=null):(Oa(),I=u.fallback,p=r.mode,u=Jh({mode:"visible",children:u.children},p),I=Vs(I,p,o,null),I.flags|=2,u.return=r,I.return=r,u.sibling=I,r.child=u,Jo(r,n.child,null,o),u=r.child,u.memoizedState=Fm(o),u.childLanes=Gm(n,A,o),r.memoizedState=Hm,r=au(null,u));else if(Ma(r),Cp(I)){if(A=I.nextSibling&&I.nextSibling.dataset,A)var te=A.dgst;A=te,u=Error(s(419)),u.stack="",u.digest=A,Ko({value:u,source:null,stack:null}),r=Km(n,r,o)}else if(mn||Bl(n,r,o,!1),A=(o&n.childLanes)!==0,mn||A){if(A=Ot,A!==null&&(u=To(A,o),u!==0&&u!==U.retryLane))throw U.retryLane=u,cr(n,u),bi(A,n,u),Bm;Sp(I)||ld(),r=Km(n,r,o)}else Sp(I)?(r.flags|=192,r.child=n.child,r=null):(n=U.treeContext,gt=dr(I.nextSibling),pt=r,We=!0,cs=null,gi=!1,n!==null&&ei(r,n),r=Zm(r,u.children),r.flags|=4096);return r}return p?(Oa(),I=u.fallback,p=r.mode,U=n.child,te=U.sibling,u=ur(U,{mode:"hidden",children:u.children}),u.subtreeFlags=U.subtreeFlags&65011712,te!==null?I=ur(te,I):(I=Vs(I,p,o,null),I.flags|=2),I.return=r,u.return=r,u.sibling=I,r.child=u,au(null,u),u=r.child,I=n.child.memoizedState,I===null?I=Fm(o):(p=I.cachePool,p!==null?(U=dn._currentValue,p=p.parent!==U?{parent:U,pool:U}:p):p=xy(),I={baseLanes:I.baseLanes|o,cachePool:p}),u.memoizedState=I,u.childLanes=Gm(n,A,o),r.memoizedState=Hm,au(n.child,u)):(Ma(r),o=n.child,n=o.sibling,o=ur(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,n!==null&&(A=r.deletions,A===null?(r.deletions=[n],r.flags|=16):A.push(n)),r.child=o,r.memoizedState=null,o)}function Zm(n,r){return r=Jh({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Jh(n,r){return n=Hn(22,n,null,r),n.lanes=0,n}function Km(n,r,o){return Jo(r,n.child,null,o),n=Zm(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function Ov(n,r,o){n.lanes|=r;var u=n.alternate;u!==null&&(u.lanes|=r),lm(n.return,r,o)}function Ym(n,r,o,u,p,_){var A=n.memoizedState;A===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:p,treeForkCount:_}:(A.isBackwards=r,A.rendering=null,A.renderingStartTime=0,A.last=u,A.tail=o,A.tailMode=p,A.treeForkCount=_)}function Lv(n,r,o){var u=r.pendingProps,p=u.revealOrder,_=u.tail;u=u.children;var A=an.current,I=(A&2)!==0;if(I?(A=A&1|2,r.flags|=128):A&=1,ye(an,A),On(n,r,u,o),u=We?R:0,!I&&n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Ov(n,o,r);else if(n.tag===19)Ov(n,o,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(p){case"forwards":for(o=r.child,p=null;o!==null;)n=o.alternate,n!==null&&Bh(n)===null&&(p=o),o=o.sibling;o=p,o===null?(p=r.child,r.child=null):(p=o.sibling,o.sibling=null),Ym(r,!1,p,o,_,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=r.child,r.child=null;p!==null;){if(n=p.alternate,n!==null&&Bh(n)===null){r.child=p;break}n=p.sibling,p.sibling=o,o=p,p=n}Ym(r,!0,o,null,_,u);break;case"together":Ym(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function Hs(n,r,o){if(n!==null&&(r.dependencies=n.dependencies),Da|=r.lanes,(o&r.childLanes)===0)if(n!==null){if(Bl(n,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,o=ur(n,n.pendingProps),r.child=o,o.return=r;n.sibling!==null;)n=n.sibling,o=o.sibling=ur(n,n.pendingProps),o.return=r;o.sibling=null}return r.child}function Qm(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Oh(n)))}function SA(n,r,o){switch(r.tag){case 3:St(r,r.stateNode.containerInfo),Na(r,dn,n.memoizedState.cache),zs();break;case 27:case 5:br(r);break;case 4:St(r,r.stateNode.containerInfo);break;case 10:Na(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,xm(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Ma(r),r.flags|=128,null):(o&r.child.childLanes)!==0?Mv(n,r,o):(Ma(r),n=Hs(n,r,o),n!==null?n.sibling:null);Ma(r);break;case 19:var p=(n.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(Bl(n,r,o,!1),u=(o&r.childLanes)!==0),p){if(u)return Lv(n,r,o);r.flags|=128}if(p=r.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ye(an,an.current),u)break;return null;case 22:return r.lanes=0,Sv(n,r,o,r.pendingProps);case 24:Na(r,dn,n.memoizedState.cache)}return Hs(n,r,o)}function kv(n,r,o){if(n!==null)if(n.memoizedProps!==r.pendingProps)mn=!0;else{if(!Qm(n,o)&&(r.flags&128)===0)return mn=!1,SA(n,r,o);mn=(n.flags&131072)!==0}else mn=!1,We&&(r.flags&1048576)!==0&&Ke(r,R,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(n=Xo(r.elementType),r.type=n,typeof n=="function")Vl(n)?(u=tl(n,u),r.tag=1,r=Iv(null,r,n,u,o)):(r.tag=0,r=qm(null,r,n,u,o));else{if(n!=null){var p=n.$$typeof;if(p===X){r.tag=11,r=wv(null,r,n,u,o);break e}else if(p===k){r.tag=14,r=Tv(null,r,n,u,o);break e}}throw r=ct(n)||n,Error(s(306,r,""))}}return r;case 0:return qm(n,r,r.type,r.pendingProps,o);case 1:return u=r.type,p=tl(u,r.pendingProps),Iv(n,r,u,p,o);case 3:e:{if(St(r,r.stateNode.containerInfo),n===null)throw Error(s(387));u=r.pendingProps;var _=r.memoizedState;p=_.element,pm(n,r),tu(r,u,null,o);var A=r.memoizedState;if(u=A.cache,Na(r,dn,u),u!==_.cache&&cm(r,[dn],o,!0),eu(),u=A.element,_.isDehydrated)if(_={element:u,isDehydrated:!1,cache:A.cache},r.updateQueue.baseState=_,r.memoizedState=_,r.flags&256){r=Pv(n,r,u,o);break e}else if(u!==p){p=c(Error(s(424)),r),Ko(p),r=Pv(n,r,u,o);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(gt=dr(n.firstChild),pt=r,We=!0,cs=null,gi=!0,o=Sy(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(zs(),u===p){r=Hs(n,r,o);break e}On(n,r,u,o)}r=r.child}return r;case 26:return Wh(n,r),n===null?(o=Z0(r.type,null,r.pendingProps,null))?r.memoizedState=o:We||(o=r.type,n=r.pendingProps,u=pd(Te.current).createElement(o),u[Ft]=r,u[$t]=n,Ln(u,o,n),Xt(u),r.stateNode=u):r.memoizedState=Z0(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return br(r),n===null&&We&&(u=r.stateNode=H0(r.type,r.pendingProps,Te.current),pt=r,gi=!0,p=gt,Ba(r.type)?(Np=p,gt=dr(u.firstChild)):gt=p),On(n,r,r.pendingProps.children,o),Wh(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&We&&((p=u=gt)&&(u=nS(u,r.type,r.pendingProps,gi),u!==null?(r.stateNode=u,pt=r,gt=dr(u.firstChild),gi=!1,p=!0):p=!1),p||us(r)),br(r),p=r.type,_=r.pendingProps,A=n!==null?n.memoizedProps:null,u=_.children,wp(p,_)?u=null:A!==null&&wp(p,A)&&(r.flags|=32),r.memoizedState!==null&&(p=Em(n,r,_A,null,null,o),bu._currentValue=p),Wh(n,r),On(n,r,u,o),r.child;case 6:return n===null&&We&&((n=o=gt)&&(o=iS(o,r.pendingProps,gi),o!==null?(r.stateNode=o,pt=r,gt=null,n=!0):n=!1),n||us(r)),null;case 13:return Mv(n,r,o);case 4:return St(r,r.stateNode.containerInfo),u=r.pendingProps,n===null?r.child=Jo(r,null,u,o):On(n,r,u,o),r.child;case 11:return wv(n,r,r.type,r.pendingProps,o);case 7:return On(n,r,r.pendingProps,o),r.child;case 8:return On(n,r,r.pendingProps.children,o),r.child;case 12:return On(n,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,Na(r,r.type,u.value),On(n,r,u.children,o),r.child;case 9:return p=r.type._context,u=r.pendingProps.children,Qo(r),p=Mn(p),u=u(p),r.flags|=1,On(n,r,u,o),r.child;case 14:return Tv(n,r,r.type,r.pendingProps,o);case 15:return Av(n,r,r.type,r.pendingProps,o);case 19:return Lv(n,r,o);case 31:return AA(n,r,o);case 22:return Sv(n,r,o,r.pendingProps);case 24:return Qo(r),u=Mn(dn),n===null?(p=dm(),p===null&&(p=Ot,_=um(),p.pooledCache=_,_.refCount++,_!==null&&(p.pooledCacheLanes|=o),p=_),r.memoizedState={parent:u,cache:p},mm(r),Na(r,dn,p)):((n.lanes&o)!==0&&(pm(n,r),tu(r,null,null,o),eu()),p=n.memoizedState,_=r.memoizedState,p.parent!==u?(p={parent:u,cache:u},r.memoizedState=p,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=p),Na(r,dn,u)):(u=_.cache,Na(r,dn,u),u!==p.cache&&cm(r,[dn],o,!0))),On(n,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Fs(n){n.flags|=4}function $m(n,r,o,u,p){if((r=(n.mode&32)!==0)&&(r=!1),r){if(n.flags|=16777216,(p&335544128)===p)if(n.stateNode.complete)n.flags|=8192;else if(l0())n.flags|=8192;else throw Wo=jh,fm}else n.flags&=-16777217}function Dv(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!X0(r))if(l0())n.flags|=8192;else throw Wo=jh,fm}function ed(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Tl():536870912,n.lanes|=r,Jl|=r)}function ou(n,r){if(!We)switch(n.tailMode){case"hidden":r=n.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function Vt(n){var r=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(r)for(var p=n.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=n,p=p.sibling;else for(p=n.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=n,p=p.sibling;return n.subtreeFlags|=u,n.childLanes=o,r}function CA(n,r,o){var u=r.pendingProps;switch(Wt(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(r),null;case 1:return Vt(r),null;case 3:return o=r.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Us(dn),It(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(Lr(r)?Fs(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Yc())),Vt(r),null;case 26:var p=r.type,_=r.memoizedState;return n===null?(Fs(r),_!==null?(Vt(r),Dv(r,_)):(Vt(r),$m(r,p,null,u,o))):_?_!==n.memoizedState?(Fs(r),Vt(r),Dv(r,_)):(Vt(r),r.flags&=-16777217):(n=n.memoizedProps,n!==u&&Fs(r),Vt(r),$m(r,p,n,u,o)),null;case 27:if(Gr(r),o=Te.current,p=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&Fs(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return Vt(r),null}n=ve.current,Lr(r)?Kc(r):(n=H0(p,u,o),r.stateNode=n,Fs(r))}return Vt(r),null;case 5:if(Gr(r),p=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&Fs(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return Vt(r),null}if(_=ve.current,Lr(r))Kc(r);else{var A=pd(Te.current);switch(_){case 1:_=A.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:_=A.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":_=A.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":_=A.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":_=A.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof u.is=="string"?A.createElement("select",{is:u.is}):A.createElement("select"),u.multiple?_.multiple=!0:u.size&&(_.size=u.size);break;default:_=typeof u.is=="string"?A.createElement(p,{is:u.is}):A.createElement(p)}}_[Ft]=r,_[$t]=u;e:for(A=r.child;A!==null;){if(A.tag===5||A.tag===6)_.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===r)break e;for(;A.sibling===null;){if(A.return===null||A.return===r)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}r.stateNode=_;e:switch(Ln(_,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Fs(r)}}return Vt(r),$m(r,r.type,n===null?null:n.memoizedProps,r.pendingProps,o),null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==u&&Fs(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(n=Te.current,Lr(r)){if(n=r.stateNode,o=r.memoizedProps,u=null,p=pt,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}n[Ft]=r,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||M0(n.nodeValue,o)),n||us(r,!0)}else n=pd(n).createTextNode(u),n[Ft]=r,r.stateNode=n}return Vt(r),null;case 31:if(o=r.memoizedState,n===null||n.memoizedState!==null){if(u=Lr(r),o!==null){if(n===null){if(!u)throw Error(s(318));if(n=r.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(557));n[Ft]=r}else zs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Vt(r),n=!1}else o=Yc(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=o),n=!0;if(!n)return r.flags&256?(Vi(r),r):(Vi(r),null);if((r.flags&128)!==0)throw Error(s(558))}return Vt(r),null;case 13:if(u=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(p=Lr(r),u!==null&&u.dehydrated!==null){if(n===null){if(!p)throw Error(s(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[Ft]=r}else zs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Vt(r),p=!1}else p=Yc(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=p),p=!0;if(!p)return r.flags&256?(Vi(r),r):(Vi(r),null)}return Vi(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,n=n!==null&&n.memoizedState!==null,o&&(u=r.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),_=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(_=u.memoizedState.cachePool.pool),_!==p&&(u.flags|=2048)),o!==n&&o&&(r.child.flags|=8192),ed(r,r.updateQueue),Vt(r),null);case 4:return It(),n===null&&yp(r.stateNode.containerInfo),Vt(r),null;case 10:return Us(r.type),Vt(r),null;case 19:if(oe(an),u=r.memoizedState,u===null)return Vt(r),null;if(p=(r.flags&128)!==0,_=u.rendering,_===null)if(p)ou(u,!1);else{if(en!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(_=Bh(n),_!==null){for(r.flags|=128,ou(u,!1),n=_.updateQueue,r.updateQueue=n,ed(r,n),r.subtreeFlags=0,n=o,o=r.child;o!==null;)Fc(o,n),o=o.sibling;return ye(an,an.current&1|2),We&&Oe(r,u.treeForkCount),r.child}n=n.sibling}u.tail!==null&&Pn()>sd&&(r.flags|=128,p=!0,ou(u,!1),r.lanes=4194304)}else{if(!p)if(n=Bh(_),n!==null){if(r.flags|=128,p=!0,n=n.updateQueue,r.updateQueue=n,ed(r,n),ou(u,!0),u.tail===null&&u.tailMode==="hidden"&&!_.alternate&&!We)return Vt(r),null}else 2*Pn()-u.renderingStartTime>sd&&o!==536870912&&(r.flags|=128,p=!0,ou(u,!1),r.lanes=4194304);u.isBackwards?(_.sibling=r.child,r.child=_):(n=u.last,n!==null?n.sibling=_:r.child=_,u.last=_)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=Pn(),n.sibling=null,o=an.current,ye(an,p?o&1|2:o&1),We&&Oe(r,u.treeForkCount),n):(Vt(r),null);case 22:case 23:return Vi(r),vm(),u=r.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(Vt(r),r.subtreeFlags&6&&(r.flags|=8192)):Vt(r),o=r.updateQueue,o!==null&&ed(r,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),n!==null&&oe($o),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Us(dn),Vt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function NA(n,r){switch(Wt(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Us(dn),It(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return Gr(r),null;case 31:if(r.memoizedState!==null){if(Vi(r),r.alternate===null)throw Error(s(340));zs()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 13:if(Vi(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));zs()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return oe(an),null;case 4:return It(),null;case 10:return Us(r.type),null;case 22:case 23:return Vi(r),vm(),n!==null&&oe($o),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Us(dn),null;case 25:return null;default:return null}}function jv(n,r){switch(Wt(r),r.tag){case 3:Us(dn),It();break;case 26:case 27:case 5:Gr(r);break;case 4:It();break;case 31:r.memoizedState!==null&&Vi(r);break;case 13:Vi(r);break;case 19:oe(an);break;case 10:Us(r.type);break;case 22:case 23:Vi(r),vm(),n!==null&&oe($o);break;case 24:Us(dn)}}function lu(n,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var p=u.next;o=p;do{if((o.tag&n)===n){u=void 0;var _=o.create,A=o.inst;u=_(),A.destroy=u}o=o.next}while(o!==p)}}catch(I){Tt(r,r.return,I)}}function La(n,r,o){try{var u=r.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var _=p.next;u=_;do{if((u.tag&n)===n){var A=u.inst,I=A.destroy;if(I!==void 0){A.destroy=void 0,p=r;var U=o,te=I;try{te()}catch(le){Tt(p,U,le)}}}u=u.next}while(u!==_)}}catch(le){Tt(r,r.return,le)}}function Vv(n){var r=n.updateQueue;if(r!==null){var o=n.stateNode;try{Ny(r,o)}catch(u){Tt(n,n.return,u)}}}function zv(n,r,o){o.props=tl(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){Tt(n,r,u)}}function cu(n,r){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(p){Tt(n,r,p)}}function ds(n,r){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(p){Tt(n,r,p)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){Tt(n,r,p)}else o.current=null}function Uv(n){var r=n.type,o=n.memoizedProps,u=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(p){Tt(n,n.return,p)}}function Xm(n,r,o){try{var u=n.stateNode;$A(u,n.type,o,r),u[$t]=r}catch(p){Tt(n,n.return,p)}}function Bv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ba(n.type)||n.tag===4}function Wm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Bv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ba(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Jm(n,r,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(n),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Vn));else if(u!==4&&(u===27&&Ba(n.type)&&(o=n.stateNode,r=null),n=n.child,n!==null))for(Jm(n,r,o),n=n.sibling;n!==null;)Jm(n,r,o),n=n.sibling}function td(n,r,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?o.insertBefore(n,r):o.appendChild(n);else if(u!==4&&(u===27&&Ba(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(td(n,r,o),n=n.sibling;n!==null;)td(n,r,o),n=n.sibling}function qv(n){var r=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,p=r.attributes;p.length;)r.removeAttributeNode(p[0]);Ln(r,u,o),r[Ft]=n,r[$t]=o}catch(_){Tt(n,n.return,_)}}var Gs=!1,pn=!1,ep=!1,Hv=typeof WeakSet=="function"?WeakSet:Set,Rn=null;function RA(n,r){if(n=n.containerInfo,bp=Ed,n=zo(n),rs(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var p=u.anchorOffset,_=u.focusNode;u=u.focusOffset;try{o.nodeType,_.nodeType}catch{o=null;break e}var A=0,I=-1,U=-1,te=0,le=0,fe=n,ie=null;t:for(;;){for(var se;fe!==o||p!==0&&fe.nodeType!==3||(I=A+p),fe!==_||u!==0&&fe.nodeType!==3||(U=A+u),fe.nodeType===3&&(A+=fe.nodeValue.length),(se=fe.firstChild)!==null;)ie=fe,fe=se;for(;;){if(fe===n)break t;if(ie===o&&++te===p&&(I=A),ie===_&&++le===u&&(U=A),(se=fe.nextSibling)!==null)break;fe=ie,ie=fe.parentNode}fe=se}o=I===-1||U===-1?null:{start:I,end:U}}else o=null}o=o||{start:0,end:0}}else o=null;for(Ep={focusedElem:n,selectionRange:o},Ed=!1,Rn=r;Rn!==null;)if(r=Rn,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,Rn=n;else for(;Rn!==null;){switch(r=Rn,_=r.alternate,n=r.flags,r.tag){case 0:if((n&4)!==0&&(n=r.updateQueue,n=n!==null?n.events:null,n!==null))for(o=0;o<n.length;o++)p=n[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&_!==null){n=void 0,o=r,p=_.memoizedProps,_=_.memoizedState,u=o.stateNode;try{var Pe=tl(o.type,p);n=u.getSnapshotBeforeUpdate(Pe,_),u.__reactInternalSnapshotBeforeUpdate=n}catch(Ve){Tt(o,o.return,Ve)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,o=n.nodeType,o===9)Ap(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Ap(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Rn=n;break}Rn=r.return}}function Fv(n,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Ks(n,o),u&4&&lu(5,o);break;case 1:if(Ks(n,o),u&4)if(n=o.stateNode,r===null)try{n.componentDidMount()}catch(A){Tt(o,o.return,A)}else{var p=tl(o.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(p,r,n.__reactInternalSnapshotBeforeUpdate)}catch(A){Tt(o,o.return,A)}}u&64&&Vv(o),u&512&&cu(o,o.return);break;case 3:if(Ks(n,o),u&64&&(n=o.updateQueue,n!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Ny(n,r)}catch(A){Tt(o,o.return,A)}}break;case 27:r===null&&u&4&&qv(o);case 26:case 5:Ks(n,o),r===null&&u&4&&Uv(o),u&512&&cu(o,o.return);break;case 12:Ks(n,o);break;case 31:Ks(n,o),u&4&&Kv(n,o);break;case 13:Ks(n,o),u&4&&Yv(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=VA.bind(null,o),rS(n,o))));break;case 22:if(u=o.memoizedState!==null||Gs,!u){r=r!==null&&r.memoizedState!==null||pn,p=Gs;var _=pn;Gs=u,(pn=r)&&!_?Ys(n,o,(o.subtreeFlags&8772)!==0):Ks(n,o),Gs=p,pn=_}break;case 30:break;default:Ks(n,o)}}function Gv(n){var r=n.alternate;r!==null&&(n.alternate=null,Gv(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&ua(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Ut=null,_i=!1;function Zs(n,r,o){for(o=o.child;o!==null;)Zv(n,r,o),o=o.sibling}function Zv(n,r,o){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(ri,o)}catch{}switch(o.tag){case 26:pn||ds(o,r),Zs(n,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:pn||ds(o,r);var u=Ut,p=_i;Ba(o.type)&&(Ut=o.stateNode,_i=!1),Zs(n,r,o),yu(o.stateNode),Ut=u,_i=p;break;case 5:pn||ds(o,r);case 6:if(u=Ut,p=_i,Ut=null,Zs(n,r,o),Ut=u,_i=p,Ut!==null)if(_i)try{(Ut.nodeType===9?Ut.body:Ut.nodeName==="HTML"?Ut.ownerDocument.body:Ut).removeChild(o.stateNode)}catch(_){Tt(o,r,_)}else try{Ut.removeChild(o.stateNode)}catch(_){Tt(o,r,_)}break;case 18:Ut!==null&&(_i?(n=Ut,V0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),oc(n)):V0(Ut,o.stateNode));break;case 4:u=Ut,p=_i,Ut=o.stateNode.containerInfo,_i=!0,Zs(n,r,o),Ut=u,_i=p;break;case 0:case 11:case 14:case 15:La(2,o,r),pn||La(4,o,r),Zs(n,r,o);break;case 1:pn||(ds(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&zv(o,r,u)),Zs(n,r,o);break;case 21:Zs(n,r,o);break;case 22:pn=(u=pn)||o.memoizedState!==null,Zs(n,r,o),pn=u;break;default:Zs(n,r,o)}}function Kv(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{oc(n)}catch(o){Tt(r,r.return,o)}}}function Yv(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{oc(n)}catch(o){Tt(r,r.return,o)}}function IA(n){switch(n.tag){case 31:case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new Hv),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new Hv),r;default:throw Error(s(435,n.tag))}}function nd(n,r){var o=IA(n);r.forEach(function(u){if(!o.has(u)){o.add(u);var p=zA.bind(null,n,u);u.then(p,p)}})}function yi(n,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var p=o[u],_=n,A=r,I=A;e:for(;I!==null;){switch(I.tag){case 27:if(Ba(I.type)){Ut=I.stateNode,_i=!1;break e}break;case 5:Ut=I.stateNode,_i=!1;break e;case 3:case 4:Ut=I.stateNode.containerInfo,_i=!0;break e}I=I.return}if(Ut===null)throw Error(s(160));Zv(_,A,p),Ut=null,_i=!1,_=p.alternate,_!==null&&(_.return=null),p.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Qv(r,n),r=r.sibling}var Dr=null;function Qv(n,r){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:yi(r,n),vi(n),u&4&&(La(3,n,n.return),lu(3,n),La(5,n,n.return));break;case 1:yi(r,n),vi(n),u&512&&(pn||o===null||ds(o,o.return)),u&64&&Gs&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var p=Dr;if(yi(r,n),vi(n),u&512&&(pn||o===null||ds(o,o.return)),u&4){var _=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){e:{u=n.type,o=n.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":_=p.getElementsByTagName("title")[0],(!_||_[Wi]||_[Ft]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=p.createElement(u),p.head.insertBefore(_,p.querySelector("head > title"))),Ln(_,u,o),_[Ft]=n,Xt(_),u=_;break e;case"link":var A=Q0("link","href",p).get(u+(o.href||""));if(A){for(var I=0;I<A.length;I++)if(_=A[I],_.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&_.getAttribute("rel")===(o.rel==null?null:o.rel)&&_.getAttribute("title")===(o.title==null?null:o.title)&&_.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){A.splice(I,1);break t}}_=p.createElement(u),Ln(_,u,o),p.head.appendChild(_);break;case"meta":if(A=Q0("meta","content",p).get(u+(o.content||""))){for(I=0;I<A.length;I++)if(_=A[I],_.getAttribute("content")===(o.content==null?null:""+o.content)&&_.getAttribute("name")===(o.name==null?null:o.name)&&_.getAttribute("property")===(o.property==null?null:o.property)&&_.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&_.getAttribute("charset")===(o.charSet==null?null:o.charSet)){A.splice(I,1);break t}}_=p.createElement(u),Ln(_,u,o),p.head.appendChild(_);break;default:throw Error(s(468,u))}_[Ft]=n,Xt(_),u=_}n.stateNode=u}else $0(p,n.type,n.stateNode);else n.stateNode=Y0(p,u,n.memoizedProps);else _!==u?(_===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):_.count--,u===null?$0(p,n.type,n.stateNode):Y0(p,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Xm(n,n.memoizedProps,o.memoizedProps)}break;case 27:yi(r,n),vi(n),u&512&&(pn||o===null||ds(o,o.return)),o!==null&&u&4&&Xm(n,n.memoizedProps,o.memoizedProps);break;case 5:if(yi(r,n),vi(n),u&512&&(pn||o===null||ds(o,o.return)),n.flags&32){p=n.stateNode;try{un(p,"")}catch(Pe){Tt(n,n.return,Pe)}}u&4&&n.stateNode!=null&&(p=n.memoizedProps,Xm(n,p,o!==null?o.memoizedProps:p)),u&1024&&(ep=!0);break;case 6:if(yi(r,n),vi(n),u&4){if(n.stateNode===null)throw Error(s(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(Pe){Tt(n,n.return,Pe)}}break;case 3:if(yd=null,p=Dr,Dr=gd(r.containerInfo),yi(r,n),Dr=p,vi(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{oc(r.containerInfo)}catch(Pe){Tt(n,n.return,Pe)}ep&&(ep=!1,$v(n));break;case 4:u=Dr,Dr=gd(n.stateNode.containerInfo),yi(r,n),vi(n),Dr=u;break;case 12:yi(r,n),vi(n);break;case 31:yi(r,n),vi(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,nd(n,u)));break;case 13:yi(r,n),vi(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(rd=Pn()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,nd(n,u)));break;case 22:p=n.memoizedState!==null;var U=o!==null&&o.memoizedState!==null,te=Gs,le=pn;if(Gs=te||p,pn=le||U,yi(r,n),pn=le,Gs=te,vi(n),u&8192)e:for(r=n.stateNode,r._visibility=p?r._visibility&-2:r._visibility|1,p&&(o===null||U||Gs||pn||nl(n)),o=null,r=n;;){if(r.tag===5||r.tag===26){if(o===null){U=o=r;try{if(_=U.stateNode,p)A=_.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{I=U.stateNode;var fe=U.memoizedProps.style,ie=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;I.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(Pe){Tt(U,U.return,Pe)}}}else if(r.tag===6){if(o===null){U=r;try{U.stateNode.nodeValue=p?"":U.memoizedProps}catch(Pe){Tt(U,U.return,Pe)}}}else if(r.tag===18){if(o===null){U=r;try{var se=U.stateNode;p?z0(se,!0):z0(U.stateNode,!1)}catch(Pe){Tt(U,U.return,Pe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,nd(n,o))));break;case 19:yi(r,n),vi(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,nd(n,u)));break;case 30:break;case 21:break;default:yi(r,n),vi(n)}}function vi(n){var r=n.flags;if(r&2){try{for(var o,u=n.return;u!==null;){if(Bv(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var p=o.stateNode,_=Wm(n);td(n,_,p);break;case 5:var A=o.stateNode;o.flags&32&&(un(A,""),o.flags&=-33);var I=Wm(n);td(n,I,A);break;case 3:case 4:var U=o.stateNode.containerInfo,te=Wm(n);Jm(n,te,U);break;default:throw Error(s(161))}}catch(le){Tt(n,n.return,le)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function $v(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;$v(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Ks(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Fv(n,r.alternate,r),r=r.sibling}function nl(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:La(4,r,r.return),nl(r);break;case 1:ds(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&zv(r,r.return,o),nl(r);break;case 27:yu(r.stateNode);case 26:case 5:ds(r,r.return),nl(r);break;case 22:r.memoizedState===null&&nl(r);break;case 30:nl(r);break;default:nl(r)}n=n.sibling}}function Ys(n,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,p=n,_=r,A=_.flags;switch(_.tag){case 0:case 11:case 15:Ys(p,_,o),lu(4,_);break;case 1:if(Ys(p,_,o),u=_,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(te){Tt(u,u.return,te)}if(u=_,p=u.updateQueue,p!==null){var I=u.stateNode;try{var U=p.shared.hiddenCallbacks;if(U!==null)for(p.shared.hiddenCallbacks=null,p=0;p<U.length;p++)Cy(U[p],I)}catch(te){Tt(u,u.return,te)}}o&&A&64&&Vv(_),cu(_,_.return);break;case 27:qv(_);case 26:case 5:Ys(p,_,o),o&&u===null&&A&4&&Uv(_),cu(_,_.return);break;case 12:Ys(p,_,o);break;case 31:Ys(p,_,o),o&&A&4&&Kv(p,_);break;case 13:Ys(p,_,o),o&&A&4&&Yv(p,_);break;case 22:_.memoizedState===null&&Ys(p,_,o),cu(_,_.return);break;case 30:break;default:Ys(p,_,o)}r=r.sibling}}function tp(n,r){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&Qc(o))}function np(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Qc(n))}function jr(n,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Xv(n,r,o,u),r=r.sibling}function Xv(n,r,o,u){var p=r.flags;switch(r.tag){case 0:case 11:case 15:jr(n,r,o,u),p&2048&&lu(9,r);break;case 1:jr(n,r,o,u);break;case 3:jr(n,r,o,u),p&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Qc(n)));break;case 12:if(p&2048){jr(n,r,o,u),n=r.stateNode;try{var _=r.memoizedProps,A=_.id,I=_.onPostCommit;typeof I=="function"&&I(A,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(U){Tt(r,r.return,U)}}else jr(n,r,o,u);break;case 31:jr(n,r,o,u);break;case 13:jr(n,r,o,u);break;case 23:break;case 22:_=r.stateNode,A=r.alternate,r.memoizedState!==null?_._visibility&2?jr(n,r,o,u):uu(n,r):_._visibility&2?jr(n,r,o,u):(_._visibility|=2,$l(n,r,o,u,(r.subtreeFlags&10256)!==0||!1)),p&2048&&tp(A,r);break;case 24:jr(n,r,o,u),p&2048&&np(r.alternate,r);break;default:jr(n,r,o,u)}}function $l(n,r,o,u,p){for(p=p&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var _=n,A=r,I=o,U=u,te=A.flags;switch(A.tag){case 0:case 11:case 15:$l(_,A,I,U,p),lu(8,A);break;case 23:break;case 22:var le=A.stateNode;A.memoizedState!==null?le._visibility&2?$l(_,A,I,U,p):uu(_,A):(le._visibility|=2,$l(_,A,I,U,p)),p&&te&2048&&tp(A.alternate,A);break;case 24:$l(_,A,I,U,p),p&&te&2048&&np(A.alternate,A);break;default:$l(_,A,I,U,p)}r=r.sibling}}function uu(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=n,u=r,p=u.flags;switch(u.tag){case 22:uu(o,u),p&2048&&tp(u.alternate,u);break;case 24:uu(o,u),p&2048&&np(u.alternate,u);break;default:uu(o,u)}r=r.sibling}}var hu=8192;function Xl(n,r,o){if(n.subtreeFlags&hu)for(n=n.child;n!==null;)Wv(n,r,o),n=n.sibling}function Wv(n,r,o){switch(n.tag){case 26:Xl(n,r,o),n.flags&hu&&n.memoizedState!==null&&gS(o,Dr,n.memoizedState,n.memoizedProps);break;case 5:Xl(n,r,o);break;case 3:case 4:var u=Dr;Dr=gd(n.stateNode.containerInfo),Xl(n,r,o),Dr=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=hu,hu=16777216,Xl(n,r,o),hu=u):Xl(n,r,o));break;default:Xl(n,r,o)}}function Jv(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function du(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Rn=u,t0(u,n)}Jv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)e0(n),n=n.sibling}function e0(n){switch(n.tag){case 0:case 11:case 15:du(n),n.flags&2048&&La(9,n,n.return);break;case 3:du(n);break;case 12:du(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,id(n)):du(n);break;default:du(n)}}function id(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Rn=u,t0(u,n)}Jv(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:La(8,r,r.return),id(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,id(r));break;default:id(r)}n=n.sibling}}function t0(n,r){for(;Rn!==null;){var o=Rn;switch(o.tag){case 0:case 11:case 15:La(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Qc(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Rn=u;else e:for(o=n;Rn!==null;){u=Rn;var p=u.sibling,_=u.return;if(Gv(u),u===o){Rn=null;break e}if(p!==null){p.return=_,Rn=p;break e}Rn=_}}}var PA={getCacheForType:function(n){var r=Mn(dn),o=r.data.get(n);return o===void 0&&(o=n(),r.data.set(n,o)),o},cacheSignal:function(){return Mn(dn).controller.signal}},MA=typeof WeakMap=="function"?WeakMap:Map,vt=0,Ot=null,Je=null,it=0,wt=0,zi=null,ka=!1,Wl=!1,ip=!1,Qs=0,en=0,Da=0,il=0,rp=0,Ui=0,Jl=0,fu=null,xi=null,sp=!1,rd=0,n0=0,sd=1/0,ad=null,ja=null,xn=0,Va=null,ec=null,$s=0,ap=0,op=null,i0=null,mu=0,lp=null;function Bi(){return(vt&2)!==0&&it!==0?it&-it:ae.T!==null?mp():Ao()}function r0(){if(Ui===0)if((it&536870912)===0||We){var n=$r;$r<<=1,($r&3932160)===0&&($r=262144),Ui=n}else Ui=536870912;return n=ji.current,n!==null&&(n.flags|=32),Ui}function bi(n,r,o){(n===Ot&&(wt===2||wt===9)||n.cancelPendingCommit!==null)&&(tc(n,0),za(n,it,Ui,!1)),wr(n,o),((vt&2)===0||n!==Ot)&&(n===Ot&&((vt&2)===0&&(il|=o),en===4&&za(n,it,Ui,!1)),fs(n))}function s0(n,r,o){if((vt&6)!==0)throw Error(s(327));var u=!o&&(r&127)===0&&(r&n.expiredLanes)===0||Ai(n,r),p=u?kA(n,r):up(n,r,!0),_=u;do{if(p===0){Wl&&!u&&za(n,r,0,!1);break}else{if(o=n.current.alternate,_&&!OA(o)){p=up(n,r,!1),_=!1;continue}if(p===2){if(_=r,n.errorRecoveryDisabledLanes&_)var A=0;else A=n.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){r=A;e:{var I=n;p=fu;var U=I.current.memoizedState.isDehydrated;if(U&&(tc(I,A).flags|=256),A=up(I,A,!1),A!==2){if(ip&&!U){I.errorRecoveryDisabledLanes|=_,il|=_,p=4;break e}_=xi,xi=p,_!==null&&(xi===null?xi=_:xi.push.apply(xi,_))}p=A}if(_=!1,p!==2)continue}}if(p===1){tc(n,0),za(n,r,0,!0);break}e:{switch(u=n,_=p,_){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:za(u,r,Ui,!ka);break e;case 2:xi=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(p=rd+300-Pn(),10<p)){if(za(u,r,Ui,!ka),$i(u,0,!0)!==0)break e;$s=r,u.timeoutHandle=D0(a0.bind(null,u,o,xi,ad,sp,r,Ui,il,Jl,ka,_,"Throttled",-0,0),p);break e}a0(u,o,xi,ad,sp,r,Ui,il,Jl,ka,_,null,-0,0)}}break}while(!0);fs(n)}function a0(n,r,o,u,p,_,A,I,U,te,le,fe,ie,se){if(n.timeoutHandle=-1,fe=r.subtreeFlags,fe&8192||(fe&16785408)===16785408){fe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Vn},Wv(r,_,fe);var Pe=(_&62914560)===_?rd-Pn():(_&4194048)===_?n0-Pn():0;if(Pe=_S(fe,Pe),Pe!==null){$s=_,n.cancelPendingCommit=Pe(m0.bind(null,n,r,_,o,u,p,A,I,U,le,fe,null,ie,se)),za(n,_,A,!te);return}}m0(n,r,_,o,u,p,A,I,U)}function OA(n){for(var r=n;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var p=o[u],_=p.getSnapshot;p=p.value;try{if(!Cn(_(),p))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function za(n,r,o,u){r&=~rp,r&=~il,n.suspendedLanes|=r,n.pingedLanes&=~r,u&&(n.warmLanes|=r),u=n.expirationTimes;for(var p=r;0<p;){var _=31-qt(p),A=1<<_;u[_]=-1,p&=~A}o!==0&&Ns(n,o,r)}function od(){return(vt&6)===0?(pu(0),!1):!0}function cp(){if(Je!==null){if(wt===0)var n=Je.return;else n=Je,kr=hs=null,Am(n),Gl=null,Xc=0,n=Je;for(;n!==null;)jv(n.alternate,n),n=n.return;Je=null}}function tc(n,r){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,JA(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),$s=0,cp(),Ot=n,Je=o=ur(n.current,null),it=r,wt=0,zi=null,ka=!1,Wl=Ai(n,r),ip=!1,Jl=Ui=rp=il=Da=en=0,xi=fu=null,sp=!1,(r&8)!==0&&(r|=r&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=r;0<u;){var p=31-qt(u),_=1<<p;r|=n[p],u&=~_}return Qs=r,Fo(),o}function o0(n,r){Ze=null,ae.H=su,r===Fl||r===Dh?(r=wy(),wt=3):r===fm?(r=wy(),wt=4):wt=r===Bm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,zi=r,Je===null&&(en=1,$h(n,c(r,n.current)))}function l0(){var n=ji.current;return n===null?!0:(it&4194048)===it?hr===null:(it&62914560)===it||(it&536870912)!==0?n===hr:!1}function c0(){var n=ae.H;return ae.H=su,n===null?su:n}function u0(){var n=ae.A;return ae.A=PA,n}function ld(){en=4,ka||(it&4194048)!==it&&ji.current!==null||(Wl=!0),(Da&134217727)===0&&(il&134217727)===0||Ot===null||za(Ot,it,Ui,!1)}function up(n,r,o){var u=vt;vt|=2;var p=c0(),_=u0();(Ot!==n||it!==r)&&(ad=null,tc(n,r)),r=!1;var A=en;e:do try{if(wt!==0&&Je!==null){var I=Je,U=zi;switch(wt){case 8:cp(),A=6;break e;case 3:case 2:case 9:case 6:ji.current===null&&(r=!0);var te=wt;if(wt=0,zi=null,nc(n,I,U,te),o&&Wl){A=0;break e}break;default:te=wt,wt=0,zi=null,nc(n,I,U,te)}}LA(),A=en;break}catch(le){o0(n,le)}while(!0);return r&&n.shellSuspendCounter++,kr=hs=null,vt=u,ae.H=p,ae.A=_,Je===null&&(Ot=null,it=0,Fo()),A}function LA(){for(;Je!==null;)h0(Je)}function kA(n,r){var o=vt;vt|=2;var u=c0(),p=u0();Ot!==n||it!==r?(ad=null,sd=Pn()+500,tc(n,r)):Wl=Ai(n,r);e:do try{if(wt!==0&&Je!==null){r=Je;var _=zi;t:switch(wt){case 1:wt=0,zi=null,nc(n,r,_,1);break;case 2:case 9:if(by(_)){wt=0,zi=null,d0(r);break}r=function(){wt!==2&&wt!==9||Ot!==n||(wt=7),fs(n)},_.then(r,r);break e;case 3:wt=7;break e;case 4:wt=5;break e;case 7:by(_)?(wt=0,zi=null,d0(r)):(wt=0,zi=null,nc(n,r,_,7));break;case 5:var A=null;switch(Je.tag){case 26:A=Je.memoizedState;case 5:case 27:var I=Je;if(A?X0(A):I.stateNode.complete){wt=0,zi=null;var U=I.sibling;if(U!==null)Je=U;else{var te=I.return;te!==null?(Je=te,cd(te)):Je=null}break t}}wt=0,zi=null,nc(n,r,_,5);break;case 6:wt=0,zi=null,nc(n,r,_,6);break;case 8:cp(),en=6;break e;default:throw Error(s(462))}}DA();break}catch(le){o0(n,le)}while(!0);return kr=hs=null,ae.H=u,ae.A=p,vt=o,Je!==null?0:(Ot=null,it=0,Fo(),en)}function DA(){for(;Je!==null&&!bl();)h0(Je)}function h0(n){var r=kv(n.alternate,n,Qs);n.memoizedProps=n.pendingProps,r===null?cd(n):Je=r}function d0(n){var r=n,o=r.alternate;switch(r.tag){case 15:case 0:r=Rv(o,r,r.pendingProps,r.type,void 0,it);break;case 11:r=Rv(o,r,r.pendingProps,r.type.render,r.ref,it);break;case 5:Am(r);default:jv(o,r),r=Je=Fc(r,Qs),r=kv(o,r,Qs)}n.memoizedProps=n.pendingProps,r===null?cd(n):Je=r}function nc(n,r,o,u){kr=hs=null,Am(r),Gl=null,Xc=0;var p=r.return;try{if(TA(n,p,r,o,it)){en=1,$h(n,c(o,n.current)),Je=null;return}}catch(_){if(p!==null)throw Je=p,_;en=1,$h(n,c(o,n.current)),Je=null;return}r.flags&32768?(We||u===1?n=!0:Wl||(it&536870912)!==0?n=!1:(ka=n=!0,(u===2||u===9||u===3||u===6)&&(u=ji.current,u!==null&&u.tag===13&&(u.flags|=16384))),f0(r,n)):cd(r)}function cd(n){var r=n;do{if((r.flags&32768)!==0){f0(r,ka);return}n=r.return;var o=CA(r.alternate,r,Qs);if(o!==null){Je=o;return}if(r=r.sibling,r!==null){Je=r;return}Je=r=n}while(r!==null);en===0&&(en=5)}function f0(n,r){do{var o=NA(n.alternate,n);if(o!==null){o.flags&=32767,Je=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(n=n.sibling,n!==null)){Je=n;return}Je=n=o}while(n!==null);en=6,Je=null}function m0(n,r,o,u,p,_,A,I,U){n.cancelPendingCommit=null;do ud();while(xn!==0);if((vt&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(_=r.lanes|r.childLanes,_|=jl,qc(n,o,_,A,I,U),n===Ot&&(Je=Ot=null,it=0),ec=r,Va=n,$s=o,ap=_,op=p,i0=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,UA(Er,function(){return v0(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=ae.T,ae.T=null,p=be.p,be.p=2,A=vt,vt|=4;try{RA(n,r,o)}finally{vt=A,be.p=p,ae.T=u}}xn=1,p0(),g0(),_0()}}function p0(){if(xn===1){xn=0;var n=Va,r=ec,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=ae.T,ae.T=null;var u=be.p;be.p=2;var p=vt;vt|=4;try{Qv(r,n);var _=Ep,A=zo(n.containerInfo),I=_.focusedElem,U=_.selectionRange;if(A!==I&&I&&I.ownerDocument&&Ol(I.ownerDocument.documentElement,I)){if(U!==null&&rs(I)){var te=U.start,le=U.end;if(le===void 0&&(le=te),"selectionStart"in I)I.selectionStart=te,I.selectionEnd=Math.min(le,I.value.length);else{var fe=I.ownerDocument||document,ie=fe&&fe.defaultView||window;if(ie.getSelection){var se=ie.getSelection(),Pe=I.textContent.length,Ve=Math.min(U.start,Pe),Rt=U.end===void 0?Ve:Math.min(U.end,Pe);!se.extend&&Ve>Rt&&(A=Rt,Rt=Ve,Ve=A);var Y=Vo(I,Ve),F=Vo(I,Rt);if(Y&&F&&(se.rangeCount!==1||se.anchorNode!==Y.node||se.anchorOffset!==Y.offset||se.focusNode!==F.node||se.focusOffset!==F.offset)){var ee=fe.createRange();ee.setStart(Y.node,Y.offset),se.removeAllRanges(),Ve>Rt?(se.addRange(ee),se.extend(F.node,F.offset)):(ee.setEnd(F.node,F.offset),se.addRange(ee))}}}}for(fe=[],se=I;se=se.parentNode;)se.nodeType===1&&fe.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<fe.length;I++){var ue=fe[I];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}Ed=!!bp,Ep=bp=null}finally{vt=p,be.p=u,ae.T=o}}n.current=r,xn=2}}function g0(){if(xn===2){xn=0;var n=Va,r=ec,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=ae.T,ae.T=null;var u=be.p;be.p=2;var p=vt;vt|=4;try{Fv(n,r.alternate,r)}finally{vt=p,be.p=u,ae.T=o}}xn=3}}function _0(){if(xn===4||xn===3){xn=0,xo();var n=Va,r=ec,o=$s,u=i0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?xn=5:(xn=0,ec=Va=null,y0(n,n.pendingLanes));var p=n.pendingLanes;if(p===0&&(ja=null),Ie(o),r=r.stateNode,sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(ri,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=ae.T,p=be.p,be.p=2,ae.T=null;try{for(var _=n.onRecoverableError,A=0;A<u.length;A++){var I=u[A];_(I.value,{componentStack:I.stack})}}finally{ae.T=r,be.p=p}}($s&3)!==0&&ud(),fs(n),p=n.pendingLanes,(o&261930)!==0&&(p&42)!==0?n===lp?mu++:(mu=0,lp=n):mu=0,pu(0)}}function y0(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,Qc(r)))}function ud(){return p0(),g0(),_0(),v0()}function v0(){if(xn!==5)return!1;var n=Va,r=ap;ap=0;var o=Ie($s),u=ae.T,p=be.p;try{be.p=32>o?32:o,ae.T=null,o=op,op=null;var _=Va,A=$s;if(xn=0,ec=Va=null,$s=0,(vt&6)!==0)throw Error(s(331));var I=vt;if(vt|=4,e0(_.current),Xv(_,_.current,A,o),vt=I,pu(0,!1),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(ri,_)}catch{}return!0}finally{be.p=p,ae.T=u,y0(n,r)}}function x0(n,r,o){r=c(o,r),r=Um(n.stateNode,r,2),n=Pa(n,r,2),n!==null&&(wr(n,2),fs(n))}function Tt(n,r,o){if(n.tag===3)x0(n,n,o);else for(;r!==null;){if(r.tag===3){x0(r,n,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ja===null||!ja.has(u))){n=c(o,n),o=bv(2),u=Pa(r,o,2),u!==null&&(Ev(o,u,r,n),wr(u,2),fs(u));break}}r=r.return}}function hp(n,r,o){var u=n.pingCache;if(u===null){u=n.pingCache=new MA;var p=new Set;u.set(r,p)}else p=u.get(r),p===void 0&&(p=new Set,u.set(r,p));p.has(o)||(ip=!0,p.add(o),n=jA.bind(null,n,r,o),r.then(n,n))}function jA(n,r,o){var u=n.pingCache;u!==null&&u.delete(r),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,Ot===n&&(it&o)===o&&(en===4||en===3&&(it&62914560)===it&&300>Pn()-rd?(vt&2)===0&&tc(n,0):rp|=o,Jl===it&&(Jl=0)),fs(n)}function b0(n,r){r===0&&(r=Tl()),n=cr(n,r),n!==null&&(wr(n,r),fs(n))}function VA(n){var r=n.memoizedState,o=0;r!==null&&(o=r.retryLane),b0(n,o)}function zA(n,r){var o=0;switch(n.tag){case 31:case 13:var u=n.stateNode,p=n.memoizedState;p!==null&&(o=p.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),b0(n,o)}function UA(n,r){return Qt(n,r)}var hd=null,ic=null,dp=!1,dd=!1,fp=!1,Ua=0;function fs(n){n!==ic&&n.next===null&&(ic===null?hd=ic=n:ic=ic.next=n),dd=!0,dp||(dp=!0,qA())}function pu(n,r){if(!fp&&dd){fp=!0;do for(var o=!1,u=hd;u!==null;){if(n!==0){var p=u.pendingLanes;if(p===0)var _=0;else{var A=u.suspendedLanes,I=u.pingedLanes;_=(1<<31-qt(42|n)+1)-1,_&=p&~(A&~I),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(o=!0,A0(u,_))}else _=it,_=$i(u,u===Ot?_:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(_&3)===0||Ai(u,_)||(o=!0,A0(u,_));u=u.next}while(o);fp=!1}}function BA(){E0()}function E0(){dd=dp=!1;var n=0;Ua!==0&&WA()&&(n=Ua);for(var r=Pn(),o=null,u=hd;u!==null;){var p=u.next,_=w0(u,r);_===0?(u.next=null,o===null?hd=p:o.next=p,p===null&&(ic=o)):(o=u,(n!==0||(_&3)!==0)&&(dd=!0)),u=p}xn!==0&&xn!==5||pu(n),Ua!==0&&(Ua=0)}function w0(n,r){for(var o=n.suspendedLanes,u=n.pingedLanes,p=n.expirationTimes,_=n.pendingLanes&-62914561;0<_;){var A=31-qt(_),I=1<<A,U=p[A];U===-1?((I&o)===0||(I&u)!==0)&&(p[A]=Bc(I,r)):U<=r&&(n.expiredLanes|=I),_&=~I}if(r=Ot,o=it,o=$i(n,n===r?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===r&&(wt===2||wt===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Yi(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||Ai(n,o)){if(r=o&-o,r===n.callbackPriority)return r;switch(u!==null&&Yi(u),Ie(o)){case 2:case 8:o=la;break;case 32:o=Er;break;case 268435456:o=bo;break;default:o=Er}return u=T0.bind(null,n),o=Qt(o,u),n.callbackPriority=r,n.callbackNode=o,r}return u!==null&&u!==null&&Yi(u),n.callbackPriority=2,n.callbackNode=null,2}function T0(n,r){if(xn!==0&&xn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(ud()&&n.callbackNode!==o)return null;var u=it;return u=$i(n,n===Ot?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(s0(n,u,r),w0(n,Pn()),n.callbackNode!=null&&n.callbackNode===o?T0.bind(null,n):null)}function A0(n,r){if(ud())return null;s0(n,r,!0)}function qA(){eS(function(){(vt&6)!==0?Qt(Cs,BA):E0()})}function mp(){if(Ua===0){var n=ql;n===0&&(n=Ti,Ti<<=1,(Ti&261888)===0&&(Ti=256)),Ua=n}return Ua}function S0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Jr(""+n)}function C0(n,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,n.id&&o.setAttribute("form",n.id),r.parentNode.insertBefore(o,r),n=new FormData(n),o.parentNode.removeChild(o),n}function HA(n,r,o,u,p){if(r==="submit"&&o&&o.stateNode===p){var _=S0((p[$t]||null).action),A=u.submitter;A&&(r=(r=A[$t]||null)?S0(r.formAction):A.getAttribute("formAction"),r!==null&&(_=r,A=null));var I=new sr("action","action",null,u,p);n.push({event:I,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ua!==0){var U=A?C0(p,A):new FormData(p);Lm(o,{pending:!0,data:U,method:p.method,action:_},null,U)}}else typeof _=="function"&&(I.preventDefault(),U=A?C0(p,A):new FormData(p),Lm(o,{pending:!0,data:U,method:p.method,action:_},_,U))},currentTarget:p}]})}}for(var pp=0;pp<os.length;pp++){var gp=os[pp],FA=gp.toLowerCase(),GA=gp[0].toUpperCase()+gp.slice(1);mi(FA,"on"+GA)}mi(Bo,"onAnimationEnd"),mi(Ih,"onAnimationIteration"),mi(qo,"onAnimationStart"),mi("dblclick","onDoubleClick"),mi("focusin","onFocus"),mi("focusout","onBlur"),mi(sm,"onTransitionRun"),mi(Ph,"onTransitionStart"),mi(am,"onTransitionCancel"),mi(Sa,"onTransitionEnd"),li("onMouseEnter",["mouseout","mouseover"]),li("onMouseLeave",["mouseout","mouseover"]),li("onPointerEnter",["pointerout","pointerover"]),li("onPointerLeave",["pointerout","pointerover"]),er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),er("onBeforeInput",["compositionend","keypress","textInput","paste"]),er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gu));function N0(n,r){r=(r&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],p=u.event;u=u.listeners;e:{var _=void 0;if(r)for(var A=u.length-1;0<=A;A--){var I=u[A],U=I.instance,te=I.currentTarget;if(I=I.listener,U!==_&&p.isPropagationStopped())break e;_=I,p.currentTarget=te;try{_(p)}catch(le){Ho(le)}p.currentTarget=null,_=U}else for(A=0;A<u.length;A++){if(I=u[A],U=I.instance,te=I.currentTarget,I=I.listener,U!==_&&p.isPropagationStopped())break e;_=I,p.currentTarget=te;try{_(p)}catch(le){Ho(le)}p.currentTarget=null,_=U}}}}function et(n,r){var o=r[Ci];o===void 0&&(o=r[Ci]=new Set);var u=n+"__bubble";o.has(u)||(R0(r,n,2,!1),o.add(u))}function _p(n,r,o){var u=0;r&&(u|=4),R0(o,n,u,r)}var fd="_reactListening"+Math.random().toString(36).slice(2);function yp(n){if(!n[fd]){n[fd]=!0,So.forEach(function(o){o!=="selectionchange"&&(ZA.has(o)||_p(o,!1,n),_p(o,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[fd]||(r[fd]=!0,_p("selectionchange",!1,r))}}function R0(n,r,o,u){switch(rx(r)){case 2:var p=xS;break;case 8:p=bS;break;default:p=Op}o=p.bind(null,r,o,n),p=void 0,!Cr||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(p=!0),u?p!==void 0?n.addEventListener(r,o,{capture:!0,passive:p}):n.addEventListener(r,o,!0):p!==void 0?n.addEventListener(r,o,{passive:p}):n.addEventListener(r,o,!1)}function vp(n,r,o,u,p){var _=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var A=u.tag;if(A===3||A===4){var I=u.stateNode.containerInfo;if(I===p)break;if(A===4)for(A=u.return;A!==null;){var U=A.tag;if((U===3||U===4)&&A.stateNode.containerInfo===p)return;A=A.return}for(;I!==null;){if(A=Ni(I),A===null)return;if(U=A.tag,U===5||U===6||U===26||U===27){u=_=A;continue e}I=I.parentNode}}u=u.return}Sr(function(){var te=_,le=zn(o),fe=[];e:{var ie=Mh.get(n);if(ie!==void 0){var se=sr,Pe=n;switch(n){case"keypress":if(ts(o)===0)break e;case"keydown":case"keyup":se=Oo;break;case"focusin":Pe="focus",se=Ls;break;case"focusout":Pe="blur",se=Ls;break;case"beforeblur":case"afterblur":se=Ls;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=No;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=Nl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=E;break;case Bo:case Ih:case qo:se=ga;break;case Sa:se=P;break;case"scroll":case"scrollend":se=Qe;break;case"wheel":se=re;break;case"copy":case"cut":case"paste":se=Wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=Pr;break;case"toggle":case"beforetoggle":se=Be}var Ve=(r&4)!==0,Rt=!Ve&&(n==="scroll"||n==="scrollend"),Y=Ve?ie!==null?ie+"Capture":null:ie;Ve=[];for(var F=te,ee;F!==null;){var ue=F;if(ee=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||ee===null||Y===null||(ue=Xn(F,Y),ue!=null&&Ve.push(_u(F,ue,ee))),Rt)break;F=F.return}0<Ve.length&&(ie=new se(ie,Pe,null,o,le),fe.push({event:ie,listeners:Ve}))}}if((r&7)===0){e:{if(ie=n==="mouseover"||n==="pointerover",se=n==="mouseout"||n==="pointerout",ie&&o!==pa&&(Pe=o.relatedTarget||o.fromElement)&&(Ni(Pe)||Pe[Si]))break e;if((se||ie)&&(ie=le.window===le?le:(ie=le.ownerDocument)?ie.defaultView||ie.parentWindow:window,se?(Pe=o.relatedTarget||o.toElement,se=te,Pe=Pe?Ni(Pe):null,Pe!==null&&(Rt=h(Pe),Ve=Pe.tag,Pe!==Rt||Ve!==5&&Ve!==27&&Ve!==6)&&(Pe=null)):(se=null,Pe=te),se!==Pe)){if(Ve=No,ue="onMouseLeave",Y="onMouseEnter",F="mouse",(n==="pointerout"||n==="pointerover")&&(Ve=Pr,ue="onPointerLeave",Y="onPointerEnter",F="pointer"),Rt=se==null?ie:wn(se),ee=Pe==null?ie:wn(Pe),ie=new Ve(ue,F+"leave",se,o,le),ie.target=Rt,ie.relatedTarget=ee,ue=null,Ni(le)===te&&(Ve=new Ve(Y,F+"enter",Pe,o,le),Ve.target=ee,Ve.relatedTarget=Rt,ue=Ve),Rt=ue,se&&Pe)t:{for(Ve=KA,Y=se,F=Pe,ee=0,ue=Y;ue;ue=Ve(ue))ee++;ue=0;for(var Le=F;Le;Le=Ve(Le))ue++;for(;0<ee-ue;)Y=Ve(Y),ee--;for(;0<ue-ee;)F=Ve(F),ue--;for(;ee--;){if(Y===F||F!==null&&Y===F.alternate){Ve=Y;break t}Y=Ve(Y),F=Ve(F)}Ve=null}else Ve=null;se!==null&&I0(fe,ie,se,Ve,!1),Pe!==null&&Rt!==null&&I0(fe,Rt,Pe,Ve,!0)}}e:{if(ie=te?wn(te):window,se=ie.nodeName&&ie.nodeName.toLowerCase(),se==="select"||se==="input"&&ie.type==="file")var _t=jo;else if(ar(ie))if(Ah)_t=rm;else{_t=im;var Me=Mr}else se=ie.nodeName,!se||se.toLowerCase()!=="input"||ie.type!=="checkbox"&&ie.type!=="radio"?te&&Wr(te.elementType)&&(_t=jo):_t=Ea;if(_t&&(_t=_t(n,te))){Th(fe,_t,o,le);break e}Me&&Me(n,ie,te),n==="focusout"&&te&&ie.type==="number"&&te.memoizedProps.value!=null&&Ri(ie,"number",ie.value)}switch(Me=te?wn(te):window,n){case"focusin":(ar(Me)||Me.contentEditable==="true")&&(ss=Me,kl=te,Uo=null);break;case"focusout":Uo=kl=ss=null;break;case"mousedown":Ta=!0;break;case"contextmenu":case"mouseup":case"dragend":Ta=!1,Nh(fe,o,le);break;case"selectionchange":if(Ll)break;case"keydown":case"keyup":Nh(fe,o,le)}var Ye;if(ht)e:{switch(n){case"compositionstart":var rt="onCompositionStart";break e;case"compositionend":rt="onCompositionEnd";break e;case"compositionupdate":rt="onCompositionUpdate";break e}rt=void 0}else va?ks(n,o)&&(rt="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(rt="onCompositionStart");rt&&(fi&&o.locale!=="ko"&&(va||rt!=="onCompositionStart"?rt==="onCompositionEnd"&&va&&(Ye=Ii()):(hi=le,Nr="value"in hi?hi.value:hi.textContent,va=!0)),Me=md(te,rt),0<Me.length&&(rt=new Oi(rt,n,null,o,le),fe.push({event:rt,listeners:Me}),Ye?rt.data=Ye:(Ye=Ds(o),Ye!==null&&(rt.data=Ye)))),(Ye=di?Di(n,o):xa(n,o))&&(rt=md(te,"onBeforeInput"),0<rt.length&&(Me=new Oi("onBeforeInput","beforeinput",null,o,le),fe.push({event:Me,listeners:rt}),Me.data=Ye)),HA(fe,n,te,o,le)}N0(fe,r)})}function _u(n,r,o){return{instance:n,listener:r,currentTarget:o}}function md(n,r){for(var o=r+"Capture",u=[];n!==null;){var p=n,_=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||_===null||(p=Xn(n,o),p!=null&&u.unshift(_u(n,p,_)),p=Xn(n,r),p!=null&&u.push(_u(n,p,_))),n.tag===3)return u;n=n.return}return[]}function KA(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function I0(n,r,o,u,p){for(var _=r._reactName,A=[];o!==null&&o!==u;){var I=o,U=I.alternate,te=I.stateNode;if(I=I.tag,U!==null&&U===u)break;I!==5&&I!==26&&I!==27||te===null||(U=te,p?(te=Xn(o,_),te!=null&&A.unshift(_u(o,te,U))):p||(te=Xn(o,_),te!=null&&A.push(_u(o,te,U)))),o=o.return}A.length!==0&&n.push({event:r,listeners:A})}var YA=/\r\n?/g,QA=/\u0000|\uFFFD/g;function P0(n){return(typeof n=="string"?n:""+n).replace(YA,`
`).replace(QA,"")}function M0(n,r){return r=P0(r),P0(n)===r}function Nt(n,r,o,u,p,_){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||un(n,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&un(n,""+u);break;case"className":Xe(n,"class",u);break;case"tabIndex":Xe(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Xe(n,o,u);break;case"style":Ps(n,u,_);break;case"data":if(r!=="object"){Xe(n,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Jr(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(o==="formAction"?(r!=="input"&&Nt(n,r,"name",p.name,p,null),Nt(n,r,"formEncType",p.formEncType,p,null),Nt(n,r,"formMethod",p.formMethod,p,null),Nt(n,r,"formTarget",p.formTarget,p,null)):(Nt(n,r,"encType",p.encType,p,null),Nt(n,r,"method",p.method,p,null),Nt(n,r,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Jr(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=Vn);break;case"onScroll":u!=null&&et("scroll",n);break;case"onScrollEnd":u!=null&&et("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(s(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=Jr(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":et("beforetoggle",n),et("toggle",n),$e(n,"popover",u);break;case"xlinkActuate":kt(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":kt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":kt(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":kt(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":kt(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":kt(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":kt(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":kt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":kt(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":$e(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Ms.get(o)||o,$e(n,o,u))}}function xp(n,r,o,u,p,_){switch(o){case"style":Ps(n,u,_);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(s(60));n.innerHTML=o}}break;case"children":typeof u=="string"?un(n,u):(typeof u=="number"||typeof u=="bigint")&&un(n,""+u);break;case"onScroll":u!=null&&et("scroll",n);break;case"onScrollEnd":u!=null&&et("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Vn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Co.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),r=o.slice(2,p?o.length-7:void 0),_=n[$t]||null,_=_!=null?_[o]:null,typeof _=="function"&&n.removeEventListener(r,_,p),typeof u=="function")){typeof _!="function"&&_!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(r,u,p);break e}o in n?n[o]=u:u===!0?n.setAttribute(o,""):$e(n,o,u)}}}function Ln(n,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":et("error",n),et("load",n);var u=!1,p=!1,_;for(_ in o)if(o.hasOwnProperty(_)){var A=o[_];if(A!=null)switch(_){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Nt(n,r,_,A,o,null)}}p&&Nt(n,r,"srcSet",o.srcSet,o,null),u&&Nt(n,r,"src",o.src,o,null);return;case"input":et("invalid",n);var I=_=A=p=null,U=null,te=null;for(u in o)if(o.hasOwnProperty(u)){var le=o[u];if(le!=null)switch(u){case"name":p=le;break;case"type":A=le;break;case"checked":U=le;break;case"defaultChecked":te=le;break;case"value":_=le;break;case"defaultValue":I=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(s(137,r));break;default:Nt(n,r,u,le,o,null)}}Is(n,_,I,U,te,A,p,!1);return;case"select":et("invalid",n),u=A=_=null;for(p in o)if(o.hasOwnProperty(p)&&(I=o[p],I!=null))switch(p){case"value":_=I;break;case"defaultValue":A=I;break;case"multiple":u=I;default:Nt(n,r,p,I,o,null)}r=_,o=A,n.multiple=!!u,r!=null?Et(n,!!u,r,!1):o!=null&&Et(n,!!u,o,!0);return;case"textarea":et("invalid",n),_=p=u=null;for(A in o)if(o.hasOwnProperty(A)&&(I=o[A],I!=null))switch(A){case"value":u=I;break;case"defaultValue":p=I;break;case"children":_=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(s(91));break;default:Nt(n,r,A,I,o,null)}ui(n,u,p,_);return;case"option":for(U in o)if(o.hasOwnProperty(U)&&(u=o[U],u!=null))switch(U){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Nt(n,r,U,u,o,null)}return;case"dialog":et("beforetoggle",n),et("toggle",n),et("cancel",n),et("close",n);break;case"iframe":case"object":et("load",n);break;case"video":case"audio":for(u=0;u<gu.length;u++)et(gu[u],n);break;case"image":et("error",n),et("load",n);break;case"details":et("toggle",n);break;case"embed":case"source":case"link":et("error",n),et("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in o)if(o.hasOwnProperty(te)&&(u=o[te],u!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Nt(n,r,te,u,o,null)}return;default:if(Wr(r)){for(le in o)o.hasOwnProperty(le)&&(u=o[le],u!==void 0&&xp(n,r,le,u,o,void 0));return}}for(I in o)o.hasOwnProperty(I)&&(u=o[I],u!=null&&Nt(n,r,I,u,o,null))}function $A(n,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,_=null,A=null,I=null,U=null,te=null,le=null;for(se in o){var fe=o[se];if(o.hasOwnProperty(se)&&fe!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":U=fe;default:u.hasOwnProperty(se)||Nt(n,r,se,null,u,fe)}}for(var ie in u){var se=u[ie];if(fe=o[ie],u.hasOwnProperty(ie)&&(se!=null||fe!=null))switch(ie){case"type":_=se;break;case"name":p=se;break;case"checked":te=se;break;case"defaultChecked":le=se;break;case"value":A=se;break;case"defaultValue":I=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(s(137,r));break;default:se!==fe&&Nt(n,r,ie,se,u,fe)}}fa(n,A,I,U,te,le,_,p);return;case"select":se=A=I=ie=null;for(_ in o)if(U=o[_],o.hasOwnProperty(_)&&U!=null)switch(_){case"value":break;case"multiple":se=U;default:u.hasOwnProperty(_)||Nt(n,r,_,null,u,U)}for(p in u)if(_=u[p],U=o[p],u.hasOwnProperty(p)&&(_!=null||U!=null))switch(p){case"value":ie=_;break;case"defaultValue":I=_;break;case"multiple":A=_;default:_!==U&&Nt(n,r,p,_,u,U)}r=I,o=A,u=se,ie!=null?Et(n,!!o,ie,!1):!!u!=!!o&&(r!=null?Et(n,!!o,r,!0):Et(n,!!o,o?[]:"",!1));return;case"textarea":se=ie=null;for(I in o)if(p=o[I],o.hasOwnProperty(I)&&p!=null&&!u.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:Nt(n,r,I,null,u,p)}for(A in u)if(p=u[A],_=o[A],u.hasOwnProperty(A)&&(p!=null||_!=null))switch(A){case"value":ie=p;break;case"defaultValue":se=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(s(91));break;default:p!==_&&Nt(n,r,A,p,u,_)}nr(n,ie,se);return;case"option":for(var Pe in o)if(ie=o[Pe],o.hasOwnProperty(Pe)&&ie!=null&&!u.hasOwnProperty(Pe))switch(Pe){case"selected":n.selected=!1;break;default:Nt(n,r,Pe,null,u,ie)}for(U in u)if(ie=u[U],se=o[U],u.hasOwnProperty(U)&&ie!==se&&(ie!=null||se!=null))switch(U){case"selected":n.selected=ie&&typeof ie!="function"&&typeof ie!="symbol";break;default:Nt(n,r,U,ie,u,se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in o)ie=o[Ve],o.hasOwnProperty(Ve)&&ie!=null&&!u.hasOwnProperty(Ve)&&Nt(n,r,Ve,null,u,ie);for(te in u)if(ie=u[te],se=o[te],u.hasOwnProperty(te)&&ie!==se&&(ie!=null||se!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(s(137,r));break;default:Nt(n,r,te,ie,u,se)}return;default:if(Wr(r)){for(var Rt in o)ie=o[Rt],o.hasOwnProperty(Rt)&&ie!==void 0&&!u.hasOwnProperty(Rt)&&xp(n,r,Rt,void 0,u,ie);for(le in u)ie=u[le],se=o[le],!u.hasOwnProperty(le)||ie===se||ie===void 0&&se===void 0||xp(n,r,le,ie,u,se);return}}for(var Y in o)ie=o[Y],o.hasOwnProperty(Y)&&ie!=null&&!u.hasOwnProperty(Y)&&Nt(n,r,Y,null,u,ie);for(fe in u)ie=u[fe],se=o[fe],!u.hasOwnProperty(fe)||ie===se||ie==null&&se==null||Nt(n,r,fe,ie,u,se)}function O0(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function XA(){if(typeof performance.getEntriesByType=="function"){for(var n=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var p=o[u],_=p.transferSize,A=p.initiatorType,I=p.duration;if(_&&I&&O0(A)){for(A=0,I=p.responseEnd,u+=1;u<o.length;u++){var U=o[u],te=U.startTime;if(te>I)break;var le=U.transferSize,fe=U.initiatorType;le&&O0(fe)&&(U=U.responseEnd,A+=le*(U<I?1:(I-te)/(U-te)))}if(--u,r+=8*(_+A)/(p.duration/1e3),n++,10<n)break}}if(0<n)return r/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var bp=null,Ep=null;function pd(n){return n.nodeType===9?n:n.ownerDocument}function L0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function k0(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function wp(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Tp=null;function WA(){var n=window.event;return n&&n.type==="popstate"?n===Tp?!1:(Tp=n,!0):(Tp=null,!1)}var D0=typeof setTimeout=="function"?setTimeout:void 0,JA=typeof clearTimeout=="function"?clearTimeout:void 0,j0=typeof Promise=="function"?Promise:void 0,eS=typeof queueMicrotask=="function"?queueMicrotask:typeof j0<"u"?function(n){return j0.resolve(null).then(n).catch(tS)}:D0;function tS(n){setTimeout(function(){throw n})}function Ba(n){return n==="head"}function V0(n,r){var o=r,u=0;do{var p=o.nextSibling;if(n.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(u===0){n.removeChild(p),oc(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")yu(n.ownerDocument.documentElement);else if(o==="head"){o=n.ownerDocument.head,yu(o);for(var _=o.firstChild;_;){var A=_.nextSibling,I=_.nodeName;_[Wi]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&_.rel.toLowerCase()==="stylesheet"||o.removeChild(_),_=A}}else o==="body"&&yu(n.ownerDocument.body);o=p}while(o);oc(r)}function z0(n,r){var o=n;n=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(n===0)break;n--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||n++;o=u}while(o)}function Ap(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Ap(o),ua(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function nS(n,r,o,u){for(;n.nodeType===1;){var p=o;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Wi])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(_=n.getAttribute("rel"),_==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(_!==p.rel||n.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||n.getAttribute("title")!==(p.title==null?null:p.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(_=n.getAttribute("src"),(_!==(p.src==null?null:p.src)||n.getAttribute("type")!==(p.type==null?null:p.type)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&_&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var _=p.name==null?null:""+p.name;if(p.type==="hidden"&&n.getAttribute("name")===_)return n}else return n;if(n=dr(n.nextSibling),n===null)break}return null}function iS(n,r,o){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=dr(n.nextSibling),n===null))return null;return n}function U0(n,r){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=dr(n.nextSibling),n===null))return null;return n}function Sp(n){return n.data==="$?"||n.data==="$~"}function Cp(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function rS(n,r){var o=n.ownerDocument;if(n.data==="$~")n._reactRetry=r;else if(n.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function dr(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return n}var Np=null;function B0(n){n=n.nextSibling;for(var r=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"||o==="/&"){if(r===0)return dr(n.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}n=n.nextSibling}return null}function q0(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return n;r--}else o!=="/$"&&o!=="/&"||r++}n=n.previousSibling}return null}function H0(n,r,o){switch(r=pd(o),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function yu(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);ua(n)}var fr=new Map,F0=new Set;function gd(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Xs=be.d;be.d={f:sS,r:aS,D:oS,C:lS,L:cS,m:uS,X:dS,S:hS,M:fS};function sS(){var n=Xs.f(),r=od();return n||r}function aS(n){var r=oi(n);r!==null&&r.tag===5&&r.type==="form"?ov(r):Xs.r(n)}var rc=typeof document>"u"?null:document;function G0(n,r,o){var u=rc;if(u&&typeof r=="string"&&r){var p=Pt(r);p='link[rel="'+n+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),F0.has(p)||(F0.add(p),n={rel:n,crossOrigin:o,href:r},u.querySelector(p)===null&&(r=u.createElement("link"),Ln(r,"link",n),Xt(r),u.head.appendChild(r)))}}function oS(n){Xs.D(n),G0("dns-prefetch",n,null)}function lS(n,r){Xs.C(n,r),G0("preconnect",n,r)}function cS(n,r,o){Xs.L(n,r,o);var u=rc;if(u&&n&&r){var p='link[rel="preload"][as="'+Pt(r)+'"]';r==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+Pt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+Pt(o.imageSizes)+'"]')):p+='[href="'+Pt(n)+'"]';var _=p;switch(r){case"style":_=sc(n);break;case"script":_=ac(n)}fr.has(_)||(n=w({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:n,as:r},o),fr.set(_,n),u.querySelector(p)!==null||r==="style"&&u.querySelector(vu(_))||r==="script"&&u.querySelector(xu(_))||(r=u.createElement("link"),Ln(r,"link",n),Xt(r),u.head.appendChild(r)))}}function uS(n,r){Xs.m(n,r);var o=rc;if(o&&n){var u=r&&typeof r.as=="string"?r.as:"script",p='link[rel="modulepreload"][as="'+Pt(u)+'"][href="'+Pt(n)+'"]',_=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=ac(n)}if(!fr.has(_)&&(n=w({rel:"modulepreload",href:n},r),fr.set(_,n),o.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(xu(_)))return}u=o.createElement("link"),Ln(u,"link",n),Xt(u),o.head.appendChild(u)}}}function hS(n,r,o){Xs.S(n,r,o);var u=rc;if(u&&n){var p=Ji(u).hoistableStyles,_=sc(n);r=r||"default";var A=p.get(_);if(!A){var I={loading:0,preload:null};if(A=u.querySelector(vu(_)))I.loading=5;else{n=w({rel:"stylesheet",href:n,"data-precedence":r},o),(o=fr.get(_))&&Rp(n,o);var U=A=u.createElement("link");Xt(U),Ln(U,"link",n),U._p=new Promise(function(te,le){U.onload=te,U.onerror=le}),U.addEventListener("load",function(){I.loading|=1}),U.addEventListener("error",function(){I.loading|=2}),I.loading|=4,_d(A,r,u)}A={type:"stylesheet",instance:A,count:1,state:I},p.set(_,A)}}}function dS(n,r){Xs.X(n,r);var o=rc;if(o&&n){var u=Ji(o).hoistableScripts,p=ac(n),_=u.get(p);_||(_=o.querySelector(xu(p)),_||(n=w({src:n,async:!0},r),(r=fr.get(p))&&Ip(n,r),_=o.createElement("script"),Xt(_),Ln(_,"link",n),o.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},u.set(p,_))}}function fS(n,r){Xs.M(n,r);var o=rc;if(o&&n){var u=Ji(o).hoistableScripts,p=ac(n),_=u.get(p);_||(_=o.querySelector(xu(p)),_||(n=w({src:n,async:!0,type:"module"},r),(r=fr.get(p))&&Ip(n,r),_=o.createElement("script"),Xt(_),Ln(_,"link",n),o.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},u.set(p,_))}}function Z0(n,r,o,u){var p=(p=Te.current)?gd(p):null;if(!p)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=sc(o.href),o=Ji(p).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=sc(o.href);var _=Ji(p).hoistableStyles,A=_.get(n);if(A||(p=p.ownerDocument||p,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(n,A),(_=p.querySelector(vu(n)))&&!_._p&&(A.instance=_,A.state.loading=5),fr.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},fr.set(n,o),_||mS(p,n,o,A.state))),r&&u===null)throw Error(s(528,""));return A}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ac(o),o=Ji(p).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function sc(n){return'href="'+Pt(n)+'"'}function vu(n){return'link[rel="stylesheet"]['+n+"]"}function K0(n){return w({},n,{"data-precedence":n.precedence,precedence:null})}function mS(n,r,o,u){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=n.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Ln(r,"link",o),Xt(r),n.head.appendChild(r))}function ac(n){return'[src="'+Pt(n)+'"]'}function xu(n){return"script[async]"+n}function Y0(n,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=n.querySelector('style[data-href~="'+Pt(o.href)+'"]');if(u)return r.instance=u,Xt(u),u;var p=w({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),Xt(u),Ln(u,"style",p),_d(u,o.precedence,n),r.instance=u;case"stylesheet":p=sc(o.href);var _=n.querySelector(vu(p));if(_)return r.state.loading|=4,r.instance=_,Xt(_),_;u=K0(o),(p=fr.get(p))&&Rp(u,p),_=(n.ownerDocument||n).createElement("link"),Xt(_);var A=_;return A._p=new Promise(function(I,U){A.onload=I,A.onerror=U}),Ln(_,"link",u),r.state.loading|=4,_d(_,o.precedence,n),r.instance=_;case"script":return _=ac(o.src),(p=n.querySelector(xu(_)))?(r.instance=p,Xt(p),p):(u=o,(p=fr.get(_))&&(u=w({},o),Ip(u,p)),n=n.ownerDocument||n,p=n.createElement("script"),Xt(p),Ln(p,"link",u),n.head.appendChild(p),r.instance=p);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,_d(u,o.precedence,n));return r.instance}function _d(n,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,_=p,A=0;A<u.length;A++){var I=u[A];if(I.dataset.precedence===r)_=I;else if(_!==p)break}_?_.parentNode.insertBefore(n,_.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(n,r.firstChild))}function Rp(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Ip(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var yd=null;function Q0(n,r,o){if(yd===null){var u=new Map,p=yd=new Map;p.set(o,u)}else p=yd,u=p.get(o),u||(u=new Map,p.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),p=0;p<o.length;p++){var _=o[p];if(!(_[Wi]||_[Ft]||n==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var A=_.getAttribute(r)||"";A=n+A;var I=u.get(A);I?I.push(_):u.set(A,[_])}}return u}function $0(n,r,o){n=n.ownerDocument||n,n.head.insertBefore(o,r==="title"?n.querySelector("head > title"):null)}function pS(n,r,o){if(o===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function X0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function gS(n,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=sc(u.href),_=r.querySelector(vu(p));if(_){r=_._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(n.count++,n=vd.bind(n),r.then(n,n)),o.state.loading|=4,o.instance=_,Xt(_);return}_=r.ownerDocument||r,u=K0(u),(p=fr.get(p))&&Rp(u,p),_=_.createElement("link"),Xt(_);var A=_;A._p=new Promise(function(I,U){A.onload=I,A.onerror=U}),Ln(_,"link",u),o.instance=_}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(n.count++,o=vd.bind(n),r.addEventListener("load",o),r.addEventListener("error",o))}}var Pp=0;function _S(n,r){return n.stylesheets&&n.count===0&&bd(n,n.stylesheets),0<n.count||0<n.imgCount?function(o){var u=setTimeout(function(){if(n.stylesheets&&bd(n,n.stylesheets),n.unsuspend){var _=n.unsuspend;n.unsuspend=null,_()}},6e4+r);0<n.imgBytes&&Pp===0&&(Pp=62500*XA());var p=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&bd(n,n.stylesheets),n.unsuspend)){var _=n.unsuspend;n.unsuspend=null,_()}},(n.imgBytes>Pp?50:800)+r);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function vd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bd(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var xd=null;function bd(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,xd=new Map,r.forEach(yS,n),xd=null,vd.call(n))}function yS(n,r){if(!(r.state.loading&4)){var o=xd.get(n);if(o)var u=o.get(null);else{o=new Map,xd.set(n,o);for(var p=n.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<p.length;_++){var A=p[_];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(o.set(A.dataset.precedence,A),u=A)}u&&o.set(null,u)}p=r.instance,A=p.getAttribute("data-precedence"),_=o.get(A)||u,_===u&&o.set(null,p),o.set(A,p),this.count++,u=vd.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),_?_.parentNode.insertBefore(p,_.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(p,n.firstChild)),r.state.loading|=4}}var bu={$$typeof:J,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function vS(n,r,o,u,p,_,A,I,U){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xi(0),this.hiddenUpdates=Xi(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=_,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function W0(n,r,o,u,p,_,A,I,U,te,le,fe){return n=new vS(n,r,o,A,U,te,le,fe,I),r=1,_===!0&&(r|=24),_=Hn(3,null,null,r),n.current=_,_.stateNode=n,r=um(),r.refCount++,n.pooledCache=r,r.refCount++,_.memoizedState={element:u,isDehydrated:o,cache:r},mm(_),n}function J0(n){return n?(n=js,n):js}function ex(n,r,o,u,p,_){p=J0(p),u.context===null?u.context=p:u.pendingContext=p,u=Ia(r),u.payload={element:o},_=_===void 0?null:_,_!==null&&(u.callback=_),o=Pa(n,u,r),o!==null&&(bi(o,n,r),Jc(o,n,r))}function tx(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<r?o:r}}function Mp(n,r){tx(n,r),(n=n.alternate)&&tx(n,r)}function nx(n){if(n.tag===13||n.tag===31){var r=cr(n,67108864);r!==null&&bi(r,n,67108864),Mp(n,67108864)}}function ix(n){if(n.tag===13||n.tag===31){var r=Bi();r=En(r);var o=cr(n,r);o!==null&&bi(o,n,r),Mp(n,r)}}var Ed=!0;function xS(n,r,o,u){var p=ae.T;ae.T=null;var _=be.p;try{be.p=2,Op(n,r,o,u)}finally{be.p=_,ae.T=p}}function bS(n,r,o,u){var p=ae.T;ae.T=null;var _=be.p;try{be.p=8,Op(n,r,o,u)}finally{be.p=_,ae.T=p}}function Op(n,r,o,u){if(Ed){var p=Lp(u);if(p===null)vp(n,r,u,wd,o),sx(n,u);else if(wS(p,n,r,o,u))u.stopPropagation();else if(sx(n,u),r&4&&-1<ES.indexOf(n)){for(;p!==null;){var _=oi(p);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var A=Qi(_.pendingLanes);if(A!==0){var I=_;for(I.pendingLanes|=2,I.entangledLanes|=2;A;){var U=1<<31-qt(A);I.entanglements[1]|=U,A&=~U}fs(_),(vt&6)===0&&(sd=Pn()+500,pu(0))}}break;case 31:case 13:I=cr(_,2),I!==null&&bi(I,_,2),od(),Mp(_,2)}if(_=Lp(u),_===null&&vp(n,r,u,wd,o),_===p)break;p=_}p!==null&&u.stopPropagation()}else vp(n,r,u,null,o)}}function Lp(n){return n=zn(n),kp(n)}var wd=null;function kp(n){if(wd=null,n=Ni(n),n!==null){var r=h(n);if(r===null)n=null;else{var o=r.tag;if(o===13){if(n=d(r),n!==null)return n;n=null}else if(o===31){if(n=v(r),n!==null)return n;n=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return wd=n,null}function rx(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ss()){case Cs:return 2;case la:return 8;case Er:case Uc:return 32;case bo:return 268435456;default:return 32}default:return 32}}var Dp=!1,qa=null,Ha=null,Fa=null,Eu=new Map,wu=new Map,Ga=[],ES="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sx(n,r){switch(n){case"focusin":case"focusout":qa=null;break;case"dragenter":case"dragleave":Ha=null;break;case"mouseover":case"mouseout":Fa=null;break;case"pointerover":case"pointerout":Eu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":wu.delete(r.pointerId)}}function Tu(n,r,o,u,p,_){return n===null||n.nativeEvent!==_?(n={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:_,targetContainers:[p]},r!==null&&(r=oi(r),r!==null&&nx(r)),n):(n.eventSystemFlags|=u,r=n.targetContainers,p!==null&&r.indexOf(p)===-1&&r.push(p),n)}function wS(n,r,o,u,p){switch(r){case"focusin":return qa=Tu(qa,n,r,o,u,p),!0;case"dragenter":return Ha=Tu(Ha,n,r,o,u,p),!0;case"mouseover":return Fa=Tu(Fa,n,r,o,u,p),!0;case"pointerover":var _=p.pointerId;return Eu.set(_,Tu(Eu.get(_)||null,n,r,o,u,p)),!0;case"gotpointercapture":return _=p.pointerId,wu.set(_,Tu(wu.get(_)||null,n,r,o,u,p)),!0}return!1}function ax(n){var r=Ni(n.target);if(r!==null){var o=h(r);if(o!==null){if(r=o.tag,r===13){if(r=d(o),r!==null){n.blockedOn=r,si(n.priority,function(){ix(o)});return}}else if(r===31){if(r=v(o),r!==null){n.blockedOn=r,si(n.priority,function(){ix(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Td(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var o=Lp(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);pa=u,o.target.dispatchEvent(u),pa=null}else return r=oi(o),r!==null&&nx(r),n.blockedOn=o,!1;r.shift()}return!0}function ox(n,r,o){Td(n)&&o.delete(r)}function TS(){Dp=!1,qa!==null&&Td(qa)&&(qa=null),Ha!==null&&Td(Ha)&&(Ha=null),Fa!==null&&Td(Fa)&&(Fa=null),Eu.forEach(ox),wu.forEach(ox)}function Ad(n,r){n.blockedOn===r&&(n.blockedOn=null,Dp||(Dp=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,TS)))}var Sd=null;function lx(n){Sd!==n&&(Sd=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Sd===n&&(Sd=null);for(var r=0;r<n.length;r+=3){var o=n[r],u=n[r+1],p=n[r+2];if(typeof u!="function"){if(kp(u||o)===null)continue;break}var _=oi(o);_!==null&&(n.splice(r,3),r-=3,Lm(_,{pending:!0,data:p,method:o.method,action:u},u,p))}}))}function oc(n){function r(U){return Ad(U,n)}qa!==null&&Ad(qa,n),Ha!==null&&Ad(Ha,n),Fa!==null&&Ad(Fa,n),Eu.forEach(r),wu.forEach(r);for(var o=0;o<Ga.length;o++){var u=Ga[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<Ga.length&&(o=Ga[0],o.blockedOn===null);)ax(o),o.blockedOn===null&&Ga.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var p=o[u],_=o[u+1],A=p[$t]||null;if(typeof _=="function")A||lx(o);else if(A){var I=null;if(_&&_.hasAttribute("formAction")){if(p=_,A=_[$t]||null)I=A.formAction;else if(kp(p)!==null)continue}else I=A.action;typeof I=="function"?o[u+1]=I:(o.splice(u,3),u-=3),lx(o)}}}function cx(){function n(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(A){return p=A})},focusReset:"manual",scroll:"manual"})}function r(){p!==null&&(p(),p=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),p!==null&&(p(),p=null)}}}function jp(n){this._internalRoot=n}Cd.prototype.render=jp.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=Bi();ex(o,u,n,r,null,null)},Cd.prototype.unmount=jp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;ex(n.current,2,null,n,null,null),od(),r[Si]=null}};function Cd(n){this._internalRoot=n}Cd.prototype.unstable_scheduleHydration=function(n){if(n){var r=Ao();n={blockedOn:null,target:n,priority:r};for(var o=0;o<Ga.length&&r!==0&&r<Ga[o].priority;o++);Ga.splice(o,0,n),o===0&&ax(n)}};var ux=e.version;if(ux!=="19.2.1")throw Error(s(527,ux,"19.2.1"));be.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=x(r),n=n!==null?S(n):null,n=n===null?null:n.stateNode,n};var AS={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:ae,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nd.isDisabled&&Nd.supportsFiber)try{ri=Nd.inject(AS),sn=Nd}catch{}}return Su.createRoot=function(n,r){if(!l(n))throw Error(s(299));var o=!1,u="",p=_v,_=yv,A=vv;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(_=r.onCaughtError),r.onRecoverableError!==void 0&&(A=r.onRecoverableError)),r=W0(n,1,!1,null,null,o,u,null,p,_,A,cx),n[Si]=r.current,yp(n),new jp(r)},Su.hydrateRoot=function(n,r,o){if(!l(n))throw Error(s(299));var u=!1,p="",_=_v,A=yv,I=vv,U=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(_=o.onUncaughtError),o.onCaughtError!==void 0&&(A=o.onCaughtError),o.onRecoverableError!==void 0&&(I=o.onRecoverableError),o.formState!==void 0&&(U=o.formState)),r=W0(n,1,!0,r,o??null,u,p,U,_,A,I,cx),r.context=J0(null),o=r.current,u=Bi(),u=En(u),p=Ia(u),p.callback=null,Pa(o,p,u),o=u,r.current.lanes=o,wr(r,o),fs(r),n[Si]=r.current,yp(n),new Cd(r)},Su.version="19.2.1",Su}var xx;function LS(){if(xx)return Up.exports;xx=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Up.exports=OS(),Up.exports}var kS=LS();var bx="popstate";function DS(i={}){function e(s,l){let{pathname:h,search:d,hash:v}=s.location;return gg("",{pathname:h,search:d,hash:v},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(s,l){return typeof l=="string"?l:Zu(l)}return VS(e,t,null,i)}function Bt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Fi(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jS(){return Math.random().toString(36).substring(2,10)}function Ex(i,e){return{usr:i.state,key:i.key,idx:e}}function gg(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Nc(e):e,state:t,key:e&&e.key||s||jS()}}function Zu({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function Nc(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function VS(i,e,t,s={}){let{window:l=document.defaultView,v5Compat:h=!1}=s,d=l.history,v="POP",y=null,x=S();x==null&&(x=0,d.replaceState({...d.state,idx:x},""));function S(){return(d.state||{idx:null}).idx}function w(){v="POP";let Z=S(),ce=Z==null?null:Z-x;x=Z,y&&y({action:v,location:$.location,delta:ce})}function N(Z,ce){v="PUSH";let pe=gg($.location,Z,ce);x=S()+1;let J=Ex(pe,x),X=$.createHref(pe);try{d.pushState(J,"",X)}catch(_e){if(_e instanceof DOMException&&_e.name==="DataCloneError")throw _e;l.location.assign(X)}h&&y&&y({action:v,location:$.location,delta:1})}function O(Z,ce){v="REPLACE";let pe=gg($.location,Z,ce);x=S();let J=Ex(pe,x),X=$.createHref(pe);d.replaceState(J,"",X),h&&y&&y({action:v,location:$.location,delta:0})}function K(Z){return zS(Z)}let $={get action(){return v},get location(){return i(l,d)},listen(Z){if(y)throw new Error("A history only accepts one active listener");return l.addEventListener(bx,w),y=Z,()=>{l.removeEventListener(bx,w),y=null}},createHref(Z){return e(l,Z)},createURL:K,encodeLocation(Z){let ce=K(Z);return{pathname:ce.pathname,search:ce.search,hash:ce.hash}},push:N,replace:O,go(Z){return d.go(Z)}};return $}function zS(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Bt(t,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Zu(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function ME(i,e,t="/"){return US(i,e,t,!1)}function US(i,e,t,s){let l=typeof e=="string"?Nc(e):e,h=na(l.pathname||"/",t);if(h==null)return null;let d=OE(i);BS(d);let v=null;for(let y=0;v==null&&y<d.length;++y){let x=WS(h);v=$S(d[y],x,s)}return v}function OE(i,e=[],t=[],s="",l=!1){let h=(d,v,y=l,x)=>{let S={relativePath:x===void 0?d.path||"":x,caseSensitive:d.caseSensitive===!0,childrenIndex:v,route:d};if(S.relativePath.startsWith("/")){if(!S.relativePath.startsWith(s)&&y)return;Bt(S.relativePath.startsWith(s),`Absolute route path "${S.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),S.relativePath=S.relativePath.slice(s.length)}let w=ea([s,S.relativePath]),N=t.concat(S);d.children&&d.children.length>0&&(Bt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),OE(d.children,e,N,w,y)),!(d.path==null&&!d.index)&&e.push({path:w,score:YS(w,d.index),routesMeta:N})};return i.forEach((d,v)=>{if(d.path===""||!d.path?.includes("?"))h(d,v);else for(let y of LE(d.path))h(d,v,!0,y)}),e}function LE(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,l=t.endsWith("?"),h=t.replace(/\?$/,"");if(s.length===0)return l?[h,""]:[h];let d=LE(s.join("/")),v=[];return v.push(...d.map(y=>y===""?h:[h,y].join("/"))),l&&v.push(...d),v.map(y=>i.startsWith("/")&&y===""?"/":y)}function BS(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:QS(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var qS=/^:[\w-]+$/,HS=3,FS=2,GS=1,ZS=10,KS=-2,wx=i=>i==="*";function YS(i,e){let t=i.split("/"),s=t.length;return t.some(wx)&&(s+=KS),e&&(s+=FS),t.filter(l=>!wx(l)).reduce((l,h)=>l+(qS.test(h)?HS:h===""?GS:ZS),s)}function QS(i,e){return i.length===e.length&&i.slice(0,-1).every((s,l)=>s===e[l])?i[i.length-1]-e[e.length-1]:0}function $S(i,e,t=!1){let{routesMeta:s}=i,l={},h="/",d=[];for(let v=0;v<s.length;++v){let y=s[v],x=v===s.length-1,S=h==="/"?e:e.slice(h.length)||"/",w=Jd({path:y.relativePath,caseSensitive:y.caseSensitive,end:x},S),N=y.route;if(!w&&x&&t&&!s[s.length-1].route.index&&(w=Jd({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},S)),!w)return null;Object.assign(l,w.params),d.push({params:l,pathname:ea([h,w.pathname]),pathnameBase:i2(ea([h,w.pathnameBase])),route:N}),w.pathnameBase!=="/"&&(h=ea([h,w.pathnameBase]))}return d}function Jd(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=XS(i.path,i.caseSensitive,i.end),l=e.match(t);if(!l)return null;let h=l[0],d=h.replace(/(.)\/+$/,"$1"),v=l.slice(1);return{params:s.reduce((x,{paramName:S,isOptional:w},N)=>{if(S==="*"){let K=v[N]||"";d=h.slice(0,h.length-K.length).replace(/(.)\/+$/,"$1")}const O=v[N];return w&&!O?x[S]=void 0:x[S]=(O||"").replace(/%2F/g,"/"),x},{}),pathname:h,pathnameBase:d,pattern:i}}function XS(i,e=!1,t=!0){Fi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],l="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,v,y)=>(s.push({paramName:v,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),l+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?l+="\\/*$":i!==""&&i!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),s]}function WS(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function na(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}var JS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,e2=i=>JS.test(i);function t2(i,e="/"){let{pathname:t,search:s="",hash:l=""}=typeof i=="string"?Nc(i):i,h;if(t)if(e2(t))h=t;else{if(t.includes("//")){let d=t;t=t.replace(/\/\/+/g,"/"),Fi(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${t}`)}t.startsWith("/")?h=Tx(t.substring(1),"/"):h=Tx(t,e)}else h=e;return{pathname:h,search:r2(s),hash:s2(l)}}function Tx(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(l=>{l===".."?t.length>1&&t.pop():l!=="."&&t.push(l)}),t.length>1?t.join("/"):"/"}function Fp(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function n2(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Jg(i){let e=n2(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function e_(i,e,t,s=!1){let l;typeof i=="string"?l=Nc(i):(l={...i},Bt(!l.pathname||!l.pathname.includes("?"),Fp("?","pathname","search",l)),Bt(!l.pathname||!l.pathname.includes("#"),Fp("#","pathname","hash",l)),Bt(!l.search||!l.search.includes("#"),Fp("#","search","hash",l)));let h=i===""||l.pathname==="",d=h?"/":l.pathname,v;if(d==null)v=t;else{let w=e.length-1;if(!s&&d.startsWith("..")){let N=d.split("/");for(;N[0]==="..";)N.shift(),w-=1;l.pathname=N.join("/")}v=w>=0?e[w]:"/"}let y=t2(l,v),x=d&&d!=="/"&&d.endsWith("/"),S=(h||d===".")&&t.endsWith("/");return!y.pathname.endsWith("/")&&(x||S)&&(y.pathname+="/"),y}var ea=i=>i.join("/").replace(/\/\/+/g,"/"),i2=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),r2=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,s2=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function a2(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function o2(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var kE=["POST","PUT","PATCH","DELETE"];new Set(kE);var l2=["GET",...kE];new Set(l2);var Rc=j.createContext(null);Rc.displayName="DataRouter";var Ef=j.createContext(null);Ef.displayName="DataRouterState";j.createContext(!1);var DE=j.createContext({isTransitioning:!1});DE.displayName="ViewTransition";var c2=j.createContext(new Map);c2.displayName="Fetchers";var u2=j.createContext(null);u2.displayName="Await";var vr=j.createContext(null);vr.displayName="Navigation";var ch=j.createContext(null);ch.displayName="Location";var xr=j.createContext({outlet:null,matches:[],isDataRoute:!1});xr.displayName="Route";var t_=j.createContext(null);t_.displayName="RouteError";function h2(i,{relative:e}={}){Bt(Ic(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=j.useContext(vr),{hash:l,pathname:h,search:d}=uh(i,{relative:e}),v=h;return t!=="/"&&(v=h==="/"?t:ea([t,h])),s.createHref({pathname:v,search:d,hash:l})}function Ic(){return j.useContext(ch)!=null}function Fr(){return Bt(Ic(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(ch).location}var jE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function VE(i){j.useContext(vr).static||j.useLayoutEffect(i)}function mo(){let{isDataRoute:i}=j.useContext(xr);return i?S2():d2()}function d2(){Bt(Ic(),"useNavigate() may be used only in the context of a <Router> component.");let i=j.useContext(Rc),{basename:e,navigator:t}=j.useContext(vr),{matches:s}=j.useContext(xr),{pathname:l}=Fr(),h=JSON.stringify(Jg(s)),d=j.useRef(!1);return VE(()=>{d.current=!0}),j.useCallback((y,x={})=>{if(Fi(d.current,jE),!d.current)return;if(typeof y=="number"){t.go(y);return}let S=e_(y,JSON.parse(h),l,x.relative==="path");i==null&&e!=="/"&&(S.pathname=S.pathname==="/"?e:ea([e,S.pathname])),(x.replace?t.replace:t.push)(S,x.state,x)},[e,t,h,l,i])}var f2=j.createContext(null);function m2(i){let e=j.useContext(xr).outlet;return j.useMemo(()=>e&&j.createElement(f2.Provider,{value:i},e),[e,i])}function zE(){let{matches:i}=j.useContext(xr),e=i[i.length-1];return e?e.params:{}}function uh(i,{relative:e}={}){let{matches:t}=j.useContext(xr),{pathname:s}=Fr(),l=JSON.stringify(Jg(t));return j.useMemo(()=>e_(i,JSON.parse(l),s,e==="path"),[i,l,s,e])}function p2(i,e){return UE(i,e)}function UE(i,e,t,s,l){Bt(Ic(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:h}=j.useContext(vr),{matches:d}=j.useContext(xr),v=d[d.length-1],y=v?v.params:{},x=v?v.pathname:"/",S=v?v.pathnameBase:"/",w=v&&v.route;{let pe=w&&w.path||"";BE(x,!w||pe.endsWith("*")||pe.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${x}" (under <Route path="${pe}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${pe}"> to <Route path="${pe==="/"?"*":`${pe}/*`}">.`)}let N=Fr(),O;if(e){let pe=typeof e=="string"?Nc(e):e;Bt(S==="/"||pe.pathname?.startsWith(S),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${S}" but pathname "${pe.pathname}" was given in the \`location\` prop.`),O=pe}else O=N;let K=O.pathname||"/",$=K;if(S!=="/"){let pe=S.replace(/^\//,"").split("/");$="/"+K.replace(/^\//,"").split("/").slice(pe.length).join("/")}let Z=ME(i,{pathname:$});Fi(w||Z!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),Fi(Z==null||Z[Z.length-1].route.element!==void 0||Z[Z.length-1].route.Component!==void 0||Z[Z.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ce=x2(Z&&Z.map(pe=>Object.assign({},pe,{params:Object.assign({},y,pe.params),pathname:ea([S,h.encodeLocation?h.encodeLocation(pe.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:pe.pathname]),pathnameBase:pe.pathnameBase==="/"?S:ea([S,h.encodeLocation?h.encodeLocation(pe.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:pe.pathnameBase])})),d,t,s,l);return e&&ce?j.createElement(ch.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},ce):ce}function g2(){let i=A2(),e=a2(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},h={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",i),d=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:h},"ErrorBoundary")," or"," ",j.createElement("code",{style:h},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),t?j.createElement("pre",{style:l},t):null,d)}var _2=j.createElement(g2,null),y2=class extends j.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?j.createElement(xr.Provider,{value:this.props.routeContext},j.createElement(t_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function v2({routeContext:i,match:e,children:t}){let s=j.useContext(Rc);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(xr.Provider,{value:i},t)}function x2(i,e=[],t=null,s=null,l=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let h=i,d=t?.errors;if(d!=null){let S=h.findIndex(w=>w.route.id&&d?.[w.route.id]!==void 0);Bt(S>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),h=h.slice(0,Math.min(h.length,S+1))}let v=!1,y=-1;if(t)for(let S=0;S<h.length;S++){let w=h[S];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(y=S),w.route.id){let{loaderData:N,errors:O}=t,K=w.route.loader&&!N.hasOwnProperty(w.route.id)&&(!O||O[w.route.id]===void 0);if(w.route.lazy||K){v=!0,y>=0?h=h.slice(0,y+1):h=[h[0]];break}}}let x=t&&s?(S,w)=>{s(S,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:o2(t.matches),errorInfo:w})}:void 0;return h.reduceRight((S,w,N)=>{let O,K=!1,$=null,Z=null;t&&(O=d&&w.route.id?d[w.route.id]:void 0,$=w.route.errorElement||_2,v&&(y<0&&N===0?(BE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),K=!0,Z=null):y===N&&(K=!0,Z=w.route.hydrateFallbackElement||null)));let ce=e.concat(h.slice(0,N+1)),pe=()=>{let J;return O?J=$:K?J=Z:w.route.Component?J=j.createElement(w.route.Component,null):w.route.element?J=w.route.element:J=S,j.createElement(v2,{match:w,routeContext:{outlet:S,matches:ce,isDataRoute:t!=null},children:J})};return t&&(w.route.ErrorBoundary||w.route.errorElement||N===0)?j.createElement(y2,{location:t.location,revalidation:t.revalidation,component:$,error:O,children:pe(),routeContext:{outlet:null,matches:ce,isDataRoute:!0},onError:x}):pe()},null)}function n_(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function b2(i){let e=j.useContext(Rc);return Bt(e,n_(i)),e}function E2(i){let e=j.useContext(Ef);return Bt(e,n_(i)),e}function w2(i){let e=j.useContext(xr);return Bt(e,n_(i)),e}function i_(i){let e=w2(i),t=e.matches[e.matches.length-1];return Bt(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function T2(){return i_("useRouteId")}function A2(){let i=j.useContext(t_),e=E2("useRouteError"),t=i_("useRouteError");return i!==void 0?i:e.errors?.[t]}function S2(){let{router:i}=b2("useNavigate"),e=i_("useNavigate"),t=j.useRef(!1);return VE(()=>{t.current=!0}),j.useCallback(async(l,h={})=>{Fi(t.current,jE),t.current&&(typeof l=="number"?await i.navigate(l):await i.navigate(l,{fromRouteId:e,...h}))},[i,e])}var Ax={};function BE(i,e,t){!e&&!Ax[i]&&(Ax[i]=!0,Fi(!1,t))}j.memo(C2);function C2({routes:i,future:e,state:t,unstable_onError:s}){return UE(i,void 0,t,s,e)}function N2({to:i,replace:e,state:t,relative:s}){Bt(Ic(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=j.useContext(vr);Fi(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:h}=j.useContext(xr),{pathname:d}=Fr(),v=mo(),y=e_(i,Jg(h),d,s==="path"),x=JSON.stringify(y);return j.useEffect(()=>{v(JSON.parse(x),{replace:e,state:t,relative:s})},[v,x,s,e,t]),null}function qE(i){return m2(i.context)}function ii(i){Bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function R2({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:l,static:h=!1,unstable_useTransitions:d}){Bt(!Ic(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let v=i.replace(/^\/*/,"/"),y=j.useMemo(()=>({basename:v,navigator:l,static:h,unstable_useTransitions:d,future:{}}),[v,l,h,d]);typeof t=="string"&&(t=Nc(t));let{pathname:x="/",search:S="",hash:w="",state:N=null,key:O="default"}=t,K=j.useMemo(()=>{let $=na(x,v);return $==null?null:{location:{pathname:$,search:S,hash:w,state:N,key:O},navigationType:s}},[v,x,S,w,N,O,s]);return Fi(K!=null,`<Router basename="${v}"> is not able to match the URL "${x}${S}${w}" because it does not start with the basename, so the <Router> won't render anything.`),K==null?null:j.createElement(vr.Provider,{value:y},j.createElement(ch.Provider,{children:e,value:K}))}function I2({children:i,location:e}){return p2(_g(i),e)}function _g(i,e=[]){let t=[];return j.Children.forEach(i,(s,l)=>{if(!j.isValidElement(s))return;let h=[...e,l];if(s.type===j.Fragment){t.push.apply(t,_g(s.props.children,h));return}Bt(s.type===ii,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Bt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||h.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=_g(s.props.children,h)),t.push(d)}),t}var zd="get",Ud="application/x-www-form-urlencoded";function wf(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function P2(i){return wf(i)&&i.tagName.toLowerCase()==="button"}function M2(i){return wf(i)&&i.tagName.toLowerCase()==="form"}function O2(i){return wf(i)&&i.tagName.toLowerCase()==="input"}function L2(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function k2(i,e){return i.button===0&&(!e||e==="_self")&&!L2(i)}function yg(i=""){return new URLSearchParams(typeof i=="string"||Array.isArray(i)||i instanceof URLSearchParams?i:Object.keys(i).reduce((e,t)=>{let s=i[t];return e.concat(Array.isArray(s)?s.map(l=>[t,l]):[[t,s]])},[]))}function D2(i,e){let t=yg(i);return e&&e.forEach((s,l)=>{t.has(l)||e.getAll(l).forEach(h=>{t.append(l,h)})}),t}var Rd=null;function j2(){if(Rd===null)try{new FormData(document.createElement("form"),0),Rd=!1}catch{Rd=!0}return Rd}var V2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Gp(i){return i!=null&&!V2.has(i)?(Fi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ud}"`),null):i}function z2(i,e){let t,s,l,h,d;if(M2(i)){let v=i.getAttribute("action");s=v?na(v,e):null,t=i.getAttribute("method")||zd,l=Gp(i.getAttribute("enctype"))||Ud,h=new FormData(i)}else if(P2(i)||O2(i)&&(i.type==="submit"||i.type==="image")){let v=i.form;if(v==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=i.getAttribute("formaction")||v.getAttribute("action");if(s=y?na(y,e):null,t=i.getAttribute("formmethod")||v.getAttribute("method")||zd,l=Gp(i.getAttribute("formenctype"))||Gp(v.getAttribute("enctype"))||Ud,h=new FormData(v,i),!j2()){let{name:x,type:S,value:w}=i;if(S==="image"){let N=x?`${x}.`:"";h.append(`${N}x`,"0"),h.append(`${N}y`,"0")}else x&&h.append(x,w)}}else{if(wf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=zd,s=null,l=Ud,d=i}return h&&l==="text/plain"&&(d=h,h=void 0),{action:s,method:t.toLowerCase(),encType:l,formData:h,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function r_(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function U2(i,e,t){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&na(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function B2(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function q2(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function H2(i,e,t){let s=await Promise.all(i.map(async l=>{let h=e.routes[l.route.id];if(h){let d=await B2(h,t);return d.links?d.links():[]}return[]}));return K2(s.flat(1).filter(q2).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Sx(i,e,t,s,l,h){let d=(y,x)=>t[x]?y.route.id!==t[x].route.id:!0,v=(y,x)=>t[x].pathname!==y.pathname||t[x].route.path?.endsWith("*")&&t[x].params["*"]!==y.params["*"];return h==="assets"?e.filter((y,x)=>d(y,x)||v(y,x)):h==="data"?e.filter((y,x)=>{let S=s.routes[y.route.id];if(!S||!S.hasLoader)return!1;if(d(y,x)||v(y,x))return!0;if(y.route.shouldRevalidate){let w=y.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function F2(i,e,{includeHydrateFallback:t}={}){return G2(i.map(s=>{let l=e.routes[s.route.id];if(!l)return[];let h=[l.module];return l.clientActionModule&&(h=h.concat(l.clientActionModule)),l.clientLoaderModule&&(h=h.concat(l.clientLoaderModule)),t&&l.hydrateFallbackModule&&(h=h.concat(l.hydrateFallbackModule)),l.imports&&(h=h.concat(l.imports)),h}).flat(1))}function G2(i){return[...new Set(i)]}function Z2(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function K2(i,e){let t=new Set;return new Set(e),i.reduce((s,l)=>{let h=JSON.stringify(Z2(l));return t.has(h)||(t.add(h),s.push({key:h,link:l})),s},[])}function HE(){let i=j.useContext(Rc);return r_(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function Y2(){let i=j.useContext(Ef);return r_(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var s_=j.createContext(void 0);s_.displayName="FrameworkContext";function FE(){let i=j.useContext(s_);return r_(i,"You must render this element inside a <HydratedRouter> element"),i}function Q2(i,e){let t=j.useContext(s_),[s,l]=j.useState(!1),[h,d]=j.useState(!1),{onFocus:v,onBlur:y,onMouseEnter:x,onMouseLeave:S,onTouchStart:w}=e,N=j.useRef(null);j.useEffect(()=>{if(i==="render"&&d(!0),i==="viewport"){let $=ce=>{ce.forEach(pe=>{d(pe.isIntersecting)})},Z=new IntersectionObserver($,{threshold:.5});return N.current&&Z.observe(N.current),()=>{Z.disconnect()}}},[i]),j.useEffect(()=>{if(s){let $=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout($)}}},[s]);let O=()=>{l(!0)},K=()=>{l(!1),d(!1)};return t?i!=="intent"?[h,N,{}]:[h,N,{onFocus:Cu(v,O),onBlur:Cu(y,K),onMouseEnter:Cu(x,O),onMouseLeave:Cu(S,K),onTouchStart:Cu(w,O)}]:[!1,N,{}]}function Cu(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function $2({page:i,...e}){let{router:t}=HE(),s=j.useMemo(()=>ME(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?j.createElement(W2,{page:i,matches:s,...e}):null}function X2(i){let{manifest:e,routeModules:t}=FE(),[s,l]=j.useState([]);return j.useEffect(()=>{let h=!1;return H2(i,e,t).then(d=>{h||l(d)}),()=>{h=!0}},[i,e,t]),s}function W2({page:i,matches:e,...t}){let s=Fr(),{manifest:l,routeModules:h}=FE(),{basename:d}=HE(),{loaderData:v,matches:y}=Y2(),x=j.useMemo(()=>Sx(i,e,y,l,s,"data"),[i,e,y,l,s]),S=j.useMemo(()=>Sx(i,e,y,l,s,"assets"),[i,e,y,l,s]),w=j.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let K=new Set,$=!1;if(e.forEach(ce=>{let pe=l.routes[ce.route.id];!pe||!pe.hasLoader||(!x.some(J=>J.route.id===ce.route.id)&&ce.route.id in v&&h[ce.route.id]?.shouldRevalidate||pe.hasClientLoader?$=!0:K.add(ce.route.id))}),K.size===0)return[];let Z=U2(i,d,"data");return $&&K.size>0&&Z.searchParams.set("_routes",e.filter(ce=>K.has(ce.route.id)).map(ce=>ce.route.id).join(",")),[Z.pathname+Z.search]},[d,v,s,l,x,e,i,h]),N=j.useMemo(()=>F2(S,l),[S,l]),O=X2(S);return j.createElement(j.Fragment,null,w.map(K=>j.createElement("link",{key:K,rel:"prefetch",as:"fetch",href:K,...t})),N.map(K=>j.createElement("link",{key:K,rel:"modulepreload",href:K,...t})),O.map(({key:K,link:$})=>j.createElement("link",{key:K,nonce:t.nonce,...$})))}function J2(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var GE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{GE&&(window.__reactRouterVersion="7.10.0")}catch{}function eC({basename:i,children:e,unstable_useTransitions:t,window:s}){let l=j.useRef();l.current==null&&(l.current=DS({window:s,v5Compat:!0}));let h=l.current,[d,v]=j.useState({action:h.action,location:h.location}),y=j.useCallback(x=>{t===!1?v(x):j.startTransition(()=>v(x))},[t]);return j.useLayoutEffect(()=>h.listen(y),[h,y]),j.createElement(R2,{basename:i,children:e,location:d.location,navigationType:d.action,navigator:h,unstable_useTransitions:t===!0})}var ZE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ft=j.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:l,reloadDocument:h,replace:d,state:v,target:y,to:x,preventScrollReset:S,viewTransition:w,...N},O){let{basename:K,unstable_useTransitions:$}=j.useContext(vr),Z=typeof x=="string"&&ZE.test(x),ce,pe=!1;if(typeof x=="string"&&Z&&(ce=x,GE))try{let H=new URL(window.location.href),B=x.startsWith("//")?new URL(H.protocol+x):new URL(x),G=na(B.pathname,K);B.origin===H.origin&&G!=null?x=G+B.search+B.hash:pe=!0}catch{Fi(!1,`<Link to="${x}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let J=h2(x,{relative:l}),[X,_e,Ee]=Q2(s,N),k=rC(x,{replace:d,state:v,target:y,preventScrollReset:S,relative:l,viewTransition:w,unstable_useTransitions:$});function M(H){e&&e(H),H.defaultPrevented||k(H)}let D=j.createElement("a",{...N,...Ee,href:ce||J,onClick:pe||h?e:M,ref:J2(O,_e),target:y,"data-discover":!Z&&t==="render"?"true":void 0});return X&&!Z?j.createElement(j.Fragment,null,D,j.createElement($2,{page:J})):D});ft.displayName="Link";var tC=j.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:l=!1,style:h,to:d,viewTransition:v,children:y,...x},S){let w=uh(d,{relative:x.relative}),N=Fr(),O=j.useContext(Ef),{navigator:K,basename:$}=j.useContext(vr),Z=O!=null&&uC(w)&&v===!0,ce=K.encodeLocation?K.encodeLocation(w).pathname:w.pathname,pe=N.pathname,J=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;t||(pe=pe.toLowerCase(),J=J?J.toLowerCase():null,ce=ce.toLowerCase()),J&&$&&(J=na(J,$)||J);const X=ce!=="/"&&ce.endsWith("/")?ce.length-1:ce.length;let _e=pe===ce||!l&&pe.startsWith(ce)&&pe.charAt(X)==="/",Ee=J!=null&&(J===ce||!l&&J.startsWith(ce)&&J.charAt(ce.length)==="/"),k={isActive:_e,isPending:Ee,isTransitioning:Z},M=_e?e:void 0,D;typeof s=="function"?D=s(k):D=[s,_e?"active":null,Ee?"pending":null,Z?"transitioning":null].filter(Boolean).join(" ");let H=typeof h=="function"?h(k):h;return j.createElement(ft,{...x,"aria-current":M,className:D,ref:S,style:H,to:d,viewTransition:v},typeof y=="function"?y(k):y)});tC.displayName="NavLink";var nC=j.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:l,state:h,method:d=zd,action:v,onSubmit:y,relative:x,preventScrollReset:S,viewTransition:w,...N},O)=>{let{unstable_useTransitions:K}=j.useContext(vr),$=lC(),Z=cC(v,{relative:x}),ce=d.toLowerCase()==="get"?"get":"post",pe=typeof v=="string"&&ZE.test(v),J=X=>{if(y&&y(X),X.defaultPrevented)return;X.preventDefault();let _e=X.nativeEvent.submitter,Ee=_e?.getAttribute("formmethod")||d,k=()=>$(_e||X.currentTarget,{fetcherKey:e,method:Ee,navigate:t,replace:l,state:h,relative:x,preventScrollReset:S,viewTransition:w});K&&t!==!1?j.startTransition(()=>k()):k()};return j.createElement("form",{ref:O,method:ce,action:Z,onSubmit:s?y:J,...N,"data-discover":!pe&&i==="render"?"true":void 0})});nC.displayName="Form";function iC(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KE(i){let e=j.useContext(Rc);return Bt(e,iC(i)),e}function rC(i,{target:e,replace:t,state:s,preventScrollReset:l,relative:h,viewTransition:d,unstable_useTransitions:v}={}){let y=mo(),x=Fr(),S=uh(i,{relative:h});return j.useCallback(w=>{if(k2(w,e)){w.preventDefault();let N=t!==void 0?t:Zu(x)===Zu(S),O=()=>y(i,{replace:N,state:s,preventScrollReset:l,relative:h,viewTransition:d});v?j.startTransition(()=>O()):O()}},[x,y,S,t,s,e,i,l,h,d,v])}function sC(i){Fi(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=j.useRef(yg(i)),t=j.useRef(!1),s=Fr(),l=j.useMemo(()=>D2(s.search,t.current?null:e.current),[s.search]),h=mo(),d=j.useCallback((v,y)=>{const x=yg(typeof v=="function"?v(new URLSearchParams(l)):v);t.current=!0,h("?"+x,y)},[h,l]);return[l,d]}var aC=0,oC=()=>`__${String(++aC)}__`;function lC(){let{router:i}=KE("useSubmit"),{basename:e}=j.useContext(vr),t=T2(),s=i.fetch,l=i.navigate;return j.useCallback(async(h,d={})=>{let{action:v,method:y,encType:x,formData:S,body:w}=z2(h,e);if(d.navigate===!1){let N=d.fetcherKey||oC();await s(N,t,d.action||v,{preventScrollReset:d.preventScrollReset,formData:S,body:w,formMethod:d.method||y,formEncType:d.encType||x,flushSync:d.flushSync})}else await l(d.action||v,{preventScrollReset:d.preventScrollReset,formData:S,body:w,formMethod:d.method||y,formEncType:d.encType||x,replace:d.replace,state:d.state,fromRouteId:t,flushSync:d.flushSync,viewTransition:d.viewTransition})},[s,l,e,t])}function cC(i,{relative:e}={}){let{basename:t}=j.useContext(vr),s=j.useContext(xr);Bt(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),h={...uh(i||".",{relative:e})},d=Fr();if(i==null){h.search=d.search;let v=new URLSearchParams(h.search),y=v.getAll("index");if(y.some(S=>S==="")){v.delete("index"),y.filter(w=>w).forEach(w=>v.append("index",w));let S=v.toString();h.search=S?`?${S}`:""}}return(!i||i===".")&&l.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(h.pathname=h.pathname==="/"?t:ea([t,h.pathname])),Zu(h)}function uC(i,{relative:e}={}){let t=j.useContext(DE);Bt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=KE("useViewTransitionState"),l=uh(i,{relative:e});if(!t.isTransitioning)return!1;let h=na(t.currentLocation.pathname,s)||t.currentLocation.pathname,d=na(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Jd(l.pathname,d)!=null||Jd(l.pathname,h)!=null}var YE=PE(),Zp,Cx;function hC(){if(Cx)return Zp;Cx=1;var i=typeof Element<"u",e=typeof Map=="function",t=typeof Set=="function",s=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function l(h,d){if(h===d)return!0;if(h&&d&&typeof h=="object"&&typeof d=="object"){if(h.constructor!==d.constructor)return!1;var v,y,x;if(Array.isArray(h)){if(v=h.length,v!=d.length)return!1;for(y=v;y--!==0;)if(!l(h[y],d[y]))return!1;return!0}var S;if(e&&h instanceof Map&&d instanceof Map){if(h.size!==d.size)return!1;for(S=h.entries();!(y=S.next()).done;)if(!d.has(y.value[0]))return!1;for(S=h.entries();!(y=S.next()).done;)if(!l(y.value[1],d.get(y.value[0])))return!1;return!0}if(t&&h instanceof Set&&d instanceof Set){if(h.size!==d.size)return!1;for(S=h.entries();!(y=S.next()).done;)if(!d.has(y.value[0]))return!1;return!0}if(s&&ArrayBuffer.isView(h)&&ArrayBuffer.isView(d)){if(v=h.length,v!=d.length)return!1;for(y=v;y--!==0;)if(h[y]!==d[y])return!1;return!0}if(h.constructor===RegExp)return h.source===d.source&&h.flags===d.flags;if(h.valueOf!==Object.prototype.valueOf&&typeof h.valueOf=="function"&&typeof d.valueOf=="function")return h.valueOf()===d.valueOf();if(h.toString!==Object.prototype.toString&&typeof h.toString=="function"&&typeof d.toString=="function")return h.toString()===d.toString();if(x=Object.keys(h),v=x.length,v!==Object.keys(d).length)return!1;for(y=v;y--!==0;)if(!Object.prototype.hasOwnProperty.call(d,x[y]))return!1;if(i&&h instanceof Element)return!1;for(y=v;y--!==0;)if(!((x[y]==="_owner"||x[y]==="__v"||x[y]==="__o")&&h.$$typeof)&&!l(h[x[y]],d[x[y]]))return!1;return!0}return h!==h&&d!==d}return Zp=function(d,v){try{return l(d,v)}catch(y){if((y.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw y}},Zp}var dC=hC();const fC=lh(dC);var Kp,Nx;function mC(){if(Nx)return Kp;Nx=1;var i=function(e,t,s,l,h,d,v,y){if(!e){var x;if(t===void 0)x=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var S=[s,l,h,d,v,y],w=0;x=new Error(t.replace(/%s/g,function(){return S[w++]})),x.name="Invariant Violation"}throw x.framesToPop=1,x}};return Kp=i,Kp}var pC=mC();const Rx=lh(pC);var Yp,Ix;function gC(){return Ix||(Ix=1,Yp=function(e,t,s,l){var h=s?s.call(l,e,t):void 0;if(h!==void 0)return!!h;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var d=Object.keys(e),v=Object.keys(t);if(d.length!==v.length)return!1;for(var y=Object.prototype.hasOwnProperty.bind(t),x=0;x<d.length;x++){var S=d[x];if(!y(S))return!1;var w=e[S],N=t[S];if(h=s?s.call(l,w,N,S):void 0,h===!1||h===void 0&&w!==N)return!1}return!0}),Yp}var _C=gC();const yC=lh(_C);var QE=(i=>(i.BASE="base",i.BODY="body",i.HEAD="head",i.HTML="html",i.LINK="link",i.META="meta",i.NOSCRIPT="noscript",i.SCRIPT="script",i.STYLE="style",i.TITLE="title",i.FRAGMENT="Symbol(react.fragment)",i))(QE||{}),Qp={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},Px=Object.values(QE),a_={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},vC=Object.entries(a_).reduce((i,[e,t])=>(i[t]=e,i),{}),Vr="data-rh",mc={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},pc=(i,e)=>{for(let t=i.length-1;t>=0;t-=1){const s=i[t];if(Object.prototype.hasOwnProperty.call(s,e))return s[e]}return null},xC=i=>{let e=pc(i,"title");const t=pc(i,mc.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),t&&e)return t.replace(/%s/g,()=>e);const s=pc(i,mc.DEFAULT_TITLE);return e||s||void 0},bC=i=>pc(i,mc.ON_CHANGE_CLIENT_STATE)||(()=>{}),$p=(i,e)=>e.filter(t=>typeof t[i]<"u").map(t=>t[i]).reduce((t,s)=>({...t,...s}),{}),EC=(i,e)=>e.filter(t=>typeof t.base<"u").map(t=>t.base).reverse().reduce((t,s)=>{if(!t.length){const l=Object.keys(s);for(let h=0;h<l.length;h+=1){const v=l[h].toLowerCase();if(i.indexOf(v)!==-1&&s[v])return t.concat(s)}}return t},[]),wC=i=>console&&typeof console.warn=="function"&&console.warn(i),Nu=(i,e,t)=>{const s={};return t.filter(l=>Array.isArray(l[i])?!0:(typeof l[i]<"u"&&wC(`Helmet: ${i} should be of type "Array". Instead found type "${typeof l[i]}"`),!1)).map(l=>l[i]).reverse().reduce((l,h)=>{const d={};h.filter(y=>{let x;const S=Object.keys(y);for(let N=0;N<S.length;N+=1){const O=S[N],K=O.toLowerCase();e.indexOf(K)!==-1&&!(x==="rel"&&y[x].toLowerCase()==="canonical")&&!(K==="rel"&&y[K].toLowerCase()==="stylesheet")&&(x=K),e.indexOf(O)!==-1&&(O==="innerHTML"||O==="cssText"||O==="itemprop")&&(x=O)}if(!x||!y[x])return!1;const w=y[x].toLowerCase();return s[x]||(s[x]={}),d[x]||(d[x]={}),s[x][w]?!1:(d[x][w]=!0,!0)}).reverse().forEach(y=>l.push(y));const v=Object.keys(d);for(let y=0;y<v.length;y+=1){const x=v[y],S={...s[x],...d[x]};s[x]=S}return l},[]).reverse()},TC=(i,e)=>{if(Array.isArray(i)&&i.length){for(let t=0;t<i.length;t+=1)if(i[t][e])return!0}return!1},AC=i=>({baseTag:EC(["href"],i),bodyAttributes:$p("bodyAttributes",i),defer:pc(i,mc.DEFER),encode:pc(i,mc.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:$p("htmlAttributes",i),linkTags:Nu("link",["rel","href"],i),metaTags:Nu("meta",["name","charset","http-equiv","property","itemprop"],i),noscriptTags:Nu("noscript",["innerHTML"],i),onChangeClientState:bC(i),scriptTags:Nu("script",["src","innerHTML"],i),styleTags:Nu("style",["cssText"],i),title:xC(i),titleAttributes:$p("titleAttributes",i),prioritizeSeoTags:TC(i,mc.PRIORITIZE_SEO_TAGS)}),$E=i=>Array.isArray(i)?i.join(""):i,SC=(i,e)=>{const t=Object.keys(i);for(let s=0;s<t.length;s+=1)if(e[t[s]]&&e[t[s]].includes(i[t[s]]))return!0;return!1},Xp=(i,e)=>Array.isArray(i)?i.reduce((t,s)=>(SC(s,e)?t.priority.push(s):t.default.push(s),t),{priority:[],default:[]}):{default:i,priority:[]},Mx=(i,e)=>({...i,[e]:void 0}),CC=["noscript","script","style"],vg=(i,e=!0)=>e===!1?String(i):String(i).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),XE=i=>Object.keys(i).reduce((e,t)=>{const s=typeof i[t]<"u"?`${t}="${i[t]}"`:`${t}`;return e?`${e} ${s}`:s},""),NC=(i,e,t,s)=>{const l=XE(t),h=$E(e);return l?`<${i} ${Vr}="true" ${l}>${vg(h,s)}</${i}>`:`<${i} ${Vr}="true">${vg(h,s)}</${i}>`},RC=(i,e,t=!0)=>e.reduce((s,l)=>{const h=l,d=Object.keys(h).filter(x=>!(x==="innerHTML"||x==="cssText")).reduce((x,S)=>{const w=typeof h[S]>"u"?S:`${S}="${vg(h[S],t)}"`;return x?`${x} ${w}`:w},""),v=h.innerHTML||h.cssText||"",y=CC.indexOf(i)===-1;return`${s}<${i} ${Vr}="true" ${d}${y?"/>":`>${v}</${i}>`}`},""),WE=(i,e={})=>Object.keys(i).reduce((t,s)=>{const l=a_[s];return t[l||s]=i[s],t},e),IC=(i,e,t)=>{const s={key:e,[Vr]:!0},l=WE(t,s);return[_r.createElement("title",l,e)]},Bd=(i,e)=>e.map((t,s)=>{const l={key:s,[Vr]:!0};return Object.keys(t).forEach(h=>{const v=a_[h]||h;if(v==="innerHTML"||v==="cssText"){const y=t.innerHTML||t.cssText;l.dangerouslySetInnerHTML={__html:y}}else l[v]=t[h]}),_r.createElement(i,l)}),mr=(i,e,t=!0)=>{switch(i){case"title":return{toComponent:()=>IC(i,e.title,e.titleAttributes),toString:()=>NC(i,e.title,e.titleAttributes,t)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>WE(e),toString:()=>XE(e)};default:return{toComponent:()=>Bd(i,e),toString:()=>RC(i,e,t)}}},PC=({metaTags:i,linkTags:e,scriptTags:t,encode:s})=>{const l=Xp(i,Qp.meta),h=Xp(e,Qp.link),d=Xp(t,Qp.script);return{priorityMethods:{toComponent:()=>[...Bd("meta",l.priority),...Bd("link",h.priority),...Bd("script",d.priority)],toString:()=>`${mr("meta",l.priority,s)} ${mr("link",h.priority,s)} ${mr("script",d.priority,s)}`},metaTags:l.default,linkTags:h.default,scriptTags:d.default}},MC=i=>{const{baseTag:e,bodyAttributes:t,encode:s=!0,htmlAttributes:l,noscriptTags:h,styleTags:d,title:v="",titleAttributes:y,prioritizeSeoTags:x}=i;let{linkTags:S,metaTags:w,scriptTags:N}=i,O={toComponent:()=>{},toString:()=>""};return x&&({priorityMethods:O,linkTags:S,metaTags:w,scriptTags:N}=PC(i)),{priority:O,base:mr("base",e,s),bodyAttributes:mr("bodyAttributes",t,s),htmlAttributes:mr("htmlAttributes",l,s),link:mr("link",S,s),meta:mr("meta",w,s),noscript:mr("noscript",h,s),script:mr("script",N,s),style:mr("style",d,s),title:mr("title",{title:v,titleAttributes:y},s)}},xg=MC,Id=[],JE=!!(typeof window<"u"&&window.document&&window.document.createElement),bg=class{instances=[];canUseDOM=JE;context;value={setHelmet:i=>{this.context.helmet=i},helmetInstances:{get:()=>this.canUseDOM?Id:this.instances,add:i=>{(this.canUseDOM?Id:this.instances).push(i)},remove:i=>{const e=(this.canUseDOM?Id:this.instances).indexOf(i);(this.canUseDOM?Id:this.instances).splice(e,1)}}};constructor(i,e){this.context=i,this.canUseDOM=e||!1,e||(i.helmet=xg({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},OC={},e1=_r.createContext(OC),t1=class n1 extends j.Component{static canUseDOM=JE;helmetData;constructor(e){super(e),this.helmetData=new bg(this.props.context||{},n1.canUseDOM)}render(){return _r.createElement(e1.Provider,{value:this.helmetData.value},this.props.children)}},lc=(i,e)=>{const t=document.head||document.querySelector("head"),s=t.querySelectorAll(`${i}[${Vr}]`),l=[].slice.call(s),h=[];let d;return e&&e.length&&e.forEach(v=>{const y=document.createElement(i);for(const x in v)if(Object.prototype.hasOwnProperty.call(v,x))if(x==="innerHTML")y.innerHTML=v.innerHTML;else if(x==="cssText")y.styleSheet?y.styleSheet.cssText=v.cssText:y.appendChild(document.createTextNode(v.cssText));else{const S=x,w=typeof v[S]>"u"?"":v[S];y.setAttribute(x,w)}y.setAttribute(Vr,"true"),l.some((x,S)=>(d=S,y.isEqualNode(x)))?l.splice(d,1):h.push(y)}),l.forEach(v=>v.parentNode?.removeChild(v)),h.forEach(v=>t.appendChild(v)),{oldTags:l,newTags:h}},Eg=(i,e)=>{const t=document.getElementsByTagName(i)[0];if(!t)return;const s=t.getAttribute(Vr),l=s?s.split(","):[],h=[...l],d=Object.keys(e);for(const v of d){const y=e[v]||"";t.getAttribute(v)!==y&&t.setAttribute(v,y),l.indexOf(v)===-1&&l.push(v);const x=h.indexOf(v);x!==-1&&h.splice(x,1)}for(let v=h.length-1;v>=0;v-=1)t.removeAttribute(h[v]);l.length===h.length?t.removeAttribute(Vr):t.getAttribute(Vr)!==d.join(",")&&t.setAttribute(Vr,d.join(","))},LC=(i,e)=>{typeof i<"u"&&document.title!==i&&(document.title=$E(i)),Eg("title",e)},Ox=(i,e)=>{const{baseTag:t,bodyAttributes:s,htmlAttributes:l,linkTags:h,metaTags:d,noscriptTags:v,onChangeClientState:y,scriptTags:x,styleTags:S,title:w,titleAttributes:N}=i;Eg("body",s),Eg("html",l),LC(w,N);const O={baseTag:lc("base",t),linkTags:lc("link",h),metaTags:lc("meta",d),noscriptTags:lc("noscript",v),scriptTags:lc("script",x),styleTags:lc("style",S)},K={},$={};Object.keys(O).forEach(Z=>{const{newTags:ce,oldTags:pe}=O[Z];ce.length&&(K[Z]=ce),pe.length&&($[Z]=O[Z].oldTags)}),e&&e(),y(i,K,$)},Ru=null,kC=i=>{Ru&&cancelAnimationFrame(Ru),i.defer?Ru=requestAnimationFrame(()=>{Ox(i,()=>{Ru=null})}):(Ox(i),Ru=null)},DC=kC,Lx=class extends j.Component{rendered=!1;shouldComponentUpdate(i){return!yC(i,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:i}=this.props.context;i.remove(this),this.emitChange()}emitChange(){const{helmetInstances:i,setHelmet:e}=this.props.context;let t=null;const s=AC(i.get().map(l=>{const h={...l.props};return delete h.context,h}));t1.canUseDOM?DC(s):xg&&(t=xg(s)),e(t)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:i}=this.props.context;i.add(this),this.emitChange()}render(){return this.init(),null}},jC=class extends j.Component{static defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1};shouldComponentUpdate(i){return!fC(Mx(this.props,"helmetData"),Mx(i,"helmetData"))}mapNestedChildrenToProps(i,e){if(!e)return null;switch(i.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${i.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(i,e,t,s){return{...e,[i.type]:[...e[i.type]||[],{...t,...this.mapNestedChildrenToProps(i,s)}]}}mapObjectTypeChildren(i,e,t,s){switch(i.type){case"title":return{...e,[i.type]:s,titleAttributes:{...t}};case"body":return{...e,bodyAttributes:{...t}};case"html":return{...e,htmlAttributes:{...t}};default:return{...e,[i.type]:{...t}}}}mapArrayTypeChildrenToProps(i,e){let t={...e};return Object.keys(i).forEach(s=>{t={...t,[s]:i[s]}}),t}warnOnInvalidChildren(i,e){return Rx(Px.some(t=>i.type===t),typeof i.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${Px.join(", ")} are allowed. Helmet does not support rendering <${i.type}> elements. Refer to our API for more information.`),Rx(!e||typeof e=="string"||Array.isArray(e)&&!e.some(t=>typeof t!="string"),`Helmet expects a string as a child of <${i.type}>. Did you forget to wrap your children in braces? ( <${i.type}>{\`\`}</${i.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(i,e){let t={};return _r.Children.forEach(i,s=>{if(!s||!s.props)return;const{children:l,...h}=s.props,d=Object.keys(h).reduce((y,x)=>(y[vC[x]||x]=h[x],y),{});let{type:v}=s;switch(typeof v=="symbol"?v=v.toString():this.warnOnInvalidChildren(s,l),v){case"Symbol(react.fragment)":e=this.mapChildrenToProps(l,e);break;case"link":case"meta":case"noscript":case"script":case"style":t=this.flattenArrayTypeChildren(s,t,d,l);break;default:e=this.mapObjectTypeChildren(s,e,d,l);break}}),this.mapArrayTypeChildrenToProps(t,e)}render(){const{children:i,...e}=this.props;let t={...e},{helmetData:s}=e;if(i&&(t=this.mapChildrenToProps(i,t)),s&&!(s instanceof bg)){const l=s;s=new bg(l.context,!0),delete t.helmetData}return s?_r.createElement(Lx,{...t,context:s.value}):_r.createElement(e1.Consumer,null,l=>_r.createElement(Lx,{...t,context:l}))}};const VC=()=>{};var kx={};const i1=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let l=i.charCodeAt(s);l<128?e[t++]=l:l<2048?(e[t++]=l>>6|192,e[t++]=l&63|128):(l&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=l>>18|240,e[t++]=l>>12&63|128,e[t++]=l>>6&63|128,e[t++]=l&63|128):(e[t++]=l>>12|224,e[t++]=l>>6&63|128,e[t++]=l&63|128)}return e},zC=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const l=i[t++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const h=i[t++];e[s++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=i[t++],d=i[t++],v=i[t++],y=((l&7)<<18|(h&63)<<12|(d&63)<<6|v&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const h=i[t++],d=i[t++];e[s++]=String.fromCharCode((l&15)<<12|(h&63)<<6|d&63)}}return e.join("")},r1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<i.length;l+=3){const h=i[l],d=l+1<i.length,v=d?i[l+1]:0,y=l+2<i.length,x=y?i[l+2]:0,S=h>>2,w=(h&3)<<4|v>>4;let N=(v&15)<<2|x>>6,O=x&63;y||(O=64,d||(N=64)),s.push(t[S],t[w],t[N],t[O])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(i1(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):zC(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<i.length;){const h=t[i.charAt(l++)],v=l<i.length?t[i.charAt(l)]:0;++l;const x=l<i.length?t[i.charAt(l)]:64;++l;const w=l<i.length?t[i.charAt(l)]:64;if(++l,h==null||v==null||x==null||w==null)throw new UC;const N=h<<2|v>>4;if(s.push(N),x!==64){const O=v<<4&240|x>>2;if(s.push(O),w!==64){const K=x<<6&192|w;s.push(K)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class UC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BC=function(i){const e=i1(i);return r1.encodeByteArray(e,!0)},ef=function(i){return BC(i).replace(/\./g,"")},s1=function(i){try{return r1.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function qC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const HC=()=>qC().__FIREBASE_DEFAULTS__,FC=()=>{if(typeof process>"u"||typeof kx>"u")return;const i=kx.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},GC=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&s1(i[1]);return e&&JSON.parse(e)},Tf=()=>{try{return VC()||HC()||FC()||GC()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},a1=i=>Tf()?.emulatorHosts?.[i],o1=i=>{const e=a1(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},l1=()=>Tf()?.config,c1=i=>Tf()?.[`_${i}`];class ZC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}function po(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function o_(i){return(await fetch(i,{credentials:"include"})).ok}function u1(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",l=i.iat||0,h=i.sub||i.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...i};return[ef(JSON.stringify(t)),ef(JSON.stringify(d)),""].join(".")}const Vu={};function KC(){const i={prod:[],emulator:[]};for(const e of Object.keys(Vu))Vu[e]?i.emulator.push(e):i.prod.push(e);return i}function YC(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let Dx=!1;function l_(i,e){if(typeof window>"u"||typeof document>"u"||!po(window.location.host)||Vu[i]===e||Vu[i]||Dx)return;Vu[i]=e;function t(N){return`__firebase__banner__${N}`}const s="__firebase__banner",h=KC().prod.length>0;function d(){const N=document.getElementById(s);N&&N.remove()}function v(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function y(N,O){N.setAttribute("width","24"),N.setAttribute("id",O),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function x(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{Dx=!0,d()},N}function S(N,O){N.setAttribute("id",O),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function w(){const N=YC(s),O=t("text"),K=document.getElementById(O)||document.createElement("span"),$=t("learnmore"),Z=document.getElementById($)||document.createElement("a"),ce=t("preprendIcon"),pe=document.getElementById(ce)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const J=N.element;v(J),S(Z,$);const X=x();y(pe,ce),J.append(pe,K,Z,X),document.body.appendChild(J)}h?(K.innerText="Preview backend disconnected.",pe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(pe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,K.innerText="Preview backend running in this workspace."),K.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function Yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function QC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yn())}function $C(){const i=Tf()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function WC(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function JC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eN(){const i=Yn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function tN(){return!$C()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nN(){try{return typeof indexedDB=="object"}catch{return!1}}function iN(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},l.onupgradeneeded=()=>{t=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(t){e(t)}})}const rN="FirebaseError";class Ts extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=rN,Object.setPrototypeOf(this,Ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hh.prototype.create)}}class hh{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},l=`${this.service}/${e}`,h=this.errors[e],d=h?sN(h,s):"Error",v=`${this.serviceName}: ${d} (${l}).`;return new Ts(l,v,s)}}function sN(i,e){return i.replace(aN,(t,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const aN=/\{\$([^}]+)}/g;function oN(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ll(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const l of t){if(!s.includes(l))return!1;const h=i[l],d=e[l];if(jx(h)&&jx(d)){if(!ll(h,d))return!1}else if(h!==d)return!1}for(const l of s)if(!t.includes(l))return!1;return!0}function jx(i){return i!==null&&typeof i=="object"}function dh(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Pu(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,h]=s.split("=");e[decodeURIComponent(l)]=decodeURIComponent(h)}}),e}function Mu(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function lN(i,e){const t=new cN(i,e);return t.subscribe.bind(t)}class cN{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let l;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");uN(e,["next","error","complete"])?l=e:l={next:e,error:t,complete:s},l.next===void 0&&(l.next=Wp),l.error===void 0&&(l.error=Wp),l.complete===void 0&&(l.complete=Wp);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uN(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Wp(){}function Zt(i){return i&&i._delegate?i._delegate:i}class so{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const rl="[DEFAULT]";class hN{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new ZC;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:t});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fN(e))try{this.getOrInitializeService({instanceIdentifier:rl})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(t);try{const h=this.getOrInitializeService({instanceIdentifier:l});s.resolve(h)}catch{}}}}clearInstance(e=rl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=rl){return this.instances.has(e)}getOptions(e=rl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[h,d]of this.instancesDeferred.entries()){const v=this.normalizeInstanceIdentifier(h);s===v&&d.resolve(l)}return l}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),l=this.onInitCallbacks.get(s)??new Set;l.add(e),this.onInitCallbacks.set(s,l);const h=this.instances.get(s);return h&&e(h,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const l of s)try{l(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:dN(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=rl){return this.component?this.component.multipleInstances?e:rl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dN(i){return i===rl?void 0:i}function fN(i){return i.instantiationMode==="EAGER"}class mN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new hN(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var st;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(st||(st={}));const pN={debug:st.DEBUG,verbose:st.VERBOSE,info:st.INFO,warn:st.WARN,error:st.ERROR,silent:st.SILENT},gN=st.INFO,_N={[st.DEBUG]:"log",[st.VERBOSE]:"log",[st.INFO]:"info",[st.WARN]:"warn",[st.ERROR]:"error"},yN=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),l=_N[e];if(l)console[l](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class c_{constructor(e){this.name=e,this._logLevel=gN,this._logHandler=yN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in st))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,st.DEBUG,...e),this._logHandler(this,st.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,st.VERBOSE,...e),this._logHandler(this,st.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,st.INFO,...e),this._logHandler(this,st.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,st.WARN,...e),this._logHandler(this,st.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,st.ERROR,...e),this._logHandler(this,st.ERROR,...e)}}const vN=(i,e)=>e.some(t=>i instanceof t);let Vx,zx;function xN(){return Vx||(Vx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bN(){return zx||(zx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const h1=new WeakMap,wg=new WeakMap,d1=new WeakMap,Jp=new WeakMap,u_=new WeakMap;function EN(i){const e=new Promise((t,s)=>{const l=()=>{i.removeEventListener("success",h),i.removeEventListener("error",d)},h=()=>{t(eo(i.result)),l()},d=()=>{s(i.error),l()};i.addEventListener("success",h),i.addEventListener("error",d)});return e.then(t=>{t instanceof IDBCursor&&h1.set(t,i)}).catch(()=>{}),u_.set(e,i),e}function wN(i){if(wg.has(i))return;const e=new Promise((t,s)=>{const l=()=>{i.removeEventListener("complete",h),i.removeEventListener("error",d),i.removeEventListener("abort",d)},h=()=>{t(),l()},d=()=>{s(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",h),i.addEventListener("error",d),i.addEventListener("abort",d)});wg.set(i,e)}let Tg={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return wg.get(i);if(e==="objectStoreNames")return i.objectStoreNames||d1.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return eo(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function TN(i){Tg=i(Tg)}function AN(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(eg(this),e,...t);return d1.set(s,e.sort?e.sort():[e]),eo(s)}:bN().includes(i)?function(...e){return i.apply(eg(this),e),eo(h1.get(this))}:function(...e){return eo(i.apply(eg(this),e))}}function SN(i){return typeof i=="function"?AN(i):(i instanceof IDBTransaction&&wN(i),vN(i,xN())?new Proxy(i,Tg):i)}function eo(i){if(i instanceof IDBRequest)return EN(i);if(Jp.has(i))return Jp.get(i);const e=SN(i);return e!==i&&(Jp.set(i,e),u_.set(e,i)),e}const eg=i=>u_.get(i);function CN(i,e,{blocked:t,upgrade:s,blocking:l,terminated:h}={}){const d=indexedDB.open(i,e),v=eo(d);return s&&d.addEventListener("upgradeneeded",y=>{s(eo(d.result),y.oldVersion,y.newVersion,eo(d.transaction),y)}),t&&d.addEventListener("blocked",y=>t(y.oldVersion,y.newVersion,y)),v.then(y=>{h&&y.addEventListener("close",()=>h()),l&&y.addEventListener("versionchange",x=>l(x.oldVersion,x.newVersion,x))}).catch(()=>{}),v}const NN=["get","getKey","getAll","getAllKeys","count"],RN=["put","add","delete","clear"],tg=new Map;function Ux(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(tg.get(e))return tg.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,l=RN.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(l||NN.includes(t)))return;const h=async function(d,...v){const y=this.transaction(d,l?"readwrite":"readonly");let x=y.store;return s&&(x=x.index(v.shift())),(await Promise.all([x[t](...v),l&&y.done]))[0]};return tg.set(e,h),h}TN(i=>({...i,get:(e,t,s)=>Ux(e,t)||i.get(e,t,s),has:(e,t)=>!!Ux(e,t)||i.has(e,t)}));class IN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(PN(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function PN(i){return i.getComponent()?.type==="VERSION"}const Ag="@firebase/app",Bx="0.14.6";const ia=new c_("@firebase/app"),MN="@firebase/app-compat",ON="@firebase/analytics-compat",LN="@firebase/analytics",kN="@firebase/app-check-compat",DN="@firebase/app-check",jN="@firebase/auth",VN="@firebase/auth-compat",zN="@firebase/database",UN="@firebase/data-connect",BN="@firebase/database-compat",qN="@firebase/functions",HN="@firebase/functions-compat",FN="@firebase/installations",GN="@firebase/installations-compat",ZN="@firebase/messaging",KN="@firebase/messaging-compat",YN="@firebase/performance",QN="@firebase/performance-compat",$N="@firebase/remote-config",XN="@firebase/remote-config-compat",WN="@firebase/storage",JN="@firebase/storage-compat",eR="@firebase/firestore",tR="@firebase/ai",nR="@firebase/firestore-compat",iR="firebase",rR="12.6.0";const Sg="[DEFAULT]",sR={[Ag]:"fire-core",[MN]:"fire-core-compat",[LN]:"fire-analytics",[ON]:"fire-analytics-compat",[DN]:"fire-app-check",[kN]:"fire-app-check-compat",[jN]:"fire-auth",[VN]:"fire-auth-compat",[zN]:"fire-rtdb",[UN]:"fire-data-connect",[BN]:"fire-rtdb-compat",[qN]:"fire-fn",[HN]:"fire-fn-compat",[FN]:"fire-iid",[GN]:"fire-iid-compat",[ZN]:"fire-fcm",[KN]:"fire-fcm-compat",[YN]:"fire-perf",[QN]:"fire-perf-compat",[$N]:"fire-rc",[XN]:"fire-rc-compat",[WN]:"fire-gcs",[JN]:"fire-gcs-compat",[eR]:"fire-fst",[nR]:"fire-fst-compat",[tR]:"fire-vertex","fire-js":"fire-js",[iR]:"fire-js-all"};const tf=new Map,aR=new Map,Cg=new Map;function qx(i,e){try{i.container.addComponent(e)}catch(t){ia.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function cl(i){const e=i.name;if(Cg.has(e))return ia.debug(`There were multiple attempts to register component ${e}.`),!1;Cg.set(e,i);for(const t of tf.values())qx(t,i);for(const t of aR.values())qx(t,i);return!0}function Af(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function pr(i){return i==null?!1:i.settings!==void 0}const oR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},to=new hh("app","Firebase",oR);class lR{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new so("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw to.create("app-deleted",{appName:this._name})}}const ml=rR;function f1(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s={name:Sg,automaticDataCollectionEnabled:!0,...e},l=s.name;if(typeof l!="string"||!l)throw to.create("bad-app-name",{appName:String(l)});if(t||(t=l1()),!t)throw to.create("no-options");const h=tf.get(l);if(h){if(ll(t,h.options)&&ll(s,h.config))return h;throw to.create("duplicate-app",{appName:l})}const d=new mN(l);for(const y of Cg.values())d.addComponent(y);const v=new lR(t,s,d);return tf.set(l,v),v}function h_(i=Sg){const e=tf.get(i);if(!e&&i===Sg&&l1())return f1();if(!e)throw to.create("no-app",{appName:i});return e}function gs(i,e,t){let s=sR[i]??i;t&&(s+=`-${t}`);const l=s.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const d=[`Unable to register library "${s}" with version "${e}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ia.warn(d.join(" "));return}cl(new so(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const cR="firebase-heartbeat-database",uR=1,Ku="firebase-heartbeat-store";let ng=null;function m1(){return ng||(ng=CN(cR,uR,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Ku)}catch(t){console.warn(t)}}}}).catch(i=>{throw to.create("idb-open",{originalErrorMessage:i.message})})),ng}async function hR(i){try{const t=(await m1()).transaction(Ku),s=await t.objectStore(Ku).get(p1(i));return await t.done,s}catch(e){if(e instanceof Ts)ia.warn(e.message);else{const t=to.create("idb-get",{originalErrorMessage:e?.message});ia.warn(t.message)}}}async function Hx(i,e){try{const s=(await m1()).transaction(Ku,"readwrite");await s.objectStore(Ku).put(e,p1(i)),await s.done}catch(t){if(t instanceof Ts)ia.warn(t.message);else{const s=to.create("idb-set",{originalErrorMessage:t?.message});ia.warn(s.message)}}}function p1(i){return`${i.name}!${i.options.appId}`}const dR=1024,fR=30;class mR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new gR(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Fx();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>fR){const l=_R(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ia.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Fx(),{heartbeatsToSend:t,unsentEntries:s}=pR(this._heartbeatsCache.heartbeats),l=ef(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return ia.warn(e),""}}}function Fx(){return new Date().toISOString().substring(0,10)}function pR(i,e=dR){const t=[];let s=i.slice();for(const l of i){const h=t.find(d=>d.agent===l.agent);if(h){if(h.dates.push(l.date),Gx(t)>e){h.dates.pop();break}}else if(t.push({agent:l.agent,dates:[l.date]}),Gx(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class gR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nN()?iN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await hR(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Hx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Hx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Gx(i){return ef(JSON.stringify({version:2,heartbeats:i})).length}function _R(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}function yR(i){cl(new so("platform-logger",e=>new IN(e),"PRIVATE")),cl(new so("heartbeat",e=>new mR(e),"PRIVATE")),gs(Ag,Bx,i),gs(Ag,Bx,"esm2020"),gs("fire-js","")}yR("");function g1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vR=g1,_1=new hh("auth","Firebase",g1());const nf=new c_("@firebase/auth");function xR(i,...e){nf.logLevel<=st.WARN&&nf.warn(`Auth (${ml}): ${i}`,...e)}function qd(i,...e){nf.logLevel<=st.ERROR&&nf.error(`Auth (${ml}): ${i}`,...e)}function Ur(i,...e){throw d_(i,...e)}function _s(i,...e){return d_(i,...e)}function y1(i,e,t){const s={...vR(),[e]:t};return new hh("auth","Firebase",s).create(e,{appName:i.name})}function no(i){return y1(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function d_(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return _1.create(i,...e)}function ze(i,e,...t){if(!i)throw d_(e,...t)}function Ws(i){const e="INTERNAL ASSERTION FAILED: "+i;throw qd(e),new Error(e)}function ra(i,e){i||Ws(e)}function Ng(){return typeof self<"u"&&self.location?.href||""}function bR(){return Zx()==="http:"||Zx()==="https:"}function Zx(){return typeof self<"u"&&self.location?.protocol||null}function ER(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bR()||WC()||"connection"in navigator)?navigator.onLine:!0}function wR(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class fh{constructor(e,t){this.shortDelay=e,this.longDelay=t,ra(t>e,"Short delay should be less than long delay!"),this.isMobile=QC()||JC()}get(){return ER()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function f_(i,e){ra(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class v1{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ws("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ws("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ws("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const TR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const AR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],SR=new fh(3e4,6e4);function pl(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function go(i,e,t,s,l={}){return x1(i,l,async()=>{let h={},d={};s&&(e==="GET"?d=s:h={body:JSON.stringify(s)});const v=dh({key:i.config.apiKey,...d}).slice(1),y=await i._getAdditionalHeaders();y["Content-Type"]="application/json",i.languageCode&&(y["X-Firebase-Locale"]=i.languageCode);const x={method:e,headers:y,...h};return XC()||(x.referrerPolicy="no-referrer"),i.emulatorConfig&&po(i.emulatorConfig.host)&&(x.credentials="include"),v1.fetch()(await b1(i,i.config.apiHost,t,v),x)})}async function x1(i,e,t){i._canInitEmulator=!1;const s={...TR,...e};try{const l=new NR(i),h=await Promise.race([t(),l.promise]);l.clearNetworkTimeout();const d=await h.json();if("needConfirmation"in d)throw Pd(i,"account-exists-with-different-credential",d);if(h.ok&&!("errorMessage"in d))return d;{const v=h.ok?d.errorMessage:d.error.message,[y,x]=v.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pd(i,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Pd(i,"email-already-in-use",d);if(y==="USER_DISABLED")throw Pd(i,"user-disabled",d);const S=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(x)throw y1(i,S,x);Ur(i,S)}}catch(l){if(l instanceof Ts)throw l;Ur(i,"network-request-failed",{message:String(l)})}}async function Sf(i,e,t,s,l={}){const h=await go(i,e,t,s,l);return"mfaPendingCredential"in h&&Ur(i,"multi-factor-auth-required",{_serverResponse:h}),h}async function b1(i,e,t,s){const l=`${e}${t}?${s}`,h=i,d=h.config.emulator?f_(i.config,l):`${i.config.apiScheme}://${l}`;return AR.includes(t)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(d).toString():d}function CR(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(_s(this.auth,"network-request-failed")),SR.get())})}}function Pd(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const l=_s(i,e,s);return l.customData._tokenResponse=t,l}function Kx(i){return i!==void 0&&i.enterprise!==void 0}class RR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return CR(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function IR(i,e){return go(i,"GET","/v2/recaptchaConfig",pl(i,e))}async function PR(i,e){return go(i,"POST","/v1/accounts:delete",e)}async function rf(i,e){return go(i,"POST","/v1/accounts:lookup",e)}function zu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function MR(i,e=!1){const t=Zt(i),s=await t.getIdToken(e),l=m_(s);ze(l&&l.exp&&l.auth_time&&l.iat,t.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,d=h?.sign_in_provider;return{claims:l,token:s,authTime:zu(ig(l.auth_time)),issuedAtTime:zu(ig(l.iat)),expirationTime:zu(ig(l.exp)),signInProvider:d||null,signInSecondFactor:h?.sign_in_second_factor||null}}function ig(i){return Number(i)*1e3}function m_(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return qd("JWT malformed, contained fewer than 3 sections"),null;try{const l=s1(t);return l?JSON.parse(l):(qd("Failed to decode base64 JWT payload"),null)}catch(l){return qd("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Yx(i){const e=m_(i);return ze(e,"internal-error"),ze(typeof e.exp<"u","internal-error"),ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Yu(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Ts&&OR(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function OR({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class LR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Rg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=zu(this.lastLoginAt),this.creationTime=zu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function sf(i){const e=i.auth,t=await i.getIdToken(),s=await Yu(i,rf(e,{idToken:t}));ze(s?.users.length,e,"internal-error");const l=s.users[0];i._notifyReloadListener(l);const h=l.providerUserInfo?.length?E1(l.providerUserInfo):[],d=DR(i.providerData,h),v=i.isAnonymous,y=!(i.email&&l.passwordHash)&&!d?.length,x=v?y:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Rg(l.createdAt,l.lastLoginAt),isAnonymous:x};Object.assign(i,S)}async function kR(i){const e=Zt(i);await sf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function DR(i,e){return[...i.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function E1(i){return i.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function jR(i,e){const t=await x1(i,{},async()=>{const s=dh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:h}=i.config,d=await b1(i,l,"/v1/token",`key=${h}`),v=await i._getAdditionalHeaders();v["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:v,body:s};return i.emulatorConfig&&po(i.emulatorConfig.host)&&(y.credentials="include"),v1.fetch()(d,y)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function VR(i,e){return go(i,"POST","/v2/accounts:revokeToken",pl(i,e))}class gc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ze(e.idToken,"internal-error"),ze(typeof e.idToken<"u","internal-error"),ze(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Yx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ze(e.length!==0,"internal-error");const t=Yx(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:l,expiresIn:h}=await jR(e,t);this.updateTokensAndExpiration(s,l,Number(h))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:l,expirationTime:h}=t,d=new gc;return s&&(ze(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),l&&(ze(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),h&&(ze(typeof h=="number","internal-error",{appName:e}),d.expirationTime=h),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new gc,this.toJSON())}_performRefresh(){return Ws("not implemented")}}function Ka(i,e){ze(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class zr{constructor({uid:e,auth:t,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new LR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Rg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Yu(this,this.stsTokenManager.getToken(this.auth,e));return ze(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return MR(this,e)}reload(){return kR(this)}_assign(e){this!==e&&(ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new zr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await sf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pr(this.auth.app))return Promise.reject(no(this.auth));const e=await this.getIdToken();return await Yu(this,PR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,l=t.email??void 0,h=t.phoneNumber??void 0,d=t.photoURL??void 0,v=t.tenantId??void 0,y=t._redirectEventId??void 0,x=t.createdAt??void 0,S=t.lastLoginAt??void 0,{uid:w,emailVerified:N,isAnonymous:O,providerData:K,stsTokenManager:$}=t;ze(w&&$,e,"internal-error");const Z=gc.fromJSON(this.name,$);ze(typeof w=="string",e,"internal-error"),Ka(s,e.name),Ka(l,e.name),ze(typeof N=="boolean",e,"internal-error"),ze(typeof O=="boolean",e,"internal-error"),Ka(h,e.name),Ka(d,e.name),Ka(v,e.name),Ka(y,e.name),Ka(x,e.name),Ka(S,e.name);const ce=new zr({uid:w,auth:e,email:l,emailVerified:N,displayName:s,isAnonymous:O,photoURL:d,phoneNumber:h,tenantId:v,stsTokenManager:Z,createdAt:x,lastLoginAt:S});return K&&Array.isArray(K)&&(ce.providerData=K.map(pe=>({...pe}))),y&&(ce._redirectEventId=y),ce}static async _fromIdTokenResponse(e,t,s=!1){const l=new gc;l.updateFromServerResponse(t);const h=new zr({uid:t.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await sf(h),h}static async _fromGetAccountInfoResponse(e,t,s){const l=t.users[0];ze(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?E1(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!h?.length,v=new gc;v.updateFromIdToken(s);const y=new zr({uid:l.localId,auth:e,stsTokenManager:v,isAnonymous:d}),x={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new Rg(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!h?.length};return Object.assign(y,x),y}}const Qx=new Map;function Js(i){ra(i instanceof Function,"Expected a class definition");let e=Qx.get(i);return e?(ra(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Qx.set(i,e),e)}class w1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}w1.type="NONE";const $x=w1;function Hd(i,e,t){return`firebase:${i}:${e}:${t}`}class _c{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:l,name:h}=this.auth;this.fullUserKey=Hd(this.userKey,l.apiKey,h),this.fullPersistenceKey=Hd("persistence",l.apiKey,h),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await rf(this.auth,{idToken:e}).catch(()=>{});return t?zr._fromGetAccountInfoResponse(this.auth,t,e):null}return zr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new _c(Js($x),e,s);const l=(await Promise.all(t.map(async x=>{if(await x._isAvailable())return x}))).filter(x=>x);let h=l[0]||Js($x);const d=Hd(s,e.config.apiKey,e.name);let v=null;for(const x of t)try{const S=await x._get(d);if(S){let w;if(typeof S=="string"){const N=await rf(e,{idToken:S}).catch(()=>{});if(!N)break;w=await zr._fromGetAccountInfoResponse(e,N,S)}else w=zr._fromJSON(e,S);x!==h&&(v=w),h=x;break}}catch{}const y=l.filter(x=>x._shouldAllowMigration);return!h._shouldAllowMigration||!y.length?new _c(h,e,s):(h=y[0],v&&await h._set(d,v.toJSON()),await Promise.all(t.map(async x=>{if(x!==h)try{await x._remove(d)}catch{}})),new _c(h,e,s))}}function Xx(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(C1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(T1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(R1(e))return"Blackberry";if(I1(e))return"Webos";if(A1(e))return"Safari";if((e.includes("chrome/")||S1(e))&&!e.includes("edge/"))return"Chrome";if(N1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if(s?.length===2)return s[1]}return"Other"}function T1(i=Yn()){return/firefox\//i.test(i)}function A1(i=Yn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function S1(i=Yn()){return/crios\//i.test(i)}function C1(i=Yn()){return/iemobile/i.test(i)}function N1(i=Yn()){return/android/i.test(i)}function R1(i=Yn()){return/blackberry/i.test(i)}function I1(i=Yn()){return/webos/i.test(i)}function p_(i=Yn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function zR(i=Yn()){return p_(i)&&!!window.navigator?.standalone}function UR(){return eN()&&document.documentMode===10}function P1(i=Yn()){return p_(i)||N1(i)||I1(i)||R1(i)||/windows phone/i.test(i)||C1(i)}function M1(i,e=[]){let t;switch(i){case"Browser":t=Xx(Yn());break;case"Worker":t=`${Xx(Yn())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ml}/${s}`}class BR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=h=>new Promise((d,v)=>{try{const y=e(h);d(y)}catch(y){v(y)}});s.onAbort=t,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const l of t)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function qR(i,e={}){return go(i,"GET","/v2/passwordPolicy",pl(i,e))}const HR=6;class FR{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??HR,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),l&&(t.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,l,h){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=h))}}class GR{constructor(e,t,s,l){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wx(this),this.idTokenSubscription=new Wx(this),this.beforeStateQueue=new BR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Js(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await _c.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await rf(this,{idToken:e}),s=await zr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(pr(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,d=s?._redirectEventId,v=await this.tryRedirectSignIn(e);(!h||h===d)&&v?.user&&(s=v.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(h){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await sf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=wR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pr(this.app))return Promise.reject(no(this));const t=e?Zt(e):null;return t&&ze(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pr(this.app)?Promise.reject(no(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pr(this.app)?Promise.reject(no(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Js(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qR(this),t=new FR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hh("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await VR(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Js(e)||this._popupRedirectResolver;ze(t,this,"argument-error"),this.redirectPersistenceManager=await _c.create(this,[Js(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,l){if(this._deleted)return()=>{};const h=typeof t=="function"?t:t.next.bind(t);let d=!1;const v=this._isInitialized?Promise.resolve():this._initializationPromise;if(ze(v,this,"internal-error"),v.then(()=>{d||h(this.currentUser)}),typeof t=="function"){const y=e.addObserver(t,s,l);return()=>{d=!0,y()}}else{const y=e.addObserver(t);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=M1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(pr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&xR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Pc(i){return Zt(i)}class Wx{constructor(e){this.auth=e,this.observer=null,this.addObserver=lN(t=>this.observer=t)}get next(){return ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Cf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZR(i){Cf=i}function O1(i){return Cf.loadJS(i)}function KR(){return Cf.recaptchaEnterpriseScript}function YR(){return Cf.gapiScript}function QR(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class $R{constructor(){this.enterprise=new XR}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class XR{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const WR="recaptcha-enterprise",L1="NO_RECAPTCHA";class JR{constructor(e){this.type=WR,this.auth=Pc(e)}async verify(e="verify",t=!1){async function s(h){if(!t){if(h.tenantId==null&&h._agentRecaptchaConfig!=null)return h._agentRecaptchaConfig.siteKey;if(h.tenantId!=null&&h._tenantRecaptchaConfigs[h.tenantId]!==void 0)return h._tenantRecaptchaConfigs[h.tenantId].siteKey}return new Promise(async(d,v)=>{IR(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)v(new Error("recaptcha Enterprise site key undefined"));else{const x=new RR(y);return h.tenantId==null?h._agentRecaptchaConfig=x:h._tenantRecaptchaConfigs[h.tenantId]=x,d(x.siteKey)}}).catch(y=>{v(y)})})}function l(h,d,v){const y=window.grecaptcha;Kx(y)?y.enterprise.ready(()=>{y.enterprise.execute(h,{action:e}).then(x=>{d(x)}).catch(()=>{d(L1)})}):v(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new $R().execute("siteKey",{action:"verify"}):new Promise((h,d)=>{s(this.auth).then(v=>{if(!t&&Kx(window.grecaptcha))l(v,h,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=KR();y.length!==0&&(y+=v),O1(y).then(()=>{l(v,h,d)}).catch(x=>{d(x)})}}).catch(v=>{d(v)})})}}async function Jx(i,e,t,s=!1,l=!1){const h=new JR(i);let d;if(l)d=L1;else try{d=await h.verify(t)}catch{d=await h.verify(t,!0)}const v={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in v){const y=v.phoneEnrollmentInfo.phoneNumber,x=v.phoneEnrollmentInfo.recaptchaToken;Object.assign(v,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:x,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in v){const y=v.phoneSignInInfo.recaptchaToken;Object.assign(v,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return v}return s?Object.assign(v,{captchaResp:d}):Object.assign(v,{captchaResponse:d}),Object.assign(v,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(v,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),v}async function eb(i,e,t,s,l){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await Jx(i,e,t,t==="getOobCode");return s(i,h)}else return s(i,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Jx(i,e,t,t==="getOobCode");return s(i,d)}else return Promise.reject(h)})}function eI(i,e){const t=Af(i,"auth");if(t.isInitialized()){const l=t.getImmediate(),h=t.getOptions();if(ll(h,e??{}))return l;Ur(l,"already-initialized")}return t.initialize({options:e})}function tI(i,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Js);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function nI(i,e,t){const s=Pc(i);ze(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,h=k1(e),{host:d,port:v}=iI(e),y=v===null?"":`:${v}`,x={url:`${h}//${d}${y}/`},S=Object.freeze({host:d,port:v,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){ze(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ze(ll(x,s.config.emulator)&&ll(S,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=x,s.emulatorConfig=S,s.settings.appVerificationDisabledForTesting=!0,po(d)?(o_(`${h}//${d}${y}`),l_("Auth",!0)):rI()}function k1(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function iI(i){const e=k1(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const h=l[1];return{host:h,port:tb(s.substr(h.length+1))}}else{const[h,d]=s.split(":");return{host:h,port:tb(d)}}}function tb(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function rI(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class g_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ws("not implemented")}_getIdTokenResponse(e){return Ws("not implemented")}_linkToIdToken(e,t){return Ws("not implemented")}_getReauthenticationResolver(e){return Ws("not implemented")}}async function sI(i,e){return go(i,"POST","/v1/accounts:signUp",e)}async function aI(i,e){return Sf(i,"POST","/v1/accounts:signInWithPassword",pl(i,e))}async function oI(i,e){return Sf(i,"POST","/v1/accounts:signInWithEmailLink",pl(i,e))}async function lI(i,e){return Sf(i,"POST","/v1/accounts:signInWithEmailLink",pl(i,e))}class Qu extends g_{constructor(e,t,s,l=null){super("password",s),this._email=e,this._password=t,this._tenantId=l}static _fromEmailAndPassword(e,t){return new Qu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Qu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return eb(e,t,"signInWithPassword",aI);case"emailLink":return oI(e,{email:this._email,oobCode:this._password});default:Ur(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return eb(e,s,"signUpPassword",sI);case"emailLink":return lI(e,{idToken:t,email:this._email,oobCode:this._password});default:Ur(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function yc(i,e){return Sf(i,"POST","/v1/accounts:signInWithIdp",pl(i,e))}const cI="http://localhost";class ul extends g_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ul(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ur("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l,...h}=t;if(!s||!l)return null;const d=new ul(s,l);return d.idToken=h.idToken||void 0,d.accessToken=h.accessToken||void 0,d.secret=h.secret,d.nonce=h.nonce,d.pendingToken=h.pendingToken||null,d}_getIdTokenResponse(e){const t=this.buildRequest();return yc(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,yc(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,yc(e,t)}buildRequest(){const e={requestUri:cI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=dh(t)}return e}}function uI(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function hI(i){const e=Pu(Mu(i)).link,t=e?Pu(Mu(e)).deep_link_id:null,s=Pu(Mu(i)).deep_link_id;return(s?Pu(Mu(s)).link:null)||s||t||e||i}class __{constructor(e){const t=Pu(Mu(e)),s=t.apiKey??null,l=t.oobCode??null,h=uI(t.mode??null);ze(s&&l&&h,"argument-error"),this.apiKey=s,this.operation=h,this.code=l,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=hI(e);try{return new __(t)}catch{return null}}}class Mc{constructor(){this.providerId=Mc.PROVIDER_ID}static credential(e,t){return Qu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=__.parseLink(t);return ze(s,"argument-error"),Qu._fromEmailAndCode(e,s.code,s.tenantId)}}Mc.PROVIDER_ID="password";Mc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Mc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class D1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class mh extends D1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ya extends mh{constructor(){super("facebook.com")}static credential(e){return ul._fromParams({providerId:Ya.PROVIDER_ID,signInMethod:Ya.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ya.credentialFromTaggedObject(e)}static credentialFromError(e){return Ya.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ya.credential(e.oauthAccessToken)}catch{return null}}}Ya.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ya.PROVIDER_ID="facebook.com";class Qa extends mh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ul._fromParams({providerId:Qa.PROVIDER_ID,signInMethod:Qa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Qa.credentialFromTaggedObject(e)}static credentialFromError(e){return Qa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Qa.credential(t,s)}catch{return null}}}Qa.GOOGLE_SIGN_IN_METHOD="google.com";Qa.PROVIDER_ID="google.com";class $a extends mh{constructor(){super("github.com")}static credential(e){return ul._fromParams({providerId:$a.PROVIDER_ID,signInMethod:$a.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $a.credentialFromTaggedObject(e)}static credentialFromError(e){return $a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $a.credential(e.oauthAccessToken)}catch{return null}}}$a.GITHUB_SIGN_IN_METHOD="github.com";$a.PROVIDER_ID="github.com";class Xa extends mh{constructor(){super("twitter.com")}static credential(e,t){return ul._fromParams({providerId:Xa.PROVIDER_ID,signInMethod:Xa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Xa.credentialFromTaggedObject(e)}static credentialFromError(e){return Xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Xa.credential(t,s)}catch{return null}}}Xa.TWITTER_SIGN_IN_METHOD="twitter.com";Xa.PROVIDER_ID="twitter.com";class bc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,l=!1){const h=await zr._fromIdTokenResponse(e,s,l),d=nb(s);return new bc({user:h,providerId:d,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const l=nb(s);return new bc({user:e,providerId:l,_tokenResponse:s,operationType:t})}}function nb(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class af extends Ts{constructor(e,t,s,l){super(t.code,t.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,af.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,l){return new af(e,t,s,l)}}function j1(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?af._fromErrorAndOperation(i,h,e,s):h})}async function dI(i,e,t=!1){const s=await Yu(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return bc._forOperation(i,"link",s)}async function fI(i,e,t=!1){const{auth:s}=i;if(pr(s.app))return Promise.reject(no(s));const l="reauthenticate";try{const h=await Yu(i,j1(s,l,e,i),t);ze(h.idToken,s,"internal-error");const d=m_(h.idToken);ze(d,s,"internal-error");const{sub:v}=d;return ze(i.uid===v,s,"user-mismatch"),bc._forOperation(i,l,h)}catch(h){throw h?.code==="auth/user-not-found"&&Ur(s,"user-mismatch"),h}}async function V1(i,e,t=!1){if(pr(i.app))return Promise.reject(no(i));const s="signIn",l=await j1(i,s,e),h=await bc._fromIdTokenResponse(i,s,l);return t||await i._updateCurrentUser(h.user),h}async function mI(i,e){return V1(Pc(i),e)}async function pI(i){const e=Pc(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function gI(i,e,t){return pr(i.app)?Promise.reject(no(i)):mI(Zt(i),Mc.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&pI(i),s})}function _I(i,e,t,s){return Zt(i).onIdTokenChanged(e,t,s)}function yI(i,e,t){return Zt(i).beforeAuthStateChanged(e,t)}function vI(i,e,t,s){return Zt(i).onAuthStateChanged(e,t,s)}function xI(i){return Zt(i).signOut()}const of="__sak";class z1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(of,"1"),this.storage.removeItem(of),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const bI=1e3,EI=10;class U1 extends z1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=P1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),l=this.localCache[t];s!==l&&e(t,l,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((d,v,y)=>{this.notifyListeners(d,y)});return}const s=e.key;t?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!t&&this.localCache[s]===d||this.notifyListeners(s,d)},h=this.storage.getItem(s);UR()&&h!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,EI):l()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},bI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}U1.type="LOCAL";const wI=U1;class B1 extends z1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}B1.type="SESSION";const q1=B1;function TI(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Nf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(l=>l.isListeningto(e));if(t)return t;const s=new Nf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:l,data:h}=t.data,d=this.handlersMap[l];if(!d?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const v=Array.from(d).map(async x=>x(t.origin,h)),y=await TI(v);t.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:y})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nf.receivers=[];function y_(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}class AI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,d;return new Promise((v,y)=>{const x=y_("",20);l.port1.start();const S=setTimeout(()=>{y(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(w){const N=w;if(N.data.eventId===x)switch(N.data.status){case"ack":clearTimeout(S),h=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),v(N.data.response);break;default:clearTimeout(S),clearTimeout(h),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:x,data:t},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function ys(){return window}function SI(i){ys().location.href=i}function H1(){return typeof ys().WorkerGlobalScope<"u"&&typeof ys().importScripts=="function"}async function CI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function NI(){return navigator?.serviceWorker?.controller||null}function RI(){return H1()?self:null}const F1="firebaseLocalStorageDb",II=1,lf="firebaseLocalStorage",G1="fbase_key";class ph{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Rf(i,e){return i.transaction([lf],e?"readwrite":"readonly").objectStore(lf)}function PI(){const i=indexedDB.deleteDatabase(F1);return new ph(i).toPromise()}function Ig(){const i=indexedDB.open(F1,II);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(lf,{keyPath:G1})}catch(l){t(l)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(lf)?e(s):(s.close(),await PI(),e(await Ig()))})})}async function ib(i,e,t){const s=Rf(i,!0).put({[G1]:e,value:t});return new ph(s).toPromise()}async function MI(i,e){const t=Rf(i,!1).get(e),s=await new ph(t).toPromise();return s===void 0?null:s.value}function rb(i,e){const t=Rf(i,!0).delete(e);return new ph(t).toPromise()}const OI=800,LI=3;class Z1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ig(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>LI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return H1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nf._getInstance(RI()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await CI(),!this.activeServiceWorker)return;this.sender=new AI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||NI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ig();return await ib(e,of,"1"),await rb(e,of),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>ib(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>MI(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>rb(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const h=Rf(l,!1).getAll();return new ph(h).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:h}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),t.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),t.push(l));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),OI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Z1.type="LOCAL";const kI=Z1;new fh(3e4,6e4);function DI(i,e){return e?Js(e):(ze(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class v_ extends g_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return yc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return yc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function jI(i){return V1(i.auth,new v_(i),i.bypassAuthState)}function VI(i){const{auth:e,user:t}=i;return ze(t,e,"internal-error"),fI(t,new v_(i),i.bypassAuthState)}async function zI(i){const{auth:e,user:t}=i;return ze(t,e,"internal-error"),dI(t,new v_(i),i.bypassAuthState)}class K1{constructor(e,t,s,l,h=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:l,tenantId:h,error:d,type:v}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:t,sessionId:s,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(v)(y))}catch(x){this.reject(x)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jI;case"linkViaPopup":case"linkViaRedirect":return zI;case"reauthViaPopup":case"reauthViaRedirect":return VI;default:Ur(this.auth,"internal-error")}}resolve(e){ra(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ra(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const UI=new fh(2e3,1e4);class fc extends K1{constructor(e,t,s,l,h){super(e,t,l,h),this.provider=s,this.authWindow=null,this.pollId=null,fc.currentPopupAction&&fc.currentPopupAction.cancel(),fc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ze(e,this.auth,"internal-error"),e}async onExecution(){ra(this.filter.length===1,"Popup operations only handle one event");const e=y_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(_s(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(_s(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fc.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_s(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,UI.get())};e()}}fc.currentPopupAction=null;const BI="pendingRedirect",Fd=new Map;class qI extends K1{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Fd.get(this.auth._key());if(!e){try{const s=await HI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Fd.set(this.auth._key(),e)}return this.bypassAuthState||Fd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function HI(i,e){const t=ZI(e),s=GI(i);if(!await s._isAvailable())return!1;const l=await s._get(t)==="true";return await s._remove(t),l}function FI(i,e){Fd.set(i._key(),e)}function GI(i){return Js(i._redirectPersistence)}function ZI(i){return Hd(BI,i.config.apiKey,i.name)}async function KI(i,e,t=!1){if(pr(i.app))return Promise.reject(no(i));const s=Pc(i),l=DI(s,e),d=await new qI(s,l,t).execute();return d&&!t&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}const YI=600*1e3;class QI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$I(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Y1(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(_s(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=YI&&this.cachedEventUids.clear(),this.cachedEventUids.has(sb(e))}saveEventToCache(e){this.cachedEventUids.add(sb(e)),this.lastProcessedEventTime=Date.now()}}function sb(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function Y1({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function $I(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Y1(i);default:return!1}}async function XI(i,e={}){return go(i,"GET","/v1/projects",e)}const WI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,JI=/^https?/;async function eP(i){if(i.config.emulator)return;const{authorizedDomains:e}=await XI(i);for(const t of e)try{if(tP(t))return}catch{}Ur(i,"unauthorized-domain")}function tP(i){const e=Ng(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const d=new URL(i);return d.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&d.hostname===s}if(!JI.test(t))return!1;if(WI.test(i))return s===i;const l=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const nP=new fh(3e4,6e4);function ab(){const i=ys().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function iP(i){return new Promise((e,t)=>{function s(){ab(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ab(),t(_s(i,"network-request-failed"))},timeout:nP.get()})}if(ys().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ys().gapi?.load)s();else{const l=QR("iframefcb");return ys()[l]=()=>{gapi.load?s():t(_s(i,"network-request-failed"))},O1(`${YR()}?onload=${l}`).catch(h=>t(h))}}).catch(e=>{throw Gd=null,e})}let Gd=null;function rP(i){return Gd=Gd||iP(i),Gd}const sP=new fh(5e3,15e3),aP="__/auth/iframe",oP="emulator/auth/iframe",lP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uP(i){const e=i.config;ze(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?f_(e,oP):`https://${i.config.authDomain}/${aP}`,s={apiKey:e.apiKey,appName:i.name,v:ml},l=cP.get(i.config.apiHost);l&&(s.eid=l);const h=i._getFrameworks();return h.length&&(s.fw=h.join(",")),`${t}?${dh(s).slice(1)}`}async function hP(i){const e=await rP(i),t=ys().gapi;return ze(t,i,"internal-error"),e.open({where:document.body,url:uP(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lP,dontclear:!0},s=>new Promise(async(l,h)=>{await s.restyle({setHideOnLeave:!1});const d=_s(i,"network-request-failed"),v=ys().setTimeout(()=>{h(d)},sP.get());function y(){ys().clearTimeout(v),l(s)}s.ping(y).then(y,()=>{h(d)})}))}const dP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fP=500,mP=600,pP="_blank",gP="http://localhost";class ob{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _P(i,e,t,s=fP,l=mP){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let v="";const y={...dP,width:s.toString(),height:l.toString(),top:h,left:d},x=Yn().toLowerCase();t&&(v=S1(x)?pP:t),T1(x)&&(e=e||gP,y.scrollbars="yes");const S=Object.entries(y).reduce((N,[O,K])=>`${N}${O}=${K},`,"");if(zR(x)&&v!=="_self")return yP(e||"",v),new ob(null);const w=window.open(e||"",v,S);ze(w,i,"popup-blocked");try{w.focus()}catch{}return new ob(w)}function yP(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}const vP="__/auth/handler",xP="emulator/auth/handler",bP=encodeURIComponent("fac");async function lb(i,e,t,s,l,h){ze(i.config.authDomain,i,"auth-domain-config-required"),ze(i.config.apiKey,i,"invalid-api-key");const d={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:ml,eventId:l};if(e instanceof D1){e.setDefaultLanguage(i.languageCode),d.providerId=e.providerId||"",oN(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[S,w]of Object.entries({}))d[S]=w}if(e instanceof mh){const S=e.getScopes().filter(w=>w!=="");S.length>0&&(d.scopes=S.join(","))}i.tenantId&&(d.tid=i.tenantId);const v=d;for(const S of Object.keys(v))v[S]===void 0&&delete v[S];const y=await i._getAppCheckToken(),x=y?`#${bP}=${encodeURIComponent(y)}`:"";return`${EP(i)}?${dh(v).slice(1)}${x}`}function EP({config:i}){return i.emulator?f_(i,xP):`https://${i.authDomain}/${vP}`}const rg="webStorageSupport";class wP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=q1,this._completeRedirectFn=KI,this._overrideRedirectResult=FI}async _openPopup(e,t,s,l){ra(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const h=await lb(e,t,s,Ng(),l);return _P(e,h,y_())}async _openRedirect(e,t,s,l){await this._originValidation(e);const h=await lb(e,t,s,Ng(),l);return SI(h),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:l,promise:h}=this.eventManagers[t];return l?Promise.resolve(l):(ra(h,"If manager is not set, promise should be"),h)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await hP(e),s=new QI(e);return t.register("authEvent",l=>(ze(l?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(rg,{type:rg},l=>{const h=l?.[0]?.[rg];h!==void 0&&t(!!h),Ur(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=eP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return P1()||A1()||p_()}}const TP=wP;var cb="@firebase/auth",ub="1.11.1";class AP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function SP(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CP(i){cl(new so("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),h=e.getProvider("app-check-internal"),{apiKey:d,authDomain:v}=s.options;ze(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:d,authDomain:v,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:M1(i)},x=new GR(s,l,h,y);return tI(x,t),x},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),cl(new so("auth-internal",e=>{const t=Pc(e.getProvider("auth").getImmediate());return(s=>new AP(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),gs(cb,ub,SP(i)),gs(cb,ub,"esm2020")}const NP=300,RP=c1("authIdTokenMaxAge")||NP;let hb=null;const IP=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>RP)return;const l=t?.token;hb!==l&&(hb=l,await fetch(i,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function PP(i=h_()){const e=Af(i,"auth");if(e.isInitialized())return e.getImmediate();const t=eI(i,{popupRedirectResolver:TP,persistence:[kI,wI,q1]}),s=c1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(s,location.origin);if(location.origin===h.origin){const d=IP(h.toString());yI(t,d,()=>d(t.currentUser)),_I(t,v=>d(v))}}const l=a1("auth");return l&&nI(t,`http://${l}`),t}function MP(){return document.getElementsByTagName("head")?.[0]??document}ZR({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=l=>{const h=_s("internal-error");h.customData=l,t(h)},s.type="text/javascript",s.charset="UTF-8",MP().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CP("Browser");var OP="firebase",LP="12.6.0";gs(OP,LP,"app");var db=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var io,Q1;(function(){var i;function e(k,M){function D(){}D.prototype=M.prototype,k.F=M.prototype,k.prototype=new D,k.prototype.constructor=k,k.D=function(H,B,G){for(var z=Array(arguments.length-2),ct=2;ct<arguments.length;ct++)z[ct-2]=arguments[ct];return M.prototype[B].apply(H,z)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(k,M,D){D||(D=0);const H=Array(16);if(typeof M=="string")for(var B=0;B<16;++B)H[B]=M.charCodeAt(D++)|M.charCodeAt(D++)<<8|M.charCodeAt(D++)<<16|M.charCodeAt(D++)<<24;else for(B=0;B<16;++B)H[B]=M[D++]|M[D++]<<8|M[D++]<<16|M[D++]<<24;M=k.g[0],D=k.g[1],B=k.g[2];let G=k.g[3],z;z=M+(G^D&(B^G))+H[0]+3614090360&4294967295,M=D+(z<<7&4294967295|z>>>25),z=G+(B^M&(D^B))+H[1]+3905402710&4294967295,G=M+(z<<12&4294967295|z>>>20),z=B+(D^G&(M^D))+H[2]+606105819&4294967295,B=G+(z<<17&4294967295|z>>>15),z=D+(M^B&(G^M))+H[3]+3250441966&4294967295,D=B+(z<<22&4294967295|z>>>10),z=M+(G^D&(B^G))+H[4]+4118548399&4294967295,M=D+(z<<7&4294967295|z>>>25),z=G+(B^M&(D^B))+H[5]+1200080426&4294967295,G=M+(z<<12&4294967295|z>>>20),z=B+(D^G&(M^D))+H[6]+2821735955&4294967295,B=G+(z<<17&4294967295|z>>>15),z=D+(M^B&(G^M))+H[7]+4249261313&4294967295,D=B+(z<<22&4294967295|z>>>10),z=M+(G^D&(B^G))+H[8]+1770035416&4294967295,M=D+(z<<7&4294967295|z>>>25),z=G+(B^M&(D^B))+H[9]+2336552879&4294967295,G=M+(z<<12&4294967295|z>>>20),z=B+(D^G&(M^D))+H[10]+4294925233&4294967295,B=G+(z<<17&4294967295|z>>>15),z=D+(M^B&(G^M))+H[11]+2304563134&4294967295,D=B+(z<<22&4294967295|z>>>10),z=M+(G^D&(B^G))+H[12]+1804603682&4294967295,M=D+(z<<7&4294967295|z>>>25),z=G+(B^M&(D^B))+H[13]+4254626195&4294967295,G=M+(z<<12&4294967295|z>>>20),z=B+(D^G&(M^D))+H[14]+2792965006&4294967295,B=G+(z<<17&4294967295|z>>>15),z=D+(M^B&(G^M))+H[15]+1236535329&4294967295,D=B+(z<<22&4294967295|z>>>10),z=M+(B^G&(D^B))+H[1]+4129170786&4294967295,M=D+(z<<5&4294967295|z>>>27),z=G+(D^B&(M^D))+H[6]+3225465664&4294967295,G=M+(z<<9&4294967295|z>>>23),z=B+(M^D&(G^M))+H[11]+643717713&4294967295,B=G+(z<<14&4294967295|z>>>18),z=D+(G^M&(B^G))+H[0]+3921069994&4294967295,D=B+(z<<20&4294967295|z>>>12),z=M+(B^G&(D^B))+H[5]+3593408605&4294967295,M=D+(z<<5&4294967295|z>>>27),z=G+(D^B&(M^D))+H[10]+38016083&4294967295,G=M+(z<<9&4294967295|z>>>23),z=B+(M^D&(G^M))+H[15]+3634488961&4294967295,B=G+(z<<14&4294967295|z>>>18),z=D+(G^M&(B^G))+H[4]+3889429448&4294967295,D=B+(z<<20&4294967295|z>>>12),z=M+(B^G&(D^B))+H[9]+568446438&4294967295,M=D+(z<<5&4294967295|z>>>27),z=G+(D^B&(M^D))+H[14]+3275163606&4294967295,G=M+(z<<9&4294967295|z>>>23),z=B+(M^D&(G^M))+H[3]+4107603335&4294967295,B=G+(z<<14&4294967295|z>>>18),z=D+(G^M&(B^G))+H[8]+1163531501&4294967295,D=B+(z<<20&4294967295|z>>>12),z=M+(B^G&(D^B))+H[13]+2850285829&4294967295,M=D+(z<<5&4294967295|z>>>27),z=G+(D^B&(M^D))+H[2]+4243563512&4294967295,G=M+(z<<9&4294967295|z>>>23),z=B+(M^D&(G^M))+H[7]+1735328473&4294967295,B=G+(z<<14&4294967295|z>>>18),z=D+(G^M&(B^G))+H[12]+2368359562&4294967295,D=B+(z<<20&4294967295|z>>>12),z=M+(D^B^G)+H[5]+4294588738&4294967295,M=D+(z<<4&4294967295|z>>>28),z=G+(M^D^B)+H[8]+2272392833&4294967295,G=M+(z<<11&4294967295|z>>>21),z=B+(G^M^D)+H[11]+1839030562&4294967295,B=G+(z<<16&4294967295|z>>>16),z=D+(B^G^M)+H[14]+4259657740&4294967295,D=B+(z<<23&4294967295|z>>>9),z=M+(D^B^G)+H[1]+2763975236&4294967295,M=D+(z<<4&4294967295|z>>>28),z=G+(M^D^B)+H[4]+1272893353&4294967295,G=M+(z<<11&4294967295|z>>>21),z=B+(G^M^D)+H[7]+4139469664&4294967295,B=G+(z<<16&4294967295|z>>>16),z=D+(B^G^M)+H[10]+3200236656&4294967295,D=B+(z<<23&4294967295|z>>>9),z=M+(D^B^G)+H[13]+681279174&4294967295,M=D+(z<<4&4294967295|z>>>28),z=G+(M^D^B)+H[0]+3936430074&4294967295,G=M+(z<<11&4294967295|z>>>21),z=B+(G^M^D)+H[3]+3572445317&4294967295,B=G+(z<<16&4294967295|z>>>16),z=D+(B^G^M)+H[6]+76029189&4294967295,D=B+(z<<23&4294967295|z>>>9),z=M+(D^B^G)+H[9]+3654602809&4294967295,M=D+(z<<4&4294967295|z>>>28),z=G+(M^D^B)+H[12]+3873151461&4294967295,G=M+(z<<11&4294967295|z>>>21),z=B+(G^M^D)+H[15]+530742520&4294967295,B=G+(z<<16&4294967295|z>>>16),z=D+(B^G^M)+H[2]+3299628645&4294967295,D=B+(z<<23&4294967295|z>>>9),z=M+(B^(D|~G))+H[0]+4096336452&4294967295,M=D+(z<<6&4294967295|z>>>26),z=G+(D^(M|~B))+H[7]+1126891415&4294967295,G=M+(z<<10&4294967295|z>>>22),z=B+(M^(G|~D))+H[14]+2878612391&4294967295,B=G+(z<<15&4294967295|z>>>17),z=D+(G^(B|~M))+H[5]+4237533241&4294967295,D=B+(z<<21&4294967295|z>>>11),z=M+(B^(D|~G))+H[12]+1700485571&4294967295,M=D+(z<<6&4294967295|z>>>26),z=G+(D^(M|~B))+H[3]+2399980690&4294967295,G=M+(z<<10&4294967295|z>>>22),z=B+(M^(G|~D))+H[10]+4293915773&4294967295,B=G+(z<<15&4294967295|z>>>17),z=D+(G^(B|~M))+H[1]+2240044497&4294967295,D=B+(z<<21&4294967295|z>>>11),z=M+(B^(D|~G))+H[8]+1873313359&4294967295,M=D+(z<<6&4294967295|z>>>26),z=G+(D^(M|~B))+H[15]+4264355552&4294967295,G=M+(z<<10&4294967295|z>>>22),z=B+(M^(G|~D))+H[6]+2734768916&4294967295,B=G+(z<<15&4294967295|z>>>17),z=D+(G^(B|~M))+H[13]+1309151649&4294967295,D=B+(z<<21&4294967295|z>>>11),z=M+(B^(D|~G))+H[4]+4149444226&4294967295,M=D+(z<<6&4294967295|z>>>26),z=G+(D^(M|~B))+H[11]+3174756917&4294967295,G=M+(z<<10&4294967295|z>>>22),z=B+(M^(G|~D))+H[2]+718787259&4294967295,B=G+(z<<15&4294967295|z>>>17),z=D+(G^(B|~M))+H[9]+3951481745&4294967295,k.g[0]=k.g[0]+M&4294967295,k.g[1]=k.g[1]+(B+(z<<21&4294967295|z>>>11))&4294967295,k.g[2]=k.g[2]+B&4294967295,k.g[3]=k.g[3]+G&4294967295}s.prototype.v=function(k,M){M===void 0&&(M=k.length);const D=M-this.blockSize,H=this.C;let B=this.h,G=0;for(;G<M;){if(B==0)for(;G<=D;)l(this,k,G),G+=this.blockSize;if(typeof k=="string"){for(;G<M;)if(H[B++]=k.charCodeAt(G++),B==this.blockSize){l(this,H),B=0;break}}else for(;G<M;)if(H[B++]=k[G++],B==this.blockSize){l(this,H),B=0;break}}this.h=B,this.o+=M},s.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var M=1;M<k.length-8;++M)k[M]=0;M=this.o*8;for(var D=k.length-8;D<k.length;++D)k[D]=M&255,M/=256;for(this.v(k),k=Array(16),M=0,D=0;D<4;++D)for(let H=0;H<32;H+=8)k[M++]=this.g[D]>>>H&255;return k};function h(k,M){var D=v;return Object.prototype.hasOwnProperty.call(D,k)?D[k]:D[k]=M(k)}function d(k,M){this.h=M;const D=[];let H=!0;for(let B=k.length-1;B>=0;B--){const G=k[B]|0;H&&G==M||(D[B]=G,H=!1)}this.g=D}var v={};function y(k){return-128<=k&&k<128?h(k,function(M){return new d([M|0],M<0?-1:0)}):new d([k|0],k<0?-1:0)}function x(k){if(isNaN(k)||!isFinite(k))return w;if(k<0)return Z(x(-k));const M=[];let D=1;for(let H=0;k>=D;H++)M[H]=k/D|0,D*=4294967296;return new d(M,0)}function S(k,M){if(k.length==0)throw Error("number format error: empty string");if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(k.charAt(0)=="-")return Z(S(k.substring(1),M));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=x(Math.pow(M,8));let H=w;for(let G=0;G<k.length;G+=8){var B=Math.min(8,k.length-G);const z=parseInt(k.substring(G,G+B),M);B<8?(B=x(Math.pow(M,B)),H=H.j(B).add(x(z))):(H=H.j(D),H=H.add(x(z)))}return H}var w=y(0),N=y(1),O=y(16777216);i=d.prototype,i.m=function(){if($(this))return-Z(this).m();let k=0,M=1;for(let D=0;D<this.g.length;D++){const H=this.i(D);k+=(H>=0?H:4294967296+H)*M,M*=4294967296}return k},i.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(K(this))return"0";if($(this))return"-"+Z(this).toString(k);const M=x(Math.pow(k,6));var D=this;let H="";for(;;){const B=X(D,M).g;D=ce(D,B.j(M));let G=((D.g.length>0?D.g[0]:D.h)>>>0).toString(k);if(D=B,K(D))return G+H;for(;G.length<6;)G="0"+G;H=G+H}},i.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function K(k){if(k.h!=0)return!1;for(let M=0;M<k.g.length;M++)if(k.g[M]!=0)return!1;return!0}function $(k){return k.h==-1}i.l=function(k){return k=ce(this,k),$(k)?-1:K(k)?0:1};function Z(k){const M=k.g.length,D=[];for(let H=0;H<M;H++)D[H]=~k.g[H];return new d(D,~k.h).add(N)}i.abs=function(){return $(this)?Z(this):this},i.add=function(k){const M=Math.max(this.g.length,k.g.length),D=[];let H=0;for(let B=0;B<=M;B++){let G=H+(this.i(B)&65535)+(k.i(B)&65535),z=(G>>>16)+(this.i(B)>>>16)+(k.i(B)>>>16);H=z>>>16,G&=65535,z&=65535,D[B]=z<<16|G}return new d(D,D[D.length-1]&-2147483648?-1:0)};function ce(k,M){return k.add(Z(M))}i.j=function(k){if(K(this)||K(k))return w;if($(this))return $(k)?Z(this).j(Z(k)):Z(Z(this).j(k));if($(k))return Z(this.j(Z(k)));if(this.l(O)<0&&k.l(O)<0)return x(this.m()*k.m());const M=this.g.length+k.g.length,D=[];for(var H=0;H<2*M;H++)D[H]=0;for(H=0;H<this.g.length;H++)for(let B=0;B<k.g.length;B++){const G=this.i(H)>>>16,z=this.i(H)&65535,ct=k.i(B)>>>16,rn=k.i(B)&65535;D[2*H+2*B]+=z*rn,pe(D,2*H+2*B),D[2*H+2*B+1]+=G*rn,pe(D,2*H+2*B+1),D[2*H+2*B+1]+=z*ct,pe(D,2*H+2*B+1),D[2*H+2*B+2]+=G*ct,pe(D,2*H+2*B+2)}for(k=0;k<M;k++)D[k]=D[2*k+1]<<16|D[2*k];for(k=M;k<2*M;k++)D[k]=0;return new d(D,0)};function pe(k,M){for(;(k[M]&65535)!=k[M];)k[M+1]+=k[M]>>>16,k[M]&=65535,M++}function J(k,M){this.g=k,this.h=M}function X(k,M){if(K(M))throw Error("division by zero");if(K(k))return new J(w,w);if($(k))return M=X(Z(k),M),new J(Z(M.g),Z(M.h));if($(M))return M=X(k,Z(M)),new J(Z(M.g),M.h);if(k.g.length>30){if($(k)||$(M))throw Error("slowDivide_ only works with positive integers.");for(var D=N,H=M;H.l(k)<=0;)D=_e(D),H=_e(H);var B=Ee(D,1),G=Ee(H,1);for(H=Ee(H,2),D=Ee(D,2);!K(H);){var z=G.add(H);z.l(k)<=0&&(B=B.add(D),G=z),H=Ee(H,1),D=Ee(D,1)}return M=ce(k,B.j(M)),new J(B,M)}for(B=w;k.l(M)>=0;){for(D=Math.max(1,Math.floor(k.m()/M.m())),H=Math.ceil(Math.log(D)/Math.LN2),H=H<=48?1:Math.pow(2,H-48),G=x(D),z=G.j(M);$(z)||z.l(k)>0;)D-=H,G=x(D),z=G.j(M);K(G)&&(G=N),B=B.add(G),k=ce(k,z)}return new J(B,k)}i.B=function(k){return X(this,k).h},i.and=function(k){const M=Math.max(this.g.length,k.g.length),D=[];for(let H=0;H<M;H++)D[H]=this.i(H)&k.i(H);return new d(D,this.h&k.h)},i.or=function(k){const M=Math.max(this.g.length,k.g.length),D=[];for(let H=0;H<M;H++)D[H]=this.i(H)|k.i(H);return new d(D,this.h|k.h)},i.xor=function(k){const M=Math.max(this.g.length,k.g.length),D=[];for(let H=0;H<M;H++)D[H]=this.i(H)^k.i(H);return new d(D,this.h^k.h)};function _e(k){const M=k.g.length+1,D=[];for(let H=0;H<M;H++)D[H]=k.i(H)<<1|k.i(H-1)>>>31;return new d(D,k.h)}function Ee(k,M){const D=M>>5;M%=32;const H=k.g.length-D,B=[];for(let G=0;G<H;G++)B[G]=M>0?k.i(G+D)>>>M|k.i(G+D+1)<<32-M:k.i(G+D);return new d(B,k.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Q1=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=x,d.fromString=S,io=d}).apply(typeof db<"u"?db:typeof self<"u"?self:typeof window<"u"?window:{});var Md=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $1,Ou,X1,Zd,Pg,W1,J1,ew;(function(){var i,e=Object.defineProperty;function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Md=="object"&&Md];for(var E=0;E<f.length;++E){var C=f[E];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var s=t(this);function l(f,E){if(E)e:{var C=s;f=f.split(".");for(var P=0;P<f.length-1;P++){var W=f[P];if(!(W in C))break e;C=C[W]}f=f[f.length-1],P=C[f],E=E(P),E!=P&&E!=null&&e(C,f,{configurable:!0,writable:!0,value:E})}}l("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(f){return f||function(E){var C=[],P;for(P in E)Object.prototype.hasOwnProperty.call(E,P)&&C.push([P,E[P]]);return C}});var h=h||{},d=this||self;function v(f){var E=typeof f;return E=="object"&&f!=null||E=="function"}function y(f,E,C){return f.call.apply(f.bind,arguments)}function x(f,E,C){return x=y,x.apply(null,arguments)}function S(f,E){var C=Array.prototype.slice.call(arguments,1);return function(){var P=C.slice();return P.push.apply(P,arguments),f.apply(this,P)}}function w(f,E){function C(){}C.prototype=E.prototype,f.Z=E.prototype,f.prototype=new C,f.prototype.constructor=f,f.Ob=function(P,W,re){for(var xe=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)xe[Be-2]=arguments[Be];return E.prototype[W].apply(P,xe)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function O(f){const E=f.length;if(E>0){const C=Array(E);for(let P=0;P<E;P++)C[P]=f[P];return C}return[]}function K(f,E){for(let P=1;P<arguments.length;P++){const W=arguments[P];var C=typeof W;if(C=C!="object"?C:W?Array.isArray(W)?"array":C:"null",C=="array"||C=="object"&&typeof W.length=="number"){C=f.length||0;const re=W.length||0;f.length=C+re;for(let xe=0;xe<re;xe++)f[C+xe]=W[xe]}else f.push(W)}}class ${constructor(E,C){this.i=E,this.j=C,this.h=0,this.g=null}get(){let E;return this.h>0?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function Z(f){d.setTimeout(()=>{throw f},0)}function ce(){var f=k;let E=null;return f.g&&(E=f.g,f.g=f.g.next,f.g||(f.h=null),E.next=null),E}class pe{constructor(){this.h=this.g=null}add(E,C){const P=J.get();P.set(E,C),this.h?this.h.next=P:this.g=P,this.h=P}}var J=new $(()=>new X,f=>f.reset());class X{constructor(){this.next=this.g=this.h=null}set(E,C){this.h=E,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let _e,Ee=!1,k=new pe,M=()=>{const f=Promise.resolve(void 0);_e=()=>{f.then(D)}};function D(){for(var f;f=ce();){try{f.h.call(f.g)}catch(C){Z(C)}var E=J;E.j(f),E.h<100&&(E.h++,f.next=E.g,E.g=f)}Ee=!1}function H(){this.u=this.u,this.C=this.C}H.prototype.u=!1,H.prototype.dispose=function(){this.u||(this.u=!0,this.N())},H.prototype[Symbol.dispose]=function(){this.dispose()},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(f,E){this.type=f,this.g=this.target=E,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var G=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,E=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const C=()=>{};d.addEventListener("test",C,E),d.removeEventListener("test",C,E)}catch{}return f})();function z(f){return/^[\s\xa0]*$/.test(f)}function ct(f,E){B.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,E)}w(ct,B),ct.prototype.init=function(f,E){const C=this.type=f.type,P=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=E,E=f.relatedTarget,E||(C=="mouseover"?E=f.fromElement:C=="mouseout"&&(E=f.toElement)),this.relatedTarget=E,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&ct.Z.h.call(this)},ct.prototype.h=function(){ct.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var rn="closure_listenable_"+(Math.random()*1e6|0),ae=0;function be(f,E,C,P,W){this.listener=f,this.proxy=null,this.src=E,this.type=C,this.capture=!!P,this.ha=W,this.key=++ae,this.da=this.fa=!1}function ge(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function tt(f,E,C){for(const P in f)E.call(C,f[P],P,f)}function Se(f,E){for(const C in f)E.call(void 0,f[C],C,f)}function q(f){const E={};for(const C in f)E[C]=f[C];return E}const oe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ye(f,E){let C,P;for(let W=1;W<arguments.length;W++){P=arguments[W];for(C in P)f[C]=P[C];for(let re=0;re<oe.length;re++)C=oe[re],Object.prototype.hasOwnProperty.call(P,C)&&(f[C]=P[C])}}function ve(f){this.src=f,this.g={},this.h=0}ve.prototype.add=function(f,E,C,P,W){const re=f.toString();f=this.g[re],f||(f=this.g[re]=[],this.h++);const xe=Te(f,E,P,W);return xe>-1?(E=f[xe],C||(E.fa=!1)):(E=new be(E,this.src,re,!!P,W),E.fa=C,f.push(E)),E};function Ae(f,E){const C=E.type;if(C in f.g){var P=f.g[C],W=Array.prototype.indexOf.call(P,E,void 0),re;(re=W>=0)&&Array.prototype.splice.call(P,W,1),re&&(ge(E),f.g[C].length==0&&(delete f.g[C],f.h--))}}function Te(f,E,C,P){for(let W=0;W<f.length;++W){const re=f[W];if(!re.da&&re.listener==E&&re.capture==!!C&&re.ha==P)return W}return-1}var He="closure_lm_"+(Math.random()*1e6|0),St={};function It(f,E,C,P,W){if(Array.isArray(E)){for(let re=0;re<E.length;re++)It(f,E[re],C,P,W);return null}return C=Yr(C),f&&f[rn]?f.J(E,C,v(P)?!!P.capture:!1,W):br(f,E,C,!1,P,W)}function br(f,E,C,P,W,re){if(!E)throw Error("Invalid event type");const xe=v(W)?!!W.capture:!!W;let Be=Kr(f);if(Be||(f[He]=Be=new ve(f)),C=Be.add(E,C,P,xe,re),C.proxy)return C;if(P=Gr(),C.proxy=P,P.src=f,P.listener=C,f.addEventListener)G||(W=xe),W===void 0&&(W=!1),f.addEventListener(E.toString(),P,W);else if(f.attachEvent)f.attachEvent(Ki(E.toString()),P);else if(f.addListener&&f.removeListener)f.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return C}function Gr(){function f(C){return E.call(f.src,f.listener,C)}const E=oa;return f}function Zi(f,E,C,P,W){if(Array.isArray(E))for(var re=0;re<E.length;re++)Zi(f,E[re],C,P,W);else P=v(P)?!!P.capture:!!P,C=Yr(C),f&&f[rn]?(f=f.i,re=String(E).toString(),re in f.g&&(E=f.g[re],C=Te(E,C,P,W),C>-1&&(ge(E[C]),Array.prototype.splice.call(E,C,1),E.length==0&&(delete f.g[re],f.h--)))):f&&(f=Kr(f))&&(E=f.g[E.toString()],f=-1,E&&(f=Te(E,C,P,W)),(C=f>-1?E[f]:null)&&Zr(C))}function Zr(f){if(typeof f!="number"&&f&&!f.da){var E=f.src;if(E&&E[rn])Ae(E.i,f);else{var C=f.type,P=f.proxy;E.removeEventListener?E.removeEventListener(C,P,f.capture):E.detachEvent?E.detachEvent(Ki(C),P):E.addListener&&E.removeListener&&E.removeListener(P),(C=Kr(E))?(Ae(C,f),C.h==0&&(C.src=null,E[He]=null)):ge(f)}}}function Ki(f){return f in St?St[f]:St[f]="on"+f}function oa(f,E){if(f.da)f=!0;else{E=new ct(E,this);const C=f.listener,P=f.ha||f.src;f.fa&&Zr(f),f=C.call(P,E)}return f}function Kr(f){return f=f[He],f instanceof ve?f:null}var As="__closure_events_fn_"+(Math.random()*1e9>>>0);function Yr(f){return typeof f=="function"?f:(f[As]||(f[As]=function(E){return f.handleEvent(E)}),f[As])}function Yt(){H.call(this),this.i=new ve(this),this.M=this,this.G=null}w(Yt,H),Yt.prototype[rn]=!0,Yt.prototype.removeEventListener=function(f,E,C,P){Zi(this,f,E,C,P)};function Qt(f,E){var C,P=f.G;if(P)for(C=[];P;P=P.G)C.push(P);if(f=f.M,P=E.type||E,typeof E=="string")E=new B(E,f);else if(E instanceof B)E.target=E.target||f;else{var W=E;E=new B(P,f),ye(E,W)}W=!0;let re,xe;if(C)for(xe=C.length-1;xe>=0;xe--)re=E.g=C[xe],W=Yi(re,P,!0,E)&&W;if(re=E.g=f,W=Yi(re,P,!0,E)&&W,W=Yi(re,P,!1,E)&&W,C)for(xe=0;xe<C.length;xe++)re=E.g=C[xe],W=Yi(re,P,!1,E)&&W}Yt.prototype.N=function(){if(Yt.Z.N.call(this),this.i){var f=this.i;for(const E in f.g){const C=f.g[E];for(let P=0;P<C.length;P++)ge(C[P]);delete f.g[E],f.h--}}this.G=null},Yt.prototype.J=function(f,E,C,P){return this.i.add(String(f),E,!1,C,P)},Yt.prototype.K=function(f,E,C,P){return this.i.add(String(f),E,!0,C,P)};function Yi(f,E,C,P){if(E=f.i.g[String(E)],!E)return!0;E=E.concat();let W=!0;for(let re=0;re<E.length;++re){const xe=E[re];if(xe&&!xe.da&&xe.capture==C){const Be=xe.listener,ut=xe.ha||xe.src;xe.fa&&Ae(f.i,xe),W=Be.call(ut,P)!==!1&&W}}return W&&!P.defaultPrevented}function bl(f,E){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=x(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(E)>2147483647?-1:d.setTimeout(f,E||0)}function xo(f){f.g=bl(()=>{f.g=null,f.i&&(f.i=!1,xo(f))},f.l);const E=f.h;f.h=null,f.m.apply(null,E)}class Pn extends H{constructor(E,C){super(),this.m=E,this.l=C,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:xo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ss(f){H.call(this),this.h=f,this.g={}}w(Ss,H);var Cs=[];function la(f){tt(f.g,function(E,C){this.g.hasOwnProperty(C)&&Zr(E)},f),f.g={}}Ss.prototype.N=function(){Ss.Z.N.call(this),la(this)},Ss.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Er=d.JSON.stringify,Uc=d.JSON.parse,bo=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function Eo(){}function El(){}var ri={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function sn(){B.call(this,"d")}w(sn,B);function Qn(){B.call(this,"c")}w(Qn,B);var qt={},Qr=null;function ca(){return Qr=Qr||new Yt}qt.Ia="serverreachability";function wl(f){B.call(this,qt.Ia,f)}w(wl,B);function Ti(f){const E=ca();Qt(E,new wl(E))}qt.STAT_EVENT="statevent";function $r(f,E){B.call(this,qt.STAT_EVENT,f),this.stat=E}w($r,B);function Ht(f){const E=ca();Qt(E,new $r(E,f))}qt.Ja="timingevent";function Qi(f,E){B.call(this,qt.Ja,f),this.size=E}w(Qi,B);function $i(f,E){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},E)}function Ai(){this.g=!0}Ai.prototype.ua=function(){this.g=!1};function Bc(f,E,C,P,W,re){f.info(function(){if(f.g)if(re){var xe="",Be=re.split("&");for(let ht=0;ht<Be.length;ht++){var ut=Be[ht].split("=");if(ut.length>1){const Mt=ut[0];ut=ut[1];const di=Mt.split("_");xe=di.length>=2&&di[1]=="type"?xe+(Mt+"="+ut+"&"):xe+(Mt+"=redacted&")}}}else xe=null;else xe=re;return"XMLHTTP REQ ("+P+") [attempt "+W+"]: "+E+`
`+C+`
`+xe})}function Tl(f,E,C,P,W,re,xe){f.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+W+"]: "+E+`
`+C+`
`+re+" "+xe})}function Xi(f,E,C,P){f.info(function(){return"XMLHTTP TEXT ("+E+"): "+qc(f,C)+(P?" "+P:"")})}function wr(f,E){f.info(function(){return"TIMEOUT: "+E})}Ai.prototype.info=function(){};function qc(f,E){if(!f.g)return E;if(!E)return null;try{const re=JSON.parse(E);if(re){for(f=0;f<re.length;f++)if(Array.isArray(re[f])){var C=re[f];if(!(C.length<2)){var P=C[1];if(Array.isArray(P)&&!(P.length<1)){var W=P[0];if(W!="noop"&&W!="stop"&&W!="close")for(let xe=1;xe<P.length;xe++)P[xe]=""}}}}return Er(re)}catch{return E}}var Ns={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},wo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},To;function En(){}w(En,Eo),En.prototype.g=function(){return new XMLHttpRequest},To=new En;function Ie(f){return encodeURIComponent(String(f))}function Ao(f){var E=1;f=f.split(":");const C=[];for(;E>0&&f.length;)C.push(f.shift()),E--;return f.length&&C.push(f.join(":")),C}function si(f,E,C,P){this.j=f,this.i=E,this.l=C,this.S=P||1,this.V=new Ss(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ai}function ai(){this.i=null,this.g="",this.h=!1}var Ft={},$t={};function Si(f,E,C){f.M=1,f.A=bt(kt(E)),f.u=C,f.R=!0,Ci(f,null)}function Ci(f,E){f.F=Date.now(),Wi(f),f.B=kt(f.A);var C=f.B,P=f.S;Array.isArray(P)||(P=[String(P)]),Wr(C.i,"t",P),f.C=0,C=f.j.L,f.h=new ai,f.g=Mo(f.j,C?E:null,!f.u),f.P>0&&(f.O=new Pn(x(f.Y,f,f.g),f.P)),E=f.V,C=f.g,P=f.ba;var W="readystatechange";Array.isArray(W)||(W&&(Cs[0]=W.toString()),W=Cs);for(let re=0;re<W.length;re++){const xe=It(C,W[re],P||E.handleEvent,!1,E.h||E);if(!xe)break;E.g[xe.key]=xe}E=f.J?q(f.J):{},f.u?(f.v||(f.v="POST"),E["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,E)):(f.v="GET",f.g.ea(f.B,f.v,null,E)),Ti(),Bc(f.i,f.v,f.B,f.l,f.S,f.u)}si.prototype.ba=function(f){f=f.target;const E=this.O;E&&Pi(f)==3?E.j():this.Y(f)},si.prototype.Y=function(f){try{if(f==this.g)e:{const Be=Pi(this.g),ut=this.g.ya(),ht=this.g.ca();if(!(Be<3)&&(Be!=3||this.g&&(this.h.h||this.g.la()||hn(this.g)))){this.K||Be!=4||ut==7||(ut==8||ht<=0?Ti(3):Ti(2)),Ni(this);var E=this.g.ca();this.X=E;var C=Al(this);if(this.o=E==200,Tl(this.i,this.v,this.B,this.l,this.S,Be,E),this.o){if(this.U&&!this.L){t:{if(this.g){var P,W=this.g;if((P=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(P)){var re=P;break t}}re=null}if(f=re)Xi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ji(this,f);else{this.o=!1,this.m=3,Ht(12),wn(this),oi(this);break e}}if(this.R){f=!0;let Mt;for(;!this.K&&this.C<C.length;)if(Mt=Cl(this,C),Mt==$t){Be==4&&(this.m=4,Ht(14),f=!1),Xi(this.i,this.l,null,"[Incomplete Response]");break}else if(Mt==Ft){this.m=4,Ht(15),Xi(this.i,this.l,C,"[Invalid Chunk]"),f=!1;break}else Xi(this.i,this.l,Mt,null),Ji(this,Mt);if(Sl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Be!=4||C.length!=0||this.h.h||(this.m=1,Ht(16),f=!1),this.o=this.o&&f,!f)Xi(this.i,this.l,C,"[Invalid Chunked Response]"),wn(this),oi(this);else if(C.length>0&&!this.W){this.W=!0;var xe=this.j;xe.g==this&&xe.aa&&!xe.P&&(xe.j.info("Great, no buffering proxy detected. Bytes received: "+C.length),Io(xe),xe.P=!0,Ht(11))}}else Xi(this.i,this.l,C,null),Ji(this,C);Be==4&&wn(this),this.o&&!this.K&&(Be==4?Wn(this.j,this):(this.o=!1,Wi(this)))}else Mi(this.g),E==400&&C.indexOf("Unknown SID")>0?(this.m=3,Ht(12)):(this.m=0,Ht(13)),wn(this),oi(this)}}}catch{}finally{}};function Al(f){if(!Sl(f))return f.g.la();const E=hn(f.g);if(E==="")return"";let C="";const P=E.length,W=Pi(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return wn(f),oi(f),"";f.h.i=new d.TextDecoder}for(let re=0;re<P;re++)f.h.h=!0,C+=f.h.i.decode(E[re],{stream:!(W&&re==P-1)});return E.length=0,f.h.g+=C,f.C=0,f.h.g}function Sl(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Cl(f,E){var C=f.C,P=E.indexOf(`
`,C);return P==-1?$t:(C=Number(E.substring(C,P)),isNaN(C)?Ft:(P+=1,P+C>E.length?$t:(E=E.slice(P,P+C),f.C=P+C,E)))}si.prototype.cancel=function(){this.K=!0,wn(this)};function Wi(f){f.T=Date.now()+f.H,ua(f,f.H)}function ua(f,E){if(f.D!=null)throw Error("WatchDog timer not null");f.D=$i(x(f.aa,f),E)}function Ni(f){f.D&&(d.clearTimeout(f.D),f.D=null)}si.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(wr(this.i,this.B),this.M!=2&&(Ti(),Ht(17)),wn(this),this.m=2,oi(this)):ua(this,this.T-f)};function oi(f){f.j.I==0||f.K||Wn(f.j,f)}function wn(f){Ni(f);var E=f.O;E&&typeof E.dispose=="function"&&E.dispose(),f.O=null,la(f.V),f.g&&(E=f.g,f.g=null,E.abort(),E.dispose())}function Ji(f,E){try{var C=f.j;if(C.I!=0&&(C.g==f||li(C.h,f))){if(!f.L&&li(C.h,f)&&C.I==3){try{var P=C.Ba.g.parse(E)}catch{P=null}if(Array.isArray(P)&&P.length==3){var W=P;if(W[0]==0){e:if(!C.v){if(C.g)if(C.g.F+3e3<f.F)_a(C),ns(C);else break e;Ls(C),Ht(18)}}else C.xa=W[1],0<C.xa-C.K&&W[2]<37500&&C.F&&C.A==0&&!C.C&&(C.C=$i(x(C.Va,C),6e3));er(C.h)<=1&&C.ta&&(C.ta=void 0)}else Oi(C,11)}else if((f.L||C.g==f)&&_a(C),!z(E))for(W=C.Ba.g.parse(E),E=0;E<W.length;E++){let ht=W[E];const Mt=ht[0];if(!(Mt<=C.K))if(C.K=Mt,ht=ht[1],C.I==2)if(ht[0]=="c"){C.M=ht[1],C.ba=ht[2];const di=ht[3];di!=null&&(C.ka=di,C.j.info("VER="+C.ka));const fi=ht[4];fi!=null&&(C.za=fi,C.j.info("SVER="+C.za));const Jn=ht[5];Jn!=null&&typeof Jn=="number"&&Jn>0&&(P=1.5*Jn,C.O=P,C.j.info("backChannelRequestTimeoutMs_="+P)),P=C;const ki=f.g;if(ki){const ks=ki.g?ki.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ks){var re=P.h;re.g||ks.indexOf("spdy")==-1&&ks.indexOf("quic")==-1&&ks.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(Tr(re,re.h),re.h=null))}if(P.G){const Ds=ki.g?ki.g.getResponseHeader("X-HTTP-Session-Id"):null;Ds&&(P.wa=Ds,Ne(P.J,P.G,Ds))}}C.I=3,C.l&&C.l.ra(),C.aa&&(C.T=Date.now()-f.F,C.j.info("Handshake RTT: "+C.T+"ms")),P=C;var xe=f;if(P.na=Po(P,P.L?P.ba:null,P.W),xe.L){ha(P.h,xe);var Be=xe,ut=P.O;ut&&(Be.H=ut),Be.D&&(Ni(Be),Wi(Be)),P.g=xe}else Ro(P);C.i.length>0&&Bn(C)}else ht[0]!="stop"&&ht[0]!="close"||Oi(C,7);else C.I==3&&(ht[0]=="stop"||ht[0]=="close"?ht[0]=="stop"?Oi(C,7):Qe(C):ht[0]!="noop"&&C.l&&C.l.qa(ht),C.A=0)}}Ti(4)}catch{}}var Xt=class{constructor(f,E){this.g=f,this.map=E}};function So(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Co(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function er(f){return f.h?1:f.g?f.g.size:0}function li(f,E){return f.h?f.h==E:f.g?f.g.has(E):!1}function Tr(f,E){f.g?f.g.add(E):f.h=E}function ha(f,E){f.h&&f.h==E?f.h=null:f.g&&f.g.has(E)&&f.g.delete(E)}So.prototype.cancel=function(){if(this.i=da(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function da(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let E=f.i;for(const C of f.g.values())E=E.concat(C.G);return E}return O(f.i)}var Xr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $e(f,E){if(f){f=f.split("&");for(let C=0;C<f.length;C++){const P=f[C].indexOf("=");let W,re=null;P>=0?(W=f[C].substring(0,P),re=f[C].substring(P+1)):W=f[C],E(W,re?decodeURIComponent(re.replace(/\+/g," ")):"")}}}function Xe(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let E;f instanceof Xe?(this.l=f.l,Dt(this,f.j),this.o=f.o,this.g=f.g,$n(this,f.u),this.h=f.h,Rs(this,Ms(f.i)),this.m=f.m):f&&(E=String(f).match(Xr))?(this.l=!1,Dt(this,E[1]||"",!0),this.o=ci(E[2]||""),this.g=ci(E[3]||"",!0),$n(this,E[4]),this.h=ci(E[5]||"",!0),Rs(this,E[6]||"",!0),this.m=ci(E[7]||"")):(this.l=!1,this.i=new ui(null,this.l))}Xe.prototype.toString=function(){const f=[];var E=this.j;E&&f.push(tr(E,fa,!0),":");var C=this.g;return(C||E=="file")&&(f.push("//"),(E=this.o)&&f.push(tr(E,fa,!0),"@"),f.push(Ie(C).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.u,C!=null&&f.push(":",String(C))),(C=this.h)&&(this.g&&C.charAt(0)!="/"&&f.push("/"),f.push(tr(C,C.charAt(0)=="/"?Ri:Is,!0))),(C=this.i.toString())&&f.push("?",C),(C=this.m)&&f.push("#",tr(C,nr)),f.join("")},Xe.prototype.resolve=function(f){const E=kt(this);let C=!!f.j;C?Dt(E,f.j):C=!!f.o,C?E.o=f.o:C=!!f.g,C?E.g=f.g:C=f.u!=null;var P=f.h;if(C)$n(E,f.u);else if(C=!!f.h){if(P.charAt(0)!="/")if(this.g&&!this.h)P="/"+P;else{var W=E.h.lastIndexOf("/");W!=-1&&(P=E.h.slice(0,W+1)+P)}if(W=P,W==".."||W==".")P="";else if(W.indexOf("./")!=-1||W.indexOf("/.")!=-1){P=W.lastIndexOf("/",0)==0,W=W.split("/");const re=[];for(let xe=0;xe<W.length;){const Be=W[xe++];Be=="."?P&&xe==W.length&&re.push(""):Be==".."?((re.length>1||re.length==1&&re[0]!="")&&re.pop(),P&&xe==W.length&&re.push("")):(re.push(Be),P=!0)}P=re.join("/")}else P=W}return C?E.h=P:C=f.i.toString()!=="",C?Rs(E,Ms(f.i)):C=!!f.m,C&&(E.m=f.m),E};function kt(f){return new Xe(f)}function Dt(f,E,C){f.j=C?ci(E,!0):E,f.j&&(f.j=f.j.replace(/:$/,""))}function $n(f,E){if(E){if(E=Number(E),isNaN(E)||E<0)throw Error("Bad port number "+E);f.u=E}else f.u=null}function Rs(f,E,C){E instanceof ui?(f.i=E,Jr(f.i,f.l)):(C||(E=tr(E,Et)),f.i=new ui(E,f.l))}function Ne(f,E,C){f.i.set(E,C)}function bt(f){return Ne(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function ci(f,E){return f?E?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function tr(f,E,C){return typeof f=="string"?(f=encodeURI(f).replace(E,Pt),C&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Pt(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var fa=/[#\/\?@]/g,Is=/[#\?:]/g,Ri=/[#\?]/g,Et=/[#\?@]/g,nr=/#/g;function ui(f,E){this.h=this.g=null,this.i=f||null,this.j=!!E}function un(f){f.g||(f.g=new Map,f.h=0,f.i&&$e(f.i,function(E,C){f.add(decodeURIComponent(E.replace(/\+/g," ")),C)}))}i=ui.prototype,i.add=function(f,E){un(this),this.i=null,f=ir(this,f);let C=this.g.get(f);return C||this.g.set(f,C=[]),C.push(E),this.h+=1,this};function ma(f,E){un(f),E=ir(f,E),f.g.has(E)&&(f.i=null,f.h-=f.g.get(E).length,f.g.delete(E))}function Ar(f,E){return un(f),E=ir(f,E),f.g.has(E)}i.forEach=function(f,E){un(this),this.g.forEach(function(C,P){C.forEach(function(W){f.call(E,W,P,this)},this)},this)};function Ps(f,E){un(f);let C=[];if(typeof E=="string")Ar(f,E)&&(C=C.concat(f.g.get(ir(f,E))));else for(f=Array.from(f.g.values()),E=0;E<f.length;E++)C=C.concat(f[E]);return C}i.set=function(f,E){return un(this),this.i=null,f=ir(this,f),Ar(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[E]),this.h+=1,this},i.get=function(f,E){return f?(f=Ps(this,f),f.length>0?String(f[0]):E):E};function Wr(f,E,C){ma(f,E),C.length>0&&(f.i=null,f.g.set(ir(f,E),O(C)),f.h+=C.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],E=Array.from(this.g.keys());for(let P=0;P<E.length;P++){var C=E[P];const W=Ie(C);C=Ps(this,C);for(let re=0;re<C.length;re++){let xe=W;C[re]!==""&&(xe+="="+Ie(C[re])),f.push(xe)}}return this.i=f.join("&")};function Ms(f){const E=new ui;return E.i=f.i,f.g&&(E.g=new Map(f.g),E.h=f.h),E}function ir(f,E){return E=String(E),f.j&&(E=E.toLowerCase()),E}function Jr(f,E){E&&!f.j&&(un(f),f.i=null,f.g.forEach(function(C,P){const W=P.toLowerCase();P!=W&&(ma(this,P),Wr(this,W,C))},f)),f.j=E}function Vn(f,E){const C=new Ai;if(d.Image){const P=new Image;P.onload=S(zn,C,"TestLoadImage: loaded",!0,E,P),P.onerror=S(zn,C,"TestLoadImage: error",!1,E,P),P.onabort=S(zn,C,"TestLoadImage: abort",!1,E,P),P.ontimeout=S(zn,C,"TestLoadImage: timeout",!1,E,P),d.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=f}else E(!1)}function pa(f,E){const C=new Ai,P=new AbortController,W=setTimeout(()=>{P.abort(),zn(C,"TestPingServer: timeout",!1,E)},1e4);fetch(f,{signal:P.signal}).then(re=>{clearTimeout(W),re.ok?zn(C,"TestPingServer: ok",!0,E):zn(C,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(W),zn(C,"TestPingServer: error",!1,E)})}function zn(f,E,C,P,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),P(C)}catch{}}function es(){this.g=new bo}function je(f){this.i=f.Sb||null,this.h=f.ab||!1}w(je,Eo),je.prototype.g=function(){return new Tn(this.i,this.h)};function Tn(f,E){Yt.call(this),this.H=f,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Tn,Yt),i=Tn.prototype,i.open=function(f,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=E,this.readyState=1,Xn(this)},i.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const E={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(E.body=f),(this.H||d).fetch(new Request(this.D,E)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Sr(this)),this.readyState=0},i.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;mt(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function mt(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}i.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var E=f.value?f.value:new Uint8Array(0);(E=this.B.decode(E,{stream:!f.done}))&&(this.response=this.responseText+=E)}f.done?Sr(this):Xn(this),this.readyState==3&&mt(this)}},i.Oa=function(f){this.g&&(this.response=this.responseText=f,Sr(this))},i.Na=function(f){this.g&&(this.response=f,Sr(this))},i.ga=function(){this.g&&Sr(this)};function Sr(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Xn(f)}i.setRequestHeader=function(f,E){this.A.append(f,E)},i.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],E=this.h.entries();for(var C=E.next();!C.done;)C=C.value,f.push(C[0]+": "+C[1]),C=E.next();return f.join(`\r
`)};function Xn(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Tn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Un(f){let E="";return tt(f,function(C,P){E+=P,E+=":",E+=C,E+=`\r
`}),E}function Cr(f,E,C){e:{for(P in C){var P=!1;break e}P=!0}P||(C=Un(C),typeof f=="string"?C!=null&&Ie(C):Ne(f,E,C))}function nt(f){Yt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(nt,Yt);var hi=/^https?$/i,Nr=["POST","PUT"];i=nt.prototype,i.Fa=function(f){this.H=f},i.ea=function(f,E,C,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);E=E?E.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():To.g(),this.g.onreadystatechange=N(x(this.Ca,this));try{this.B=!0,this.g.open(E,String(f),!0),this.B=!1}catch(re){jt(this,re);return}if(f=C||"",C=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var W in P)C.set(W,P[W]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const re of P.keys())C.set(re,P.get(re));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(C.keys()).find(re=>re.toLowerCase()=="content-type"),W=d.FormData&&f instanceof d.FormData,!(Array.prototype.indexOf.call(Nr,E,void 0)>=0)||P||W||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,xe]of C)this.g.setRequestHeader(re,xe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(re){jt(this,re)}};function jt(f,E){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=E,f.o=5,Ii(f),rr(f)}function Ii(f){f.A||(f.A=!0,Qt(f,"complete"),Qt(f,"error"))}i.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Qt(this,"complete"),Qt(this,"abort"),rr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rr(this,!0)),nt.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?ts(this):this.Xa())},i.Xa=function(){ts(this)};function ts(f){if(f.h&&typeof h<"u"){if(f.v&&Pi(f)==4)setTimeout(f.Ca.bind(f),0);else if(Qt(f,"readystatechange"),Pi(f)==4){f.h=!1;try{const re=f.ca();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var C;if(!(C=E)){var P;if(P=re===0){let xe=String(f.D).match(Xr)[1]||null;!xe&&d.self&&d.self.location&&(xe=d.self.location.protocol.slice(0,-1)),P=!hi.test(xe?xe.toLowerCase():"")}C=P}if(C)Qt(f,"complete"),Qt(f,"success");else{f.o=6;try{var W=Pi(f)>2?f.g.statusText:""}catch{W=""}f.l=W+" ["+f.ca()+"]",Ii(f)}}finally{rr(f)}}}}function rr(f,E){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const C=f.g;f.g=null,E||Qt(f,"ready");try{C.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Pi(f){return f.g?f.g.readyState:0}i.ca=function(){try{return Pi(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(f){if(this.g){var E=this.g.responseText;return f&&E.indexOf(f)==0&&(E=E.substring(f.length)),Uc(E)}};function hn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Mi(f){const E={};f=(f.g&&Pi(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<f.length;P++){if(z(f[P]))continue;var C=Ao(f[P]);const W=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const re=E[W]||[];E[W]=re,re.push(C)}Se(E,function(P){return P.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function sr(f,E,C){return C&&C.internalChannelParams&&C.internalChannelParams[f]||E}function Rr(f){this.za=0,this.i=[],this.j=new Ai,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=sr("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=sr("baseRetryDelayMs",5e3,f),this.Za=sr("retryDelaySeedMs",1e4,f),this.Ta=sr("forwardChannelMaxRetries",2,f),this.va=sr("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new So(f&&f.concurrentRequestLimit),this.Ba=new es,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Rr.prototype,i.ka=8,i.I=1,i.connect=function(f,E,C,P){Ht(0),this.W=f,this.H=E||{},C&&P!==void 0&&(this.H.OSID=C,this.H.OAID=P),this.F=this.X,this.J=Po(this,null,this.W),Bn(this)};function Qe(f){if(An(f),f.I==3){var E=f.V++,C=kt(f.J);if(Ne(C,"SID",f.M),Ne(C,"RID",E),Ne(C,"TYPE","terminate"),Ir(f,C),E=new si(f,f.j,E),E.M=2,E.A=bt(kt(C)),C=!1,d.navigator&&d.navigator.sendBeacon)try{C=d.navigator.sendBeacon(E.A.toString(),"")}catch{}!C&&d.Image&&(new Image().src=E.A,C=!0),C||(E.g=Mo(E.j,null),E.g.ea(E.A)),E.F=Date.now(),Wi(E)}Li(f)}function ns(f){f.g&&(Io(f),f.g.cancel(),f.g=null)}function An(f){ns(f),f.v&&(d.clearTimeout(f.v),f.v=null),_a(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&d.clearTimeout(f.m),f.m=null)}function Bn(f){if(!Co(f.h)&&!f.m){f.m=!0;var E=f.Ea;_e||M(),Ee||(_e(),Ee=!0),k.add(E,f),f.D=0}}function Os(f,E){return er(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=E.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=$i(x(f.Ea,f,E),Rl(f,f.D)),f.D++,!0)}i.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const W=new si(this,this.j,f);let re=this.o;if(this.U&&(re?(re=q(re),ye(re,this.U)):re=this.U),this.u!==null||this.R||(W.J=re,re=null),this.S)e:{for(var E=0,C=0;C<this.i.length;C++){t:{var P=this.i[C];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(E+=P,E>4096){E=C;break e}if(E===4096||C===this.i.length-1){E=C+1;break e}}E=1e3}else E=1e3;E=Nl(this,W,E),C=kt(this.J),Ne(C,"RID",f),Ne(C,"CVER",22),this.G&&Ne(C,"X-HTTP-Session-Id",this.G),Ir(this,C),re&&(this.R?E="headers="+Ie(Un(re))+"&"+E:this.u&&Cr(C,this.u,re)),Tr(this.h,W),this.Ra&&Ne(C,"TYPE","init"),this.S?(Ne(C,"$req",E),Ne(C,"SID","null"),W.U=!0,Si(W,C,null)):Si(W,C,E),this.I=2}}else this.I==3&&(f?No(this,f):this.i.length==0||Co(this.h)||No(this))};function No(f,E){var C;E?C=E.l:C=f.V++;const P=kt(f.J);Ne(P,"SID",f.M),Ne(P,"RID",C),Ne(P,"AID",f.K),Ir(f,P),f.u&&f.o&&Cr(P,f.u,f.o),C=new si(f,f.j,C,f.D+1),f.u===null&&(C.J=f.o),E&&(f.i=E.G.concat(f.i)),E=Nl(f,C,1e3),C.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Tr(f.h,C),Si(C,P,E)}function Ir(f,E){f.H&&tt(f.H,function(C,P){Ne(E,P,C)}),f.l&&tt({},function(C,P){Ne(E,P,C)})}function Nl(f,E,C){C=Math.min(f.i.length,C);const P=f.l?x(f.l.Ka,f.l,f):null;e:{var W=f.i;let Be=-1;for(;;){const ut=["count="+C];Be==-1?C>0?(Be=W[0].g,ut.push("ofs="+Be)):Be=0:ut.push("ofs="+Be);let ht=!0;for(let Mt=0;Mt<C;Mt++){var re=W[Mt].g;const di=W[Mt].map;if(re-=Be,re<0)Be=Math.max(0,W[Mt].g-100),ht=!1;else try{re="req"+re+"_"||"";try{var xe=di instanceof Map?di:Object.entries(di);for(const[fi,Jn]of xe){let ki=Jn;v(Jn)&&(ki=Er(Jn)),ut.push(re+fi+"="+encodeURIComponent(ki))}}catch(fi){throw ut.push(re+"type="+encodeURIComponent("_badmap")),fi}}catch{P&&P(di)}}if(ht){xe=ut.join("&");break e}}xe=void 0}return f=f.i.splice(0,C),E.G=f,xe}function Ro(f){if(!f.g&&!f.v){f.Y=1;var E=f.Da;_e||M(),Ee||(_e(),Ee=!0),k.add(E,f),f.A=0}}function Ls(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=$i(x(f.Da,f),Rl(f,f.A)),f.A++,!0)}i.Da=function(){if(this.v=null,ga(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=$i(x(this.Wa,this),f)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ht(10),ns(this),ga(this))};function Io(f){f.B!=null&&(d.clearTimeout(f.B),f.B=null)}function ga(f){f.g=new si(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var E=kt(f.na);Ne(E,"RID","rpc"),Ne(E,"SID",f.M),Ne(E,"AID",f.K),Ne(E,"CI",f.F?"0":"1"),!f.F&&f.ia&&Ne(E,"TO",f.ia),Ne(E,"TYPE","xmlhttp"),Ir(f,E),f.u&&f.o&&Cr(E,f.u,f.o),f.O&&(f.g.H=f.O);var C=f.g;f=f.ba,C.M=1,C.A=bt(kt(E)),C.u=null,C.R=!0,Ci(C,f)}i.Va=function(){this.C!=null&&(this.C=null,ns(this),Ls(this),Ht(19))};function _a(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function Wn(f,E){var C=null;if(f.g==E){_a(f),Io(f),f.g=null;var P=2}else if(li(f.h,E))C=E.G,ha(f.h,E),P=1;else return;if(f.I!=0){if(E.o)if(P==1){C=E.u?E.u.length:0,E=Date.now()-E.F;var W=f.D;P=ca(),Qt(P,new Qi(P,C)),Bn(f)}else Ro(f);else if(W=E.m,W==3||W==0&&E.X>0||!(P==1&&Os(f,E)||P==2&&Ls(f)))switch(C&&C.length>0&&(E=f.h,E.i=E.i.concat(C)),W){case 1:Oi(f,5);break;case 4:Oi(f,10);break;case 3:Oi(f,6);break;default:Oi(f,2)}}}function Rl(f,E){let C=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(C*=2),C*E}function Oi(f,E){if(f.j.info("Error code "+E),E==2){var C=x(f.bb,f),P=f.Ua;const W=!P;P=new Xe(P||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Dt(P,"https"),bt(P),W?Vn(P.toString(),C):pa(P.toString(),C)}else Ht(2);f.I=0,f.l&&f.l.pa(E),Li(f),An(f)}i.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Ht(2)):(this.j.info("Failed to ping google.com"),Ht(1))};function Li(f){if(f.I=0,f.ja=[],f.l){const E=da(f.h);(E.length!=0||f.i.length!=0)&&(K(f.ja,E),K(f.ja,f.i),f.h.i.length=0,O(f.i),f.i.length=0),f.l.oa()}}function Po(f,E,C){var P=C instanceof Xe?kt(C):new Xe(C);if(P.g!="")E&&(P.g=E+"."+P.g),$n(P,P.u);else{var W=d.location;P=W.protocol,E=E?E+"."+W.hostname:W.hostname,W=+W.port;const re=new Xe(null);P&&Dt(re,P),E&&(re.g=E),W&&$n(re,W),C&&(re.h=C),P=re}return C=f.G,E=f.wa,C&&E&&Ne(P,C,E),Ne(P,"VER",f.ka),Ir(f,P),P}function Mo(f,E,C){if(E&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return E=f.Aa&&!f.ma?new nt(new je({ab:C})):new nt(f.ma),E.Fa(f.L),E}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function ya(){}i=ya.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function is(){}is.prototype.g=function(f,E){return new Sn(f,E)};function Sn(f,E){Yt.call(this),this.g=new Rr(E),this.l=f,this.h=E&&E.messageUrlParams||null,f=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(f?f["X-WebChannel-Content-Type"]=E.messageContentType:f={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.sa&&(f?f["X-WebChannel-Client-Profile"]=E.sa:f={"X-WebChannel-Client-Profile":E.sa}),this.g.U=f,(f=E&&E.Qb)&&!z(f)&&(this.g.u=f),this.A=E&&E.supportsCrossDomainXhr||!1,this.v=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!z(E)&&(this.g.G=E,f=this.h,f!==null&&E in f&&(f=this.h,E in f&&delete f[E])),this.j=new Pr(this)}w(Sn,Yt),Sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){Qe(this.g)},Sn.prototype.o=function(f){var E=this.g;if(typeof f=="string"){var C={};C.__data__=f,f=C}else this.v&&(C={},C.__data__=Er(f),f=C);E.i.push(new Xt(E.Ya++,f)),E.I==3&&Bn(E)},Sn.prototype.N=function(){this.g.l=null,delete this.j,Qe(this.g),delete this.g,Sn.Z.N.call(this)};function Oo(f){sn.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var E=f.__sm__;if(E){e:{for(const C in E){f=C;break e}f=void 0}(this.i=f)&&(f=this.i,E=E!==null&&f in E?E[f]:void 0),this.data=E}else this.data=f}w(Oo,sn);function Il(){Qn.call(this),this.status=1}w(Il,Qn);function Pr(f){this.g=f}w(Pr,ya),Pr.prototype.ra=function(){Qt(this.g,"a")},Pr.prototype.qa=function(f){Qt(this.g,new Oo(f))},Pr.prototype.pa=function(f){Qt(this.g,new Il)},Pr.prototype.oa=function(){Qt(this.g,"b")},is.prototype.createWebChannel=is.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,ew=function(){return new is},J1=function(){return ca()},W1=qt,Pg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ns.NO_ERROR=0,Ns.TIMEOUT=8,Ns.HTTP_ERROR=6,Zd=Ns,wo.COMPLETE="complete",X1=wo,El.EventType=ri,ri.OPEN="a",ri.CLOSE="b",ri.ERROR="c",ri.MESSAGE="d",Yt.prototype.listen=Yt.prototype.J,Ou=El,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,$1=nt}).apply(typeof Md<"u"?Md:typeof self<"u"?self:typeof window<"u"?window:{});const fb="@firebase/firestore",mb="4.9.2";class Zn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zn.UNAUTHENTICATED=new Zn(null),Zn.GOOGLE_CREDENTIALS=new Zn("google-credentials-uid"),Zn.FIRST_PARTY=new Zn("first-party-uid"),Zn.MOCK_USER=new Zn("mock-user");let Oc="12.3.0";const hl=new c_("@firebase/firestore");function cc(){return hl.logLevel}function Re(i,...e){if(hl.logLevel<=st.DEBUG){const t=e.map(x_);hl.debug(`Firestore (${Oc}): ${i}`,...t)}}function sa(i,...e){if(hl.logLevel<=st.ERROR){const t=e.map(x_);hl.error(`Firestore (${Oc}): ${i}`,...t)}}function Ec(i,...e){if(hl.logLevel<=st.WARN){const t=e.map(x_);hl.warn(`Firestore (${Oc}): ${i}`,...t)}}function x_(i){if(typeof i=="string")return i;try{return(function(t){return JSON.stringify(t)})(i)}catch{return i}}function Ue(i,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,tw(i,s,t)}function tw(i,e,t){let s=`FIRESTORE (${Oc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw sa(s),new Error(s)}function xt(i,e,t,s){let l="Unexpected state";typeof t=="string"?l=t:s=t,i||tw(e,l,s)}function Ge(i,e){return i}const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ce extends Ts{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ta{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class nw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Zn.UNAUTHENTICATED)))}shutdown(){}}class DP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class jP{constructor(e){this.t=e,this.currentUser=Zn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){xt(this.o===void 0,42304);let s=this.i;const l=y=>this.i!==s?(s=this.i,t(y)):Promise.resolve();let h=new ta;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new ta,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=h;e.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},v=y=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>v(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?v(y):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new ta)}}),0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(xt(typeof s.accessToken=="string",31837,{l:s}),new nw(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xt(e===null||typeof e=="string",2055,{h:e}),new Zn(e)}}class VP{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Zn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class zP{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new VP(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Zn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class pb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UP{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){xt(this.o===void 0,3512);const s=h=>{h.error!=null&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,Re("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>s(h)))};const l=h=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>l(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new pb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(xt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new pb(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function BP(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}class b_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=BP(40);for(let h=0;h<l.length;++h)s.length<20&&l[h]<t&&(s+=e.charAt(l[h]%62))}return s}}function at(i,e){return i<e?-1:i>e?1:0}function Mg(i,e){const t=Math.min(i.length,e.length);for(let s=0;s<t;s++){const l=i.charAt(s),h=e.charAt(s);if(l!==h)return sg(l)===sg(h)?at(l,h):sg(l)?1:-1}return at(i.length,e.length)}const qP=55296,HP=57343;function sg(i){const e=i.charCodeAt(0);return e>=qP&&e<=HP}function wc(i,e,t){return i.length===e.length&&i.every(((s,l)=>t(s,e[l])))}const gb="__name__";class ms{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ue(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Ue(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return ms.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ms?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let l=0;l<s;l++){const h=ms.compareSegments(e.get(l),t.get(l));if(h!==0)return h}return at(e.length,t.length)}static compareSegments(e,t){const s=ms.isNumericId(e),l=ms.isNumericId(t);return s&&!l?-1:!s&&l?1:s&&l?ms.extractNumericId(e).compare(ms.extractNumericId(t)):Mg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return io.fromString(e.substring(4,e.length-2))}}class Lt extends ms{construct(e,t,s){return new Lt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ce(he.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((l=>l.length>0)))}return new Lt(t)}static emptyPath(){return new Lt([])}}const FP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dn extends ms{construct(e,t,s){return new Dn(e,t,s)}static isValidIdentifier(e){return FP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gb}static keyField(){return new Dn([gb])}static fromServerFormat(e){const t=[];let s="",l=0;const h=()=>{if(s.length===0)throw new Ce(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let d=!1;for(;l<e.length;){const v=e[l];if(v==="\\"){if(l+1===e.length)throw new Ce(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new Ce(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,l+=2}else v==="`"?(d=!d,l++):v!=="."||d?(s+=v,l++):(h(),l++)}if(h(),d)throw new Ce(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dn(t)}static emptyPath(){return new Dn([])}}class ke{constructor(e){this.path=e}static fromPath(e){return new ke(Lt.fromString(e))}static fromName(e){return new ke(Lt.fromString(e).popFirst(5))}static empty(){return new ke(Lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Lt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new Lt(e.slice()))}}function iw(i,e,t){if(!t)throw new Ce(he.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function GP(i,e,t,s){if(e===!0&&s===!0)throw new Ce(he.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function _b(i){if(!ke.isDocumentKey(i))throw new Ce(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function yb(i){if(ke.isDocumentKey(i))throw new Ce(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function rw(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function If(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ue(12329,{type:typeof i})}function Br(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Ce(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=If(i);throw new Ce(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function yn(i,e){const t={typeString:i};return e&&(t.value=e),t}function gh(i,e){if(!rw(i))throw new Ce(he.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const l=e[s].typeString,h="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){t=`JSON missing required field: '${s}'`;break}const d=i[s];if(l&&typeof d!==l){t=`JSON field '${s}' must be a ${l}.`;break}if(h!==void 0&&d!==h.value){t=`Expected '${s}' field to equal '${h.value}'`;break}}if(t)throw new Ce(he.INVALID_ARGUMENT,t);return!0}const vb=-62135596800,xb=1e6;class zt{static now(){return zt.fromMillis(Date.now())}static fromDate(e){return zt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*xb);return new zt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ce(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ce(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<vb)throw new Ce(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ce(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xb}_compareTo(e){return this.seconds===e.seconds?at(this.nanoseconds,e.nanoseconds):at(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:zt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(gh(e,zt._jsonSchema))return new zt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-vb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}zt._jsonSchemaVersion="firestore/timestamp/1.0",zt._jsonSchema={type:yn("string",zt._jsonSchemaVersion),seconds:yn("number"),nanoseconds:yn("number")};class qe{static fromTimestamp(e){return new qe(e)}static min(){return new qe(new zt(0,0))}static max(){return new qe(new zt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const $u=-1;function ZP(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,l=qe.fromTimestamp(s===1e9?new zt(t+1,0):new zt(t,s));return new ao(l,ke.empty(),e)}function KP(i){return new ao(i.readTime,i.key,$u)}class ao{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new ao(qe.min(),ke.empty(),$u)}static max(){return new ao(qe.max(),ke.empty(),$u)}}function YP(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=ke.comparator(i.documentKey,e.documentKey),t!==0?t:at(i.largestBatchId,e.largestBatchId))}const QP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $P{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Lc(i){if(i.code!==he.FAILED_PRECONDITION||i.message!==QP)throw i;Re("LocalStore","Unexpectedly lost primary lease")}class me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new me(((s,l)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,l)},this.catchCallback=h=>{this.wrapFailure(t,h).next(s,l)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof me?t:me.resolve(t)}catch(t){return me.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):me.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):me.reject(t)}static resolve(e){return new me(((t,s)=>{t(e)}))}static reject(e){return new me(((t,s)=>{s(e)}))}static waitFor(e){return new me(((t,s)=>{let l=0,h=0,d=!1;e.forEach((v=>{++l,v.next((()=>{++h,d&&h===l&&t()}),(y=>s(y)))})),d=!0,h===l&&t()}))}static or(e){let t=me.resolve(!1);for(const s of e)t=t.next((l=>l?me.resolve(l):s()));return t}static forEach(e,t){const s=[];return e.forEach(((l,h)=>{s.push(t.call(this,l,h))})),this.waitFor(s)}static mapArray(e,t){return new me(((s,l)=>{const h=e.length,d=new Array(h);let v=0;for(let y=0;y<h;y++){const x=y;t(e[x]).next((S=>{d[x]=S,++v,v===h&&s(d)}),(S=>l(S)))}}))}static doWhile(e,t){return new me(((s,l)=>{const h=()=>{e()===!0?t().next((()=>{h()}),l):s()};h()}))}}function XP(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function kc(i){return i.name==="IndexedDbTransactionError"}class Pf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Pf.ce=-1;const E_=-1;function Mf(i){return i==null}function cf(i){return i===0&&1/i==-1/0}function WP(i){return typeof i=="number"&&Number.isInteger(i)&&!cf(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const sw="";function JP(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=bb(e)),e=eM(i.get(t),e);return bb(e)}function eM(i,e){let t=e;const s=i.length;for(let l=0;l<s;l++){const h=i.charAt(l);switch(h){case"\0":t+="";break;case sw:t+="";break;default:t+=h}}return t}function bb(i){return i+sw+""}function Eb(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function _o(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function aw(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Kt{constructor(e,t){this.comparator=e,this.root=t||kn.EMPTY}insert(e,t){return new Kt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,kn.BLACK,null,null))}remove(e){return new Kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return t+s.left.size;l<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Od(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Od(this.root,e,this.comparator,!1)}getReverseIterator(){return new Od(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Od(this.root,e,this.comparator,!0)}}class Od{constructor(e,t,s,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=t?s(e.key,t):1,t&&l&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kn{constructor(e,t,s,l,h){this.key=e,this.value=t,this.color=s??kn.RED,this.left=l??kn.EMPTY,this.right=h??kn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,l,h){return new kn(e??this.key,t??this.value,s??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let l=this;const h=s(e,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(e,t,s),null):h===0?l.copy(null,t,null,null,null):l.copy(null,null,null,null,l.right.insert(e,t,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return kn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,l=this;if(t(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,t),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),t(e,l.key)===0){if(l.right.isEmpty())return kn.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,t))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ue(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ue(27949);return e+(this.isRed()?0:1)}}kn.EMPTY=null,kn.RED=!0,kn.BLACK=!1;kn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue(57766)}get value(){throw Ue(16141)}get color(){throw Ue(16727)}get left(){throw Ue(29726)}get right(){throw Ue(36894)}copy(e,t,s,l,h){return this}insert(e,t,s){return new kn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class bn{constructor(e){this.comparator=e,this.data=new Kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;t(l.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new wb(this.data.getIterator())}getIteratorFrom(e){return new wb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof bn)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const l=t.getNext().key,h=s.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new bn(this.comparator);return t.data=e,t}}class wb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class qi{constructor(e){this.fields=e,e.sort(Dn.comparator)}static empty(){return new qi([])}unionWith(e){let t=new bn(Dn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new qi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return wc(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}class ow extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class jn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new ow("Invalid base64 string: "+h):h}})(e);return new jn(t)}static fromUint8Array(e){const t=(function(l){let h="";for(let d=0;d<l.length;++d)h+=String.fromCharCode(l[d]);return h})(e);return new jn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let l=0;l<t.length;l++)s[l]=t.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return at(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jn.EMPTY_BYTE_STRING=new jn("");const tM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oo(i){if(xt(!!i,39018),typeof i=="string"){let e=0;const t=tM.exec(i);if(xt(!!t,46558,{timestamp:i}),t[1]){let l=t[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ln(i.seconds),nanos:ln(i.nanos)}}function ln(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function lo(i){return typeof i=="string"?jn.fromBase64String(i):jn.fromUint8Array(i)}const lw="server_timestamp",cw="__type__",uw="__previous_value__",hw="__local_write_time__";function w_(i){return(i?.mapValue?.fields||{})[cw]?.stringValue===lw}function Of(i){const e=i.mapValue.fields[uw];return w_(e)?Of(e):e}function Xu(i){const e=oo(i.mapValue.fields[hw].timestampValue);return new zt(e.seconds,e.nanos)}class nM{constructor(e,t,s,l,h,d,v,y,x,S){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=l,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=v,this.longPollingOptions=y,this.useFetchStreams=x,this.isUsingEmulator=S}}const uf="(default)";class Wu{constructor(e,t){this.projectId=e,this.database=t||uf}static empty(){return new Wu("","")}get isDefaultDatabase(){return this.database===uf}isEqual(e){return e instanceof Wu&&e.projectId===this.projectId&&e.database===this.database}}const dw="__type__",iM="__max__",Ld={mapValue:{}},fw="__vector__",hf="value";function co(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?w_(i)?4:sM(i)?9007199254740991:rM(i)?10:11:Ue(28295,{value:i})}function ws(i,e){if(i===e)return!0;const t=co(i);if(t!==co(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Xu(i).isEqual(Xu(e));case 3:return(function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const d=oo(l.timestampValue),v=oo(h.timestampValue);return d.seconds===v.seconds&&d.nanos===v.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(l,h){return lo(l.bytesValue).isEqual(lo(h.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(l,h){return ln(l.geoPointValue.latitude)===ln(h.geoPointValue.latitude)&&ln(l.geoPointValue.longitude)===ln(h.geoPointValue.longitude)})(i,e);case 2:return(function(l,h){if("integerValue"in l&&"integerValue"in h)return ln(l.integerValue)===ln(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const d=ln(l.doubleValue),v=ln(h.doubleValue);return d===v?cf(d)===cf(v):isNaN(d)&&isNaN(v)}return!1})(i,e);case 9:return wc(i.arrayValue.values||[],e.arrayValue.values||[],ws);case 10:case 11:return(function(l,h){const d=l.mapValue.fields||{},v=h.mapValue.fields||{};if(Eb(d)!==Eb(v))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(v[y]===void 0||!ws(d[y],v[y])))return!1;return!0})(i,e);default:return Ue(52216,{left:i})}}function Ju(i,e){return(i.values||[]).find((t=>ws(t,e)))!==void 0}function Tc(i,e){if(i===e)return 0;const t=co(i),s=co(e);if(t!==s)return at(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return at(i.booleanValue,e.booleanValue);case 2:return(function(h,d){const v=ln(h.integerValue||h.doubleValue),y=ln(d.integerValue||d.doubleValue);return v<y?-1:v>y?1:v===y?0:isNaN(v)?isNaN(y)?0:-1:1})(i,e);case 3:return Tb(i.timestampValue,e.timestampValue);case 4:return Tb(Xu(i),Xu(e));case 5:return Mg(i.stringValue,e.stringValue);case 6:return(function(h,d){const v=lo(h),y=lo(d);return v.compareTo(y)})(i.bytesValue,e.bytesValue);case 7:return(function(h,d){const v=h.split("/"),y=d.split("/");for(let x=0;x<v.length&&x<y.length;x++){const S=at(v[x],y[x]);if(S!==0)return S}return at(v.length,y.length)})(i.referenceValue,e.referenceValue);case 8:return(function(h,d){const v=at(ln(h.latitude),ln(d.latitude));return v!==0?v:at(ln(h.longitude),ln(d.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return Ab(i.arrayValue,e.arrayValue);case 10:return(function(h,d){const v=h.fields||{},y=d.fields||{},x=v[hf]?.arrayValue,S=y[hf]?.arrayValue,w=at(x?.values?.length||0,S?.values?.length||0);return w!==0?w:Ab(x,S)})(i.mapValue,e.mapValue);case 11:return(function(h,d){if(h===Ld.mapValue&&d===Ld.mapValue)return 0;if(h===Ld.mapValue)return 1;if(d===Ld.mapValue)return-1;const v=h.fields||{},y=Object.keys(v),x=d.fields||{},S=Object.keys(x);y.sort(),S.sort();for(let w=0;w<y.length&&w<S.length;++w){const N=Mg(y[w],S[w]);if(N!==0)return N;const O=Tc(v[y[w]],x[S[w]]);if(O!==0)return O}return at(y.length,S.length)})(i.mapValue,e.mapValue);default:throw Ue(23264,{he:t})}}function Tb(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return at(i,e);const t=oo(i),s=oo(e),l=at(t.seconds,s.seconds);return l!==0?l:at(t.nanos,s.nanos)}function Ab(i,e){const t=i.values||[],s=e.values||[];for(let l=0;l<t.length&&l<s.length;++l){const h=Tc(t[l],s[l]);if(h)return h}return at(t.length,s.length)}function Ac(i){return Og(i)}function Og(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(t){const s=oo(t);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(t){return lo(t).toBase64()})(i.bytesValue):"referenceValue"in i?(function(t){return ke.fromName(t).toString()})(i.referenceValue):"geoPointValue"in i?(function(t){return`geo(${t.latitude},${t.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(t){let s="[",l=!0;for(const h of t.values||[])l?l=!1:s+=",",s+=Og(h);return s+"]"})(i.arrayValue):"mapValue"in i?(function(t){const s=Object.keys(t.fields||{}).sort();let l="{",h=!0;for(const d of s)h?h=!1:l+=",",l+=`${d}:${Og(t.fields[d])}`;return l+"}"})(i.mapValue):Ue(61005,{value:i})}function Kd(i){switch(co(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Of(i);return e?16+Kd(e):16;case 5:return 2*i.stringValue.length;case 6:return lo(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,h)=>l+Kd(h)),0)})(i.arrayValue);case 10:case 11:return(function(s){let l=0;return _o(s.fields,((h,d)=>{l+=h.length+Kd(d)})),l})(i.mapValue);default:throw Ue(13486,{value:i})}}function Sb(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Lg(i){return!!i&&"integerValue"in i}function T_(i){return!!i&&"arrayValue"in i}function Cb(i){return!!i&&"nullValue"in i}function Nb(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Yd(i){return!!i&&"mapValue"in i}function rM(i){return(i?.mapValue?.fields||{})[dw]?.stringValue===fw}function Uu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return _o(i.mapValue.fields,((t,s)=>e.mapValue.fields[t]=Uu(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Uu(i.arrayValue.values[t]);return e}return{...i}}function sM(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===iM}class wi{constructor(e){this.value=e}static empty(){return new wi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Yd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uu(t)}setAll(e){let t=Dn.emptyPath(),s={},l=[];e.forEach(((d,v)=>{if(!t.isImmediateParentOf(v)){const y=this.getFieldsMap(t);this.applyChanges(y,s,l),s={},l=[],t=v.popLast()}d?s[v.lastSegment()]=Uu(d):l.push(v.lastSegment())}));const h=this.getFieldsMap(t);this.applyChanges(h,s,l)}delete(e){const t=this.field(e.popLast());Yd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ws(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=t.mapValue.fields[e.get(s)];Yd(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=l),t=l}return t.mapValue.fields}applyChanges(e,t,s){_o(t,((l,h)=>e[l]=h));for(const l of s)delete e[l]}clone(){return new wi(Uu(this.value))}}function mw(i){const e=[];return _o(i.fields,((t,s)=>{const l=new Dn([t]);if(Yd(s)){const h=mw(s.mapValue).fields;if(h.length===0)e.push(l);else for(const d of h)e.push(l.child(d))}else e.push(l)})),new qi(e)}class Kn{constructor(e,t,s,l,h,d,v){this.key=e,this.documentType=t,this.version=s,this.readTime=l,this.createTime=h,this.data=d,this.documentState=v}static newInvalidDocument(e){return new Kn(e,0,qe.min(),qe.min(),qe.min(),wi.empty(),0)}static newFoundDocument(e,t,s,l){return new Kn(e,1,t,qe.min(),s,l,0)}static newNoDocument(e,t){return new Kn(e,2,t,qe.min(),qe.min(),wi.empty(),0)}static newUnknownDocument(e,t){return new Kn(e,3,t,qe.min(),qe.min(),wi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class df{constructor(e,t){this.position=e,this.inclusive=t}}function Rb(i,e,t){let s=0;for(let l=0;l<i.position.length;l++){const h=e[l],d=i.position[l];if(h.field.isKeyField()?s=ke.comparator(ke.fromName(d.referenceValue),t.key):s=Tc(d,t.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function Ib(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!ws(i.position[t],e.position[t]))return!1;return!0}class eh{constructor(e,t="asc"){this.field=e,this.dir=t}}function aM(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class pw{}class _n extends pw{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new lM(e,t,s):t==="array-contains"?new hM(e,s):t==="in"?new dM(e,s):t==="not-in"?new fM(e,s):t==="array-contains-any"?new mM(e,s):new _n(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new cM(e,s):new uM(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Tc(t,this.value)):t!==null&&co(this.value)===co(t)&&this.matchesComparison(Tc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qr extends pw{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new qr(e,t)}matches(e){return gw(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function gw(i){return i.op==="and"}function _w(i){return oM(i)&&gw(i)}function oM(i){for(const e of i.filters)if(e instanceof qr)return!1;return!0}function kg(i){if(i instanceof _n)return i.field.canonicalString()+i.op.toString()+Ac(i.value);if(_w(i))return i.filters.map((e=>kg(e))).join(",");{const e=i.filters.map((t=>kg(t))).join(",");return`${i.op}(${e})`}}function yw(i,e){return i instanceof _n?(function(s,l){return l instanceof _n&&s.op===l.op&&s.field.isEqual(l.field)&&ws(s.value,l.value)})(i,e):i instanceof qr?(function(s,l){return l instanceof qr&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((h,d,v)=>h&&yw(d,l.filters[v])),!0):!1})(i,e):void Ue(19439)}function vw(i){return i instanceof _n?(function(t){return`${t.field.canonicalString()} ${t.op} ${Ac(t.value)}`})(i):i instanceof qr?(function(t){return t.op.toString()+" {"+t.getFilters().map(vw).join(" ,")+"}"})(i):"Filter"}class lM extends _n{constructor(e,t,s){super(e,t,s),this.key=ke.fromName(s.referenceValue)}matches(e){const t=ke.comparator(e.key,this.key);return this.matchesComparison(t)}}class cM extends _n{constructor(e,t){super(e,"in",t),this.keys=xw("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class uM extends _n{constructor(e,t){super(e,"not-in",t),this.keys=xw("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function xw(i,e){return(e.arrayValue?.values||[]).map((t=>ke.fromName(t.referenceValue)))}class hM extends _n{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return T_(t)&&Ju(t.arrayValue,this.value)}}class dM extends _n{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ju(this.value.arrayValue,t)}}class fM extends _n{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ju(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ju(this.value.arrayValue,t)}}class mM extends _n{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!T_(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>Ju(this.value.arrayValue,s)))}}class pM{constructor(e,t=null,s=[],l=[],h=null,d=null,v=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=l,this.limit=h,this.startAt=d,this.endAt=v,this.Te=null}}function Pb(i,e=null,t=[],s=[],l=null,h=null,d=null){return new pM(i,e,t,s,l,h,d)}function A_(i){const e=Ge(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>kg(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(h){return h.field.canonicalString()+h.dir})(s))).join(","),Mf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>Ac(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>Ac(s))).join(",")),e.Te=t}return e.Te}function S_(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!aM(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!yw(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Ib(i.startAt,e.startAt)&&Ib(i.endAt,e.endAt)}function Dg(i){return ke.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class Dc{constructor(e,t=null,s=[],l=[],h=null,d="F",v=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=l,this.limit=h,this.limitType=d,this.startAt=v,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function gM(i,e,t,s,l,h,d,v){return new Dc(i,e,t,s,l,h,d,v)}function C_(i){return new Dc(i)}function Mb(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function bw(i){return i.collectionGroup!==null}function Bu(i){const e=Ge(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),t.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let v=new bn(Dn.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((x=>{x.isInequality()&&(v=v.add(x.field))}))})),v})(e).forEach((h=>{t.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new eh(h,s))})),t.has(Dn.keyField().canonicalString())||e.Ie.push(new eh(Dn.keyField(),s))}return e.Ie}function vs(i){const e=Ge(i);return e.Ee||(e.Ee=_M(e,Bu(i))),e.Ee}function _M(i,e){if(i.limitType==="F")return Pb(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((l=>{const h=l.dir==="desc"?"asc":"desc";return new eh(l.field,h)}));const t=i.endAt?new df(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new df(i.startAt.position,i.startAt.inclusive):null;return Pb(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function jg(i,e){const t=i.filters.concat([e]);return new Dc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function Vg(i,e,t){return new Dc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Lf(i,e){return S_(vs(i),vs(e))&&i.limitType===e.limitType}function Ew(i){return`${A_(vs(i))}|lt:${i.limitType}`}function uc(i){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((l=>vw(l))).join(", ")}]`),Mf(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((l=>Ac(l))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((l=>Ac(l))).join(",")),`Target(${s})`})(vs(i))}; limitType=${i.limitType})`}function kf(i,e){return e.isFoundDocument()&&(function(s,l){const h=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):ke.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)})(i,e)&&(function(s,l){for(const h of Bu(s))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0})(i,e)&&(function(s,l){for(const h of s.filters)if(!h.matches(l))return!1;return!0})(i,e)&&(function(s,l){return!(s.startAt&&!(function(d,v,y){const x=Rb(d,v,y);return d.inclusive?x<=0:x<0})(s.startAt,Bu(s),l)||s.endAt&&!(function(d,v,y){const x=Rb(d,v,y);return d.inclusive?x>=0:x>0})(s.endAt,Bu(s),l))})(i,e)}function yM(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function ww(i){return(e,t)=>{let s=!1;for(const l of Bu(i)){const h=vM(l,e,t);if(h!==0)return h;s=s||l.field.isKeyField()}return 0}}function vM(i,e,t){const s=i.field.isKeyField()?ke.comparator(e.key,t.key):(function(h,d,v){const y=d.data.field(h),x=v.data.field(h);return y!==null&&x!==null?Tc(y,x):Ue(42886)})(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ue(19790,{direction:i.dir})}}class gl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[l,h]of s)if(this.equalsFn(l,e))return h}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],e))return void(l[h]=[e,t]);l.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[t]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){_o(this.inner,((t,s)=>{for(const[l,h]of s)e(l,h)}))}isEmpty(){return aw(this.inner)}size(){return this.innerSize}}const xM=new Kt(ke.comparator);function aa(){return xM}const Tw=new Kt(ke.comparator);function Lu(...i){let e=Tw;for(const t of i)e=e.insert(t.key,t);return e}function Aw(i){let e=Tw;return i.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function sl(){return qu()}function Sw(){return qu()}function qu(){return new gl((i=>i.toString()),((i,e)=>i.isEqual(e)))}const bM=new Kt(ke.comparator),EM=new bn(ke.comparator);function ot(...i){let e=EM;for(const t of i)e=e.add(t);return e}const wM=new bn(at);function TM(){return wM}function N_(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cf(e)?"-0":e}}function Cw(i){return{integerValue:""+i}}function AM(i,e){return WP(e)?Cw(e):N_(i,e)}class Df{constructor(){this._=void 0}}function SM(i,e,t){return i instanceof th?(function(l,h){const d={fields:{[cw]:{stringValue:lw},[hw]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&w_(h)&&(h=Of(h)),h&&(d.fields[uw]=h),{mapValue:d}})(t,e):i instanceof nh?Rw(i,e):i instanceof ih?Iw(i,e):(function(l,h){const d=Nw(l,h),v=Ob(d)+Ob(l.Ae);return Lg(d)&&Lg(l.Ae)?Cw(v):N_(l.serializer,v)})(i,e)}function CM(i,e,t){return i instanceof nh?Rw(i,e):i instanceof ih?Iw(i,e):t}function Nw(i,e){return i instanceof ff?(function(s){return Lg(s)||(function(h){return!!h&&"doubleValue"in h})(s)})(e)?e:{integerValue:0}:null}class th extends Df{}class nh extends Df{constructor(e){super(),this.elements=e}}function Rw(i,e){const t=Pw(e);for(const s of i.elements)t.some((l=>ws(l,s)))||t.push(s);return{arrayValue:{values:t}}}class ih extends Df{constructor(e){super(),this.elements=e}}function Iw(i,e){let t=Pw(e);for(const s of i.elements)t=t.filter((l=>!ws(l,s)));return{arrayValue:{values:t}}}class ff extends Df{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Ob(i){return ln(i.integerValue||i.doubleValue)}function Pw(i){return T_(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class NM{constructor(e,t){this.field=e,this.transform=t}}function RM(i,e){return i.field.isEqual(e.field)&&(function(s,l){return s instanceof nh&&l instanceof nh||s instanceof ih&&l instanceof ih?wc(s.elements,l.elements,ws):s instanceof ff&&l instanceof ff?ws(s.Ae,l.Ae):s instanceof th&&l instanceof th})(i.transform,e.transform)}class IM{constructor(e,t){this.version=e,this.transformResults=t}}class yr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new yr}static exists(e){return new yr(void 0,e)}static updateTime(e){return new yr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qd(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class jf{}function Mw(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new R_(i.key,yr.none()):new _h(i.key,i.data,yr.none());{const t=i.data,s=wi.empty();let l=new bn(Dn.comparator);for(let h of e.fields)if(!l.has(h)){let d=t.field(h);d===null&&h.length>1&&(h=h.popLast(),d=t.field(h)),d===null?s.delete(h):s.set(h,d),l=l.add(h)}return new yo(i.key,s,new qi(l.toArray()),yr.none())}}function PM(i,e,t){i instanceof _h?(function(l,h,d){const v=l.value.clone(),y=kb(l.fieldTransforms,h,d.transformResults);v.setAll(y),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(i,e,t):i instanceof yo?(function(l,h,d){if(!Qd(l.precondition,h))return void h.convertToUnknownDocument(d.version);const v=kb(l.fieldTransforms,h,d.transformResults),y=h.data;y.setAll(Ow(l)),y.setAll(v),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(i,e,t):(function(l,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,t)}function Hu(i,e,t,s){return i instanceof _h?(function(h,d,v,y){if(!Qd(h.precondition,d))return v;const x=h.value.clone(),S=Db(h.fieldTransforms,y,d);return x.setAll(S),d.convertToFoundDocument(d.version,x).setHasLocalMutations(),null})(i,e,t,s):i instanceof yo?(function(h,d,v,y){if(!Qd(h.precondition,d))return v;const x=Db(h.fieldTransforms,y,d),S=d.data;return S.setAll(Ow(h)),S.setAll(x),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),v===null?null:v.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((w=>w.field)))})(i,e,t,s):(function(h,d,v){return Qd(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):v})(i,e,t)}function MM(i,e){let t=null;for(const s of i.fieldTransforms){const l=e.data.field(s.field),h=Nw(s.transform,l||null);h!=null&&(t===null&&(t=wi.empty()),t.set(s.field,h))}return t||null}function Lb(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&wc(s,l,((h,d)=>RM(h,d)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class _h extends jf{constructor(e,t,s,l=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class yo extends jf{constructor(e,t,s,l,h=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Ow(i){const e=new Map;return i.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}})),e}function kb(i,e,t){const s=new Map;xt(i.length===t.length,32656,{Re:t.length,Ve:i.length});for(let l=0;l<t.length;l++){const h=i[l],d=h.transform,v=e.data.field(h.field);s.set(h.field,CM(d,v,t[l]))}return s}function Db(i,e,t){const s=new Map;for(const l of i){const h=l.transform,d=t.data.field(l.field);s.set(l.field,SM(h,d,e))}return s}class R_ extends jf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OM extends jf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class LM{constructor(e,t,s,l){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(e.key)&&PM(h,e,s[l])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Hu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Hu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Sw();return this.mutations.forEach((l=>{const h=e.get(l.key),d=h.overlayedDocument;let v=this.applyToLocalView(d,h.mutatedFields);v=t.has(l.key)?null:v;const y=Mw(d,v);y!==null&&s.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(qe.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ot())}isEqual(e){return this.batchId===e.batchId&&wc(this.mutations,e.mutations,((t,s)=>Lb(t,s)))&&wc(this.baseMutations,e.baseMutations,((t,s)=>Lb(t,s)))}}class I_{constructor(e,t,s,l){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=l}static from(e,t,s){xt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let l=(function(){return bM})();const h=e.mutations;for(let d=0;d<h.length;d++)l=l.insert(h[d].key,s[d].version);return new I_(e,t,s,l)}}class kM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class DM{constructor(e,t){this.count=e,this.unchangedNames=t}}var gn,dt;function jM(i){switch(i){case he.OK:return Ue(64938);case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0;default:return Ue(15467,{code:i})}}function Lw(i){if(i===void 0)return sa("GRPC error has no .code"),he.UNKNOWN;switch(i){case gn.OK:return he.OK;case gn.CANCELLED:return he.CANCELLED;case gn.UNKNOWN:return he.UNKNOWN;case gn.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case gn.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case gn.INTERNAL:return he.INTERNAL;case gn.UNAVAILABLE:return he.UNAVAILABLE;case gn.UNAUTHENTICATED:return he.UNAUTHENTICATED;case gn.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case gn.NOT_FOUND:return he.NOT_FOUND;case gn.ALREADY_EXISTS:return he.ALREADY_EXISTS;case gn.PERMISSION_DENIED:return he.PERMISSION_DENIED;case gn.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case gn.ABORTED:return he.ABORTED;case gn.OUT_OF_RANGE:return he.OUT_OF_RANGE;case gn.UNIMPLEMENTED:return he.UNIMPLEMENTED;case gn.DATA_LOSS:return he.DATA_LOSS;default:return Ue(39323,{code:i})}}(dt=gn||(gn={}))[dt.OK=0]="OK",dt[dt.CANCELLED=1]="CANCELLED",dt[dt.UNKNOWN=2]="UNKNOWN",dt[dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dt[dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dt[dt.NOT_FOUND=5]="NOT_FOUND",dt[dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",dt[dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",dt[dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",dt[dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dt[dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dt[dt.ABORTED=10]="ABORTED",dt[dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",dt[dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",dt[dt.INTERNAL=13]="INTERNAL",dt[dt.UNAVAILABLE=14]="UNAVAILABLE",dt[dt.DATA_LOSS=15]="DATA_LOSS";function VM(){return new TextEncoder}const zM=new io([4294967295,4294967295],0);function jb(i){const e=VM().encode(i),t=new Q1;return t.update(e),new Uint8Array(t.digest())}function Vb(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new io([t,s],0),new io([l,h],0)]}class P_{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new ku(`Invalid padding: ${t}`);if(s<0)throw new ku(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ku(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new ku(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=io.fromNumber(this.ge)}ye(e,t,s){let l=e.add(t.multiply(io.fromNumber(s)));return l.compare(zM)===1&&(l=new io([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=jb(e),[s,l]=Vb(t);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,l,h);if(!this.we(d))return!1}return!0}static create(e,t,s){const l=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new P_(h,l,t);return s.forEach((v=>d.insert(v))),d}insert(e){if(this.ge===0)return;const t=jb(e),[s,l]=Vb(t);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,l,h);this.Se(d)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class ku extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Vf{constructor(e,t,s,l,h){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const l=new Map;return l.set(e,yh.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Vf(qe.min(),l,new Kt(at),aa(),ot())}}class yh{constructor(e,t,s,l,h){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new yh(s,t,ot(),ot(),ot())}}class $d{constructor(e,t,s,l){this.be=e,this.removedTargetIds=t,this.key=s,this.De=l}}class kw{constructor(e,t){this.targetId=e,this.Ce=t}}class Dw{constructor(e,t,s=jn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=l}}class zb{constructor(){this.ve=0,this.Fe=Ub(),this.Me=jn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ot(),t=ot(),s=ot();return this.Fe.forEach(((l,h)=>{switch(h){case 0:e=e.add(l);break;case 2:t=t.add(l);break;case 1:s=s.add(l);break;default:Ue(38017,{changeType:h})}})),new yh(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=Ub()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,xt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class UM{constructor(e){this.Ge=e,this.ze=new Map,this.je=aa(),this.Je=kd(),this.He=kd(),this.Ye=new Kt(at)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Ue(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,l)=>{this.rt(l)&&t(l)}))}st(e){const t=e.targetId,s=e.Ce.count,l=this.ot(t);if(l){const h=l.target;if(Dg(h))if(s===0){const d=new ke(h.path);this.et(t,d,Kn.newNoDocument(d,qe.min()))}else xt(s===1,20013,{expectedCount:s});else{const d=this._t(t);if(d!==s){const v=this.ut(e),y=v?this.ct(v,e,d):1;if(y!==0){this.it(t);const x=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,x)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:h=0}=t;let d,v;try{d=lo(s).toUint8Array()}catch(y){if(y instanceof ow)return Ec("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{v=new P_(d,l,h)}catch(y){return Ec(y instanceof ku?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return v.ge===0?null:v}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let l=0;return s.forEach((h=>{const d=this.Ge.ht(),v=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(v)||(this.et(t,h,null),l++)})),l}Tt(e){const t=new Map;this.ze.forEach(((h,d)=>{const v=this.ot(d);if(v){if(h.current&&Dg(v.target)){const y=new ke(v.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Kn.newNoDocument(y,e))}h.Be&&(t.set(d,h.ke()),h.qe())}}));let s=ot();this.He.forEach(((h,d)=>{let v=!0;d.forEachWhile((y=>{const x=this.ot(y);return!x||x.purpose==="TargetPurposeLimboResolution"||(v=!1,!1)})),v&&(s=s.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const l=new Vf(e,t,this.Ye,this.je,s);return this.je=aa(),this.Je=kd(),this.He=kd(),this.Ye=new Kt(at),l}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,t)?l.Qe(t,1):l.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new zb,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new bn(at),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new bn(at),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Re("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new zb),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function kd(){return new Kt(ke.comparator)}function Ub(){return new Kt(ke.comparator)}const BM={asc:"ASCENDING",desc:"DESCENDING"},qM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HM={and:"AND",or:"OR"};class FM{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function zg(i,e){return i.useProto3Json||Mf(e)?e:{value:e}}function mf(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jw(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function GM(i,e){return mf(i,e.toTimestamp())}function xs(i){return xt(!!i,49232),qe.fromTimestamp((function(t){const s=oo(t);return new zt(s.seconds,s.nanos)})(i))}function M_(i,e){return Ug(i,e).canonicalString()}function Ug(i,e){const t=(function(l){return new Lt(["projects",l.projectId,"databases",l.database])})(i).child("documents");return e===void 0?t:t.child(e)}function Vw(i){const e=Lt.fromString(i);return xt(Hw(e),10190,{key:e.toString()}),e}function Bg(i,e){return M_(i.databaseId,e.path)}function ag(i,e){const t=Vw(e);if(t.get(1)!==i.databaseId.projectId)throw new Ce(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new Ce(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new ke(Uw(t))}function zw(i,e){return M_(i.databaseId,e)}function ZM(i){const e=Vw(i);return e.length===4?Lt.emptyPath():Uw(e)}function qg(i){return new Lt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Uw(i){return xt(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function Bb(i,e,t){return{name:Bg(i,e),fields:t.value.mapValue.fields}}function KM(i,e){let t;if("targetChange"in e){e.targetChange;const s=(function(x){return x==="NO_CHANGE"?0:x==="ADD"?1:x==="REMOVE"?2:x==="CURRENT"?3:x==="RESET"?4:Ue(39313,{state:x})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],h=(function(x,S){return x.useProto3Json?(xt(S===void 0||typeof S=="string",58123),jn.fromBase64String(S||"")):(xt(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),jn.fromUint8Array(S||new Uint8Array))})(i,e.targetChange.resumeToken),d=e.targetChange.cause,v=d&&(function(x){const S=x.code===void 0?he.UNKNOWN:Lw(x.code);return new Ce(S,x.message||"")})(d);t=new Dw(s,l,h,v||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=ag(i,s.document.name),h=xs(s.document.updateTime),d=s.document.createTime?xs(s.document.createTime):qe.min(),v=new wi({mapValue:{fields:s.document.fields}}),y=Kn.newFoundDocument(l,h,d,v),x=s.targetIds||[],S=s.removedTargetIds||[];t=new $d(x,S,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=ag(i,s.document),h=s.readTime?xs(s.readTime):qe.min(),d=Kn.newNoDocument(l,h),v=s.removedTargetIds||[];t=new $d([],v,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=ag(i,s.document),h=s.removedTargetIds||[];t=new $d([],h,l,null)}else{if(!("filter"in e))return Ue(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:h}=s,d=new DM(l,h),v=s.targetId;t=new kw(v,d)}}return t}function YM(i,e){let t;if(e instanceof _h)t={update:Bb(i,e.key,e.value)};else if(e instanceof R_)t={delete:Bg(i,e.key)};else if(e instanceof yo)t={update:Bb(i,e.key,e.data),updateMask:iO(e.fieldMask)};else{if(!(e instanceof OM))return Ue(16599,{Vt:e.type});t={verify:Bg(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(h,d){const v=d.transform;if(v instanceof th)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(v instanceof nh)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:v.elements}};if(v instanceof ih)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:v.elements}};if(v instanceof ff)return{fieldPath:d.field.canonicalString(),increment:v.Ae};throw Ue(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(l,h){return h.updateTime!==void 0?{updateTime:GM(l,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:Ue(27497)})(i,e.precondition)),t}function QM(i,e){return i&&i.length>0?(xt(e!==void 0,14353),i.map((t=>(function(l,h){let d=l.updateTime?xs(l.updateTime):xs(h);return d.isEqual(qe.min())&&(d=xs(h)),new IM(d,l.transformResults||[])})(t,e)))):[]}function $M(i,e){return{documents:[zw(i,e.path)]}}function XM(i,e){const t={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=zw(i,l);const h=(function(x){if(x.length!==0)return qw(qr.create(x,"and"))})(e.filters);h&&(t.structuredQuery.where=h);const d=(function(x){if(x.length!==0)return x.map((S=>(function(N){return{field:hc(N.field),direction:eO(N.dir)}})(S)))})(e.orderBy);d&&(t.structuredQuery.orderBy=d);const v=zg(i,e.limit);return v!==null&&(t.structuredQuery.limit=v),e.startAt&&(t.structuredQuery.startAt=(function(x){return{before:x.inclusive,values:x.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(x){return{before:!x.inclusive,values:x.position}})(e.endAt)),{ft:t,parent:l}}function WM(i){let e=ZM(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let l=null;if(s>0){xt(s===1,65062);const S=t.from[0];S.allDescendants?l=S.collectionId:e=e.child(S.collectionId)}let h=[];t.where&&(h=(function(w){const N=Bw(w);return N instanceof qr&&_w(N)?N.getFilters():[N]})(t.where));let d=[];t.orderBy&&(d=(function(w){return w.map((N=>(function(K){return new eh(dc(K.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(K.direction))})(N)))})(t.orderBy));let v=null;t.limit&&(v=(function(w){let N;return N=typeof w=="object"?w.value:w,Mf(N)?null:N})(t.limit));let y=null;t.startAt&&(y=(function(w){const N=!!w.before,O=w.values||[];return new df(O,N)})(t.startAt));let x=null;return t.endAt&&(x=(function(w){const N=!w.before,O=w.values||[];return new df(O,N)})(t.endAt)),gM(e,l,d,h,v,"F",y,x)}function JM(i,e){const t=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue(28987,{purpose:l})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Bw(i){return i.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=dc(t.unaryFilter.field);return _n.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=dc(t.unaryFilter.field);return _n.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=dc(t.unaryFilter.field);return _n.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=dc(t.unaryFilter.field);return _n.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ue(61313);default:return Ue(60726)}})(i):i.fieldFilter!==void 0?(function(t){return _n.create(dc(t.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ue(58110);default:return Ue(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(t){return qr.create(t.compositeFilter.filters.map((s=>Bw(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ue(1026)}})(t.compositeFilter.op))})(i):Ue(30097,{filter:i})}function eO(i){return BM[i]}function tO(i){return qM[i]}function nO(i){return HM[i]}function hc(i){return{fieldPath:i.canonicalString()}}function dc(i){return Dn.fromServerFormat(i.fieldPath)}function qw(i){return i instanceof _n?(function(t){if(t.op==="=="){if(Nb(t.value))return{unaryFilter:{field:hc(t.field),op:"IS_NAN"}};if(Cb(t.value))return{unaryFilter:{field:hc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Nb(t.value))return{unaryFilter:{field:hc(t.field),op:"IS_NOT_NAN"}};if(Cb(t.value))return{unaryFilter:{field:hc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hc(t.field),op:tO(t.op),value:t.value}}})(i):i instanceof qr?(function(t){const s=t.getFilters().map((l=>qw(l)));return s.length===1?s[0]:{compositeFilter:{op:nO(t.op),filters:s}}})(i):Ue(54877,{filter:i})}function iO(i){const e=[];return i.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Hw(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class Ja{constructor(e,t,s,l,h=qe.min(),d=qe.min(),v=jn.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=v,this.expectedCount=y}withSequenceNumber(e){return new Ja(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class rO{constructor(e){this.yt=e}}function sO(i){const e=WM({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Vg(e,e.limit,"L"):e}class aO{constructor(){this.Cn=new oO}addToCollectionParentIndex(e,t){return this.Cn.add(t),me.resolve()}getCollectionParents(e,t){return me.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return me.resolve()}deleteFieldIndex(e,t){return me.resolve()}deleteAllFieldIndexes(e){return me.resolve()}createTargetIndexes(e,t){return me.resolve()}getDocumentsMatchingTarget(e,t){return me.resolve(null)}getIndexType(e,t){return me.resolve(0)}getFieldIndexes(e,t){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}getMinOffset(e,t){return me.resolve(ao.min())}getMinOffsetFromCollectionGroup(e,t){return me.resolve(ao.min())}updateCollectionGroup(e,t,s){return me.resolve()}updateIndexEntries(e,t){return me.resolve()}}class oO{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),l=this.index[t]||new bn(Lt.comparator),h=!l.has(s);return this.index[t]=l.add(s),h}has(e){const t=e.lastSegment(),s=e.popLast(),l=this.index[t];return l&&l.has(s)}getEntries(e){return(this.index[e]||new bn(Lt.comparator)).toArray()}}const qb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Fw=41943040;class Ei{static withCacheSize(e){return new Ei(e,Ei.DEFAULT_COLLECTION_PERCENTILE,Ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}Ei.DEFAULT_COLLECTION_PERCENTILE=10,Ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ei.DEFAULT=new Ei(Fw,Ei.DEFAULT_COLLECTION_PERCENTILE,Ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ei.DISABLED=new Ei(-1,0,0);class Sc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Sc(0)}static cr(){return new Sc(-1)}}const Hb="LruGarbageCollector",lO=1048576;function Fb([i,e],[t,s]){const l=at(i,t);return l===0?at(e,s):l}class cO{constructor(e){this.Ir=e,this.buffer=new bn(Fb),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Fb(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class uO{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Re(Hb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){kc(t)?Re(Hb,"Ignoring IndexedDB error during garbage collection: ",t):await Lc(t)}await this.Vr(3e5)}))}}class hO{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return me.resolve(Pf.ce);const s=new cO(t);return this.mr.forEachTarget(e,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Re("LruGarbageCollector","Garbage collection skipped; disabled"),me.resolve(qb)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qb):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,l,h,d,v,y,x;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(Re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(e,l)))).next((w=>(s=w,v=Date.now(),this.removeTargets(e,s,t)))).next((w=>(h=w,y=Date.now(),this.removeOrphanedDocuments(e,s)))).next((w=>(x=Date.now(),cc()<=st.DEBUG&&Re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${l} in `+(v-d)+`ms
	Removed ${h} targets in `+(y-v)+`ms
	Removed ${w} documents in `+(x-y)+`ms
Total Duration: ${x-S}ms`),me.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:w}))))}}function dO(i,e){return new hO(i,e)}class fO{constructor(){this.changes=new gl((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Kn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?me.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class mO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class pO{constructor(e,t,s,l){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((l=>(s=l,this.remoteDocumentCache.getEntry(e,t)))).next((l=>(s!==null&&Hu(s.mutation,l,qi.empty(),zt.now()),l)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,ot()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=ot()){const l=sl();return this.populateOverlays(e,l,t).next((()=>this.computeViews(e,t,l,s).next((h=>{let d=Lu();return h.forEach(((v,y)=>{d=d.insert(v,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,t){const s=sl();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,ot())))}populateOverlays(e,t,s){const l=[];return s.forEach((h=>{t.has(h)||l.push(h)})),this.documentOverlayCache.getOverlays(e,l).next((h=>{h.forEach(((d,v)=>{t.set(d,v)}))}))}computeViews(e,t,s,l){let h=aa();const d=qu(),v=(function(){return qu()})();return t.forEach(((y,x)=>{const S=s.get(x.key);l.has(x.key)&&(S===void 0||S.mutation instanceof yo)?h=h.insert(x.key,x):S!==void 0?(d.set(x.key,S.mutation.getFieldMask()),Hu(S.mutation,x,S.mutation.getFieldMask(),zt.now())):d.set(x.key,qi.empty())})),this.recalculateAndSaveOverlays(e,h).next((y=>(y.forEach(((x,S)=>d.set(x,S))),t.forEach(((x,S)=>v.set(x,new mO(S,d.get(x)??null)))),v)))}recalculateAndSaveOverlays(e,t){const s=qu();let l=new Kt(((d,v)=>d-v)),h=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((d=>{for(const v of d)v.keys().forEach((y=>{const x=t.get(y);if(x===null)return;let S=s.get(y)||qi.empty();S=v.applyToLocalView(x,S),s.set(y,S);const w=(l.get(v.batchId)||ot()).add(y);l=l.insert(v.batchId,w)}))})).next((()=>{const d=[],v=l.getReverseIterator();for(;v.hasNext();){const y=v.getNext(),x=y.key,S=y.value,w=Sw();S.forEach((N=>{if(!h.has(N)){const O=Mw(t.get(N),s.get(N));O!==null&&w.set(N,O),h=h.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(e,x,w))}return me.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,l){return(function(d){return ke.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):bw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,l):this.getDocumentsMatchingCollectionQuery(e,t,s,l)}getNextDocuments(e,t,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,l).next((h=>{const d=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,l-h.size):me.resolve(sl());let v=$u,y=h;return d.next((x=>me.forEach(x,((S,w)=>(v<w.largestBatchId&&(v=w.largestBatchId),h.get(S)?me.resolve():this.remoteDocumentCache.getEntry(e,S).next((N=>{y=y.insert(S,N)}))))).next((()=>this.populateOverlays(e,x,h))).next((()=>this.computeViews(e,y,x,ot()))).next((S=>({batchId:v,changes:Aw(S)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ke(t)).next((s=>{let l=Lu();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,l){const h=t.collectionGroup;let d=Lu();return this.indexManager.getCollectionParents(e,h).next((v=>me.forEach(v,(y=>{const x=(function(w,N){return new Dc(N,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(t,y.child(h));return this.getDocumentsMatchingCollectionQuery(e,x,s,l).next((S=>{S.forEach(((w,N)=>{d=d.insert(w,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,t,s,l){let h;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,h,l)))).next((d=>{h.forEach(((y,x)=>{const S=x.getKey();d.get(S)===null&&(d=d.insert(S,Kn.newInvalidDocument(S)))}));let v=Lu();return d.forEach(((y,x)=>{const S=h.get(y);S!==void 0&&Hu(S.mutation,x,qi.empty(),zt.now()),kf(t,x)&&(v=v.insert(y,x))})),v}))}}class gO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return me.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(l){return{id:l.id,version:l.version,createTime:xs(l.createTime)}})(t)),me.resolve()}getNamedQuery(e,t){return me.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(l){return{name:l.name,query:sO(l.bundledQuery),readTime:xs(l.readTime)}})(t)),me.resolve()}}class _O{constructor(){this.overlays=new Kt(ke.comparator),this.qr=new Map}getOverlay(e,t){return me.resolve(this.overlays.get(t))}getOverlays(e,t){const s=sl();return me.forEach(t,(l=>this.getOverlay(e,l).next((h=>{h!==null&&s.set(l,h)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((l,h)=>{this.St(e,t,h)})),me.resolve()}removeOverlaysForBatchId(e,t,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(s)),me.resolve()}getOverlaysForCollection(e,t,s){const l=sl(),h=t.length+1,d=new ke(t.child("")),v=this.overlays.getIteratorFrom(d);for(;v.hasNext();){const y=v.getNext().value,x=y.getKey();if(!t.isPrefixOf(x.path))break;x.path.length===h&&y.largestBatchId>s&&l.set(y.getKey(),y)}return me.resolve(l)}getOverlaysForCollectionGroup(e,t,s,l){let h=new Kt(((x,S)=>x-S));const d=this.overlays.getIterator();for(;d.hasNext();){const x=d.getNext().value;if(x.getKey().getCollectionGroup()===t&&x.largestBatchId>s){let S=h.get(x.largestBatchId);S===null&&(S=sl(),h=h.insert(x.largestBatchId,S)),S.set(x.getKey(),x)}}const v=sl(),y=h.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((x,S)=>v.set(x,S))),!(v.size()>=l)););return me.resolve(v)}St(e,t,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new kM(t,s));let h=this.qr.get(t);h===void 0&&(h=ot(),this.qr.set(t,h)),this.qr.set(t,h.add(s.key))}}class yO{constructor(){this.sessionToken=jn.EMPTY_BYTE_STRING}getSessionToken(e){return me.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,me.resolve()}}class O_{constructor(){this.Qr=new bn(In.$r),this.Ur=new bn(In.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new In(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new In(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new ke(new Lt([])),s=new In(t,e),l=new In(t,e+1),h=[];return this.Ur.forEachInRange([s,l],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ke(new Lt([])),s=new In(t,e),l=new In(t,e+1);let h=ot();return this.Ur.forEachInRange([s,l],(d=>{h=h.add(d.key)})),h}containsKey(e){const t=new In(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class In{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ke.comparator(e.key,t.key)||at(e.Yr,t.Yr)}static Kr(e,t){return at(e.Yr,t.Yr)||ke.comparator(e.key,t.key)}}class vO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new bn(In.$r)}checkEmpty(e){return me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,l){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new LM(h,t,s,l);this.mutationQueue.push(d);for(const v of l)this.Zr=this.Zr.add(new In(v.key,h)),this.indexManager.addToCollectionParentIndex(e,v.key.path.popLast());return me.resolve(d)}lookupMutationBatch(e,t){return me.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,l=this.ei(s),h=l<0?0:l;return me.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(this.mutationQueue.length===0?E_:this.tr-1)}getAllMutationBatches(e){return me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new In(t,0),l=new In(t,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([s,l],(d=>{const v=this.Xr(d.Yr);h.push(v)})),me.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new bn(at);return t.forEach((l=>{const h=new In(l,0),d=new In(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(v=>{s=s.add(v.Yr)}))})),me.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,l=s.length+1;let h=s;ke.isDocumentKey(h)||(h=h.child(""));const d=new In(new ke(h),0);let v=new bn(at);return this.Zr.forEachWhile((y=>{const x=y.key.path;return!!s.isPrefixOf(x)&&(x.length===l&&(v=v.add(y.Yr)),!0)}),d),me.resolve(this.ti(v))}ti(e){const t=[];return e.forEach((s=>{const l=this.Xr(s);l!==null&&t.push(l)})),t}removeMutationBatch(e,t){xt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return me.forEach(t.mutations,(l=>{const h=new In(l.key,t.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new In(t,0),l=this.Zr.firstAfterOrEqual(s);return me.resolve(t.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,me.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class xO{constructor(e){this.ri=e,this.docs=(function(){return new Kt(ke.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,l=this.docs.get(s),h=l?l.size:0,d=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return me.resolve(s?s.document.mutableCopy():Kn.newInvalidDocument(t))}getEntries(e,t){let s=aa();return t.forEach((l=>{const h=this.docs.get(l);s=s.insert(l,h?h.document.mutableCopy():Kn.newInvalidDocument(l))})),me.resolve(s)}getDocumentsMatchingQuery(e,t,s,l){let h=aa();const d=t.path,v=new ke(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(v);for(;y.hasNext();){const{key:x,value:{document:S}}=y.getNext();if(!d.isPrefixOf(x.path))break;x.path.length>d.length+1||YP(KP(S),s)<=0||(l.has(S.key)||kf(t,S))&&(h=h.insert(S.key,S.mutableCopy()))}return me.resolve(h)}getAllFromCollectionGroup(e,t,s,l){Ue(9500)}ii(e,t){return me.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new bO(this)}getSize(e){return me.resolve(this.size)}}class bO extends fO{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?t.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(s)})),me.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class EO{constructor(e){this.persistence=e,this.si=new gl((t=>A_(t)),S_),this.lastRemoteSnapshotVersion=qe.min(),this.highestTargetId=0,this.oi=0,this._i=new O_,this.targetCount=0,this.ai=Sc.ur()}forEachTarget(e,t){return this.si.forEach(((s,l)=>t(l))),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),me.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Sc(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,me.resolve()}updateTargetData(e,t){return this.Pr(t),me.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,t,s){let l=0;const h=[];return this.si.forEach(((d,v)=>{v.sequenceNumber<=t&&s.get(v.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,v.targetId)),l++)})),me.waitFor(h).next((()=>l))}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return me.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),me.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const l=this.persistence.referenceDelegate,h=[];return l&&t.forEach((d=>{h.push(l.markPotentiallyOrphaned(e,d))})),me.waitFor(h)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),me.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return me.resolve(s)}containsKey(e,t){return me.resolve(this._i.containsKey(t))}}class Gw{constructor(e,t){this.ui={},this.overlays={},this.ci=new Pf(0),this.li=!1,this.li=!0,this.hi=new yO,this.referenceDelegate=e(this),this.Pi=new EO(this),this.indexManager=new aO,this.remoteDocumentCache=(function(l){return new xO(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new rO(t),this.Ii=new gO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new _O,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new vO(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){Re("MemoryPersistence","Starting transaction:",e);const l=new wO(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((h=>this.referenceDelegate.di(l).next((()=>h)))).toPromise().then((h=>(l.raiseOnCommittedEvent(),h)))}Ai(e,t){return me.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class wO extends $P{constructor(e){super(),this.currentSequenceNumber=e}}class L_{constructor(e){this.persistence=e,this.Ri=new O_,this.Vi=null}static mi(e){return new L_(e)}get fi(){if(this.Vi)return this.Vi;throw Ue(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),me.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),me.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),me.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((l=>{l.forEach((h=>this.fi.add(h.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.fi,(s=>{const l=ke.fromPath(s);return this.gi(e,l).next((h=>{h||t.removeEntry(l,qe.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return me.or([()=>me.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class pf{constructor(e,t){this.persistence=e,this.pi=new gl((s=>JP(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=dO(this,t)}static mi(e,t){return new pf(e,t)}Ei(){}di(e){return me.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((l=>s+l))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return me.forEach(this.pi,((s,l)=>this.br(e,s,l).next((h=>h?me.resolve():t(l)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,t).next((v=>{v||(s++,h.removeEntry(d,qe.min()))})))).next((()=>h.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),me.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),me.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),me.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),me.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Kd(e.data.value)),t}br(e,t,s){return me.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const l=this.pi.get(t);return me.resolve(l!==void 0&&l>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class k_{constructor(e,t,s,l){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=l}static As(e,t){let s=ot(),l=ot();for(const h of t.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new k_(e,t.fromCache,s,l)}}class TO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class AO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return tN()?8:XP(Yn())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,l){const h={result:null};return this.ys(e,t).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(e,t,l,s).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new TO;return this.Ss(e,t,d).next((v=>{if(h.result=v,this.Vs)return this.bs(e,t,d,v.size)}))})).next((()=>h.result))}bs(e,t,s,l){return s.documentReadCount<this.fs?(cc()<=st.DEBUG&&Re("QueryEngine","SDK will not create cache indexes for query:",uc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),me.resolve()):(cc()<=st.DEBUG&&Re("QueryEngine","Query:",uc(t),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(cc()<=st.DEBUG&&Re("QueryEngine","The SDK decides to create cache indexes for query:",uc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vs(t))):me.resolve())}ys(e,t){if(Mb(t))return me.resolve(null);let s=vs(t);return this.indexManager.getIndexType(e,s).next((l=>l===0?null:(t.limit!==null&&l===1&&(t=Vg(t,null,"F"),s=vs(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((h=>{const d=ot(...h);return this.ps.getDocuments(e,d).next((v=>this.indexManager.getMinOffset(e,s).next((y=>{const x=this.Ds(t,v);return this.Cs(t,x,d,y.readTime)?this.ys(e,Vg(t,null,"F")):this.vs(e,x,t,y)}))))})))))}ws(e,t,s,l){return Mb(t)||l.isEqual(qe.min())?me.resolve(null):this.ps.getDocuments(e,s).next((h=>{const d=this.Ds(t,h);return this.Cs(t,d,s,l)?me.resolve(null):(cc()<=st.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),uc(t)),this.vs(e,d,t,ZP(l,$u)).next((v=>v)))}))}Ds(e,t){let s=new bn(ww(e));return t.forEach(((l,h)=>{kf(e,h)&&(s=s.add(h))})),s}Cs(e,t,s,l){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const h=e.limitType==="F"?t.last():t.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}Ss(e,t,s){return cc()<=st.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",uc(t)),this.ps.getDocumentsMatchingQuery(e,t,ao.min(),s)}vs(e,t,s,l){return this.ps.getDocumentsMatchingQuery(e,s,l).next((h=>(t.forEach((d=>{h=h.insert(d.key,d)})),h)))}}const D_="LocalStore",SO=3e8;class CO{constructor(e,t,s,l){this.persistence=e,this.Fs=t,this.serializer=l,this.Ms=new Kt(at),this.xs=new gl((h=>A_(h)),S_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function NO(i,e,t,s){return new CO(i,e,t,s)}async function Zw(i,e){const t=Ge(i);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return t.mutationQueue.getAllMutationBatches(s).next((h=>(l=h,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((h=>{const d=[],v=[];let y=ot();for(const x of l){d.push(x.batchId);for(const S of x.mutations)y=y.add(S.key)}for(const x of h){v.push(x.batchId);for(const S of x.mutations)y=y.add(S.key)}return t.localDocuments.getDocuments(s,y).next((x=>({Ls:x,removedBatchIds:d,addedBatchIds:v})))}))}))}function RO(i,e){const t=Ge(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=e.batch.keys(),h=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(v,y,x,S){const w=x.batch,N=w.keys();let O=me.resolve();return N.forEach((K=>{O=O.next((()=>S.getEntry(y,K))).next(($=>{const Z=x.docVersions.get(K);xt(Z!==null,48541),$.version.compareTo(Z)<0&&(w.applyToRemoteDocument($,x),$.isValidDocument()&&($.setReadTime(x.commitVersion),S.addEntry($)))}))})),O.next((()=>v.mutationQueue.removeMutationBatch(y,w)))})(t,s,e,h).next((()=>h.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(v){let y=ot();for(let x=0;x<v.mutationResults.length;++x)v.mutationResults[x].transformResults.length>0&&(y=y.add(v.batch.mutations[x].key));return y})(e)))).next((()=>t.localDocuments.getDocuments(s,l)))}))}function Kw(i){const e=Ge(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function IO(i,e){const t=Ge(i),s=e.snapshotVersion;let l=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=t.Ns.newChangeBuffer({trackRemovals:!0});l=t.Ms;const v=[];e.targetChanges.forEach(((S,w)=>{const N=l.get(w);if(!N)return;v.push(t.Pi.removeMatchingKeys(h,S.removedDocuments,w).next((()=>t.Pi.addMatchingKeys(h,S.addedDocuments,w))));let O=N.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(w)!==null?O=O.withResumeToken(jn.EMPTY_BYTE_STRING,qe.min()).withLastLimboFreeSnapshotVersion(qe.min()):S.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(S.resumeToken,s)),l=l.insert(w,O),(function($,Z,ce){return $.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=SO?!0:ce.addedDocuments.size+ce.modifiedDocuments.size+ce.removedDocuments.size>0})(N,O,S)&&v.push(t.Pi.updateTargetData(h,O))}));let y=aa(),x=ot();if(e.documentUpdates.forEach((S=>{e.resolvedLimboDocuments.has(S)&&v.push(t.persistence.referenceDelegate.updateLimboDocument(h,S))})),v.push(PO(h,d,e.documentUpdates).next((S=>{y=S.ks,x=S.qs}))),!s.isEqual(qe.min())){const S=t.Pi.getLastRemoteSnapshotVersion(h).next((w=>t.Pi.setTargetsMetadata(h,h.currentSequenceNumber,s)));v.push(S)}return me.waitFor(v).next((()=>d.apply(h))).next((()=>t.localDocuments.getLocalViewOfDocuments(h,y,x))).next((()=>y))})).then((h=>(t.Ms=l,h)))}function PO(i,e,t){let s=ot(),l=ot();return t.forEach((h=>s=s.add(h))),e.getEntries(i,s).next((h=>{let d=aa();return t.forEach(((v,y)=>{const x=h.get(v);y.isFoundDocument()!==x.isFoundDocument()&&(l=l.add(v)),y.isNoDocument()&&y.version.isEqual(qe.min())?(e.removeEntry(v,y.readTime),d=d.insert(v,y)):!x.isValidDocument()||y.version.compareTo(x.version)>0||y.version.compareTo(x.version)===0&&x.hasPendingWrites?(e.addEntry(y),d=d.insert(v,y)):Re(D_,"Ignoring outdated watch update for ",v,". Current version:",x.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function MO(i,e){const t=Ge(i);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=E_),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function OO(i,e){const t=Ge(i);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return t.Pi.getTargetData(s,e).next((h=>h?(l=h,me.resolve(l)):t.Pi.allocateTargetId(s).next((d=>(l=new Ja(e,d,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=t.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function Hg(i,e,t){const s=Ge(i),l=s.Ms.get(e),h=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",h,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!kc(d))throw d;Re(D_,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(l.target)}function Gb(i,e,t){const s=Ge(i);let l=qe.min(),h=ot();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,x,S){const w=Ge(y),N=w.xs.get(S);return N!==void 0?me.resolve(w.Ms.get(N)):w.Pi.getTargetData(x,S)})(s,d,vs(e)).next((v=>{if(v)return l=v.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,v.targetId).next((y=>{h=y}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,t?l:qe.min(),t?h:ot()))).next((v=>(LO(s,yM(e),v),{documents:v,Qs:h})))))}function LO(i,e,t){let s=i.Os.get(e)||qe.min();t.forEach(((l,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)})),i.Os.set(e,s)}class Zb{constructor(){this.activeTargetIds=TM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kO{constructor(){this.Mo=new Zb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Zb,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class DO{Oo(e){}shutdown(){}}const Kb="ConnectivityMonitor";class Yb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Re(Kb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Re(Kb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Dd=null;function Fg(){return Dd===null?Dd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Dd++,"0x"+Dd.toString(16)}const og="RestConnection",jO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class VO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===uf?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(e,t,s,l,h){const d=Fg(),v=this.zo(e,t.toUriEncodedString());Re(og,`Sending RPC '${e}' ${d}:`,v,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,h);const{host:x}=new URL(v),S=po(x);return this.Jo(e,v,y,s,S).then((w=>(Re(og,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw Ec(og,`RPC '${e}' ${d} failed with error: `,w,"url: ",v,"request:",s),w}))}Ho(e,t,s,l,h,d){return this.Go(e,t,s,l,h)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Oc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((l,h)=>e[h]=l)),s&&s.headers.forEach(((l,h)=>e[h]=l))}zo(e,t){const s=jO[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}class zO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Gn="WebChannelConnection";class UO extends VO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,l,h){const d=Fg();return new Promise(((v,y)=>{const x=new $1;x.setWithCredentials(!0),x.listenOnce(X1.COMPLETE,(()=>{try{switch(x.getLastErrorCode()){case Zd.NO_ERROR:const w=x.getResponseJson();Re(Gn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),v(w);break;case Zd.TIMEOUT:Re(Gn,`RPC '${e}' ${d} timed out`),y(new Ce(he.DEADLINE_EXCEEDED,"Request time out"));break;case Zd.HTTP_ERROR:const N=x.getStatus();if(Re(Gn,`RPC '${e}' ${d} failed with status:`,N,"response text:",x.getResponseText()),N>0){let O=x.getResponseJson();Array.isArray(O)&&(O=O[0]);const K=O?.error;if(K&&K.status&&K.message){const $=(function(ce){const pe=ce.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(pe)>=0?pe:he.UNKNOWN})(K.status);y(new Ce($,K.message))}else y(new Ce(he.UNKNOWN,"Server responded with status "+x.getStatus()))}else y(new Ce(he.UNAVAILABLE,"Connection failed."));break;default:Ue(9055,{l_:e,streamId:d,h_:x.getLastErrorCode(),P_:x.getLastError()})}}finally{Re(Gn,`RPC '${e}' ${d} completed.`)}}));const S=JSON.stringify(l);Re(Gn,`RPC '${e}' ${d} sending request:`,l),x.send(t,"POST",S,s,15)}))}T_(e,t,s){const l=Fg(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=ew(),v=J1(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},x=this.longPollingOptions.timeoutSeconds;x!==void 0&&(y.longPollingTimeout=Math.round(1e3*x)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,t,s),y.encodeInitMessageHeaders=!0;const S=h.join("");Re(Gn,`Creating RPC '${e}' stream ${l}: ${S}`,y);const w=d.createWebChannel(S,y);this.I_(w);let N=!1,O=!1;const K=new zO({Yo:Z=>{O?Re(Gn,`Not sending because RPC '${e}' stream ${l} is closed:`,Z):(N||(Re(Gn,`Opening RPC '${e}' stream ${l} transport.`),w.open(),N=!0),Re(Gn,`RPC '${e}' stream ${l} sending:`,Z),w.send(Z))},Zo:()=>w.close()}),$=(Z,ce,pe)=>{Z.listen(ce,(J=>{try{pe(J)}catch(X){setTimeout((()=>{throw X}),0)}}))};return $(w,Ou.EventType.OPEN,(()=>{O||(Re(Gn,`RPC '${e}' stream ${l} transport opened.`),K.o_())})),$(w,Ou.EventType.CLOSE,(()=>{O||(O=!0,Re(Gn,`RPC '${e}' stream ${l} transport closed`),K.a_(),this.E_(w))})),$(w,Ou.EventType.ERROR,(Z=>{O||(O=!0,Ec(Gn,`RPC '${e}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),K.a_(new Ce(he.UNAVAILABLE,"The operation could not be completed")))})),$(w,Ou.EventType.MESSAGE,(Z=>{if(!O){const ce=Z.data[0];xt(!!ce,16349);const pe=ce,J=pe?.error||pe[0]?.error;if(J){Re(Gn,`RPC '${e}' stream ${l} received error:`,J);const X=J.status;let _e=(function(M){const D=gn[M];if(D!==void 0)return Lw(D)})(X),Ee=J.message;_e===void 0&&(_e=he.INTERNAL,Ee="Unknown error status: "+X+" with message "+J.message),O=!0,K.a_(new Ce(_e,Ee)),w.close()}else Re(Gn,`RPC '${e}' stream ${l} received:`,ce),K.u_(ce)}})),$(v,W1.STAT_EVENT,(Z=>{Z.stat===Pg.PROXY?Re(Gn,`RPC '${e}' stream ${l} detected buffering proxy`):Z.stat===Pg.NOPROXY&&Re(Gn,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{K.__()}),0),K}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function lg(){return typeof document<"u"?document:null}function zf(i){return new FM(i,!0)}class Yw{constructor(e,t,s=1e3,l=1.5,h=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=l,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,t-s);l>0&&Re("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Qb="PersistentStream";class Qw{constructor(e,t,s,l,h,d,v,y){this.Mi=e,this.S_=s,this.b_=l,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=v,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Yw(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===he.RESOURCE_EXHAUSTED?(sa(t.toString()),sa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===t&&this.G_(s,l)}),(s=>{e((()=>{const l=new Ce(he.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Re(Qb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(Re(Qb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class BO extends Qw{constructor(e,t,s,l,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,l,d),this.serializer=h}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=KM(this.serializer,e),s=(function(h){if(!("targetChange"in h))return qe.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?qe.min():d.readTime?xs(d.readTime):qe.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=qg(this.serializer),t.addTarget=(function(h,d){let v;const y=d.target;if(v=Dg(y)?{documents:$M(h,y)}:{query:XM(h,y).ft},v.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){v.resumeToken=jw(h,d.resumeToken);const x=zg(h,d.expectedCount);x!==null&&(v.expectedCount=x)}else if(d.snapshotVersion.compareTo(qe.min())>0){v.readTime=mf(h,d.snapshotVersion.toTimestamp());const x=zg(h,d.expectedCount);x!==null&&(v.expectedCount=x)}return v})(this.serializer,e);const s=JM(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=qg(this.serializer),t.removeTarget=e,this.q_(t)}}class qO extends Qw{constructor(e,t,s,l,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,l,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return xt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,xt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){xt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=QM(e.writeResults,e.commitTime),s=xs(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=qg(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>YM(this.serializer,s)))};this.q_(t)}}class HO{}class FO extends HO{constructor(e,t,s,l){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new Ce(he.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(e,Ug(t,s),l,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Ce(he.UNKNOWN,h.toString())}))}Ho(e,t,s,l,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,v])=>this.connection.Ho(e,Ug(t,s),l,d,v,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Ce(he.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class GO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(sa(t),this.aa=!1):Re("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const dl="RemoteStore";class ZO{constructor(e,t,s,l,h){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{_l(this)&&(Re(dl,"Restarting streams for network reachability change."),await(async function(y){const x=Ge(y);x.Ea.add(4),await vh(x),x.Ra.set("Unknown"),x.Ea.delete(4),await Uf(x)})(this))}))})),this.Ra=new GO(s,l)}}async function Uf(i){if(_l(i))for(const e of i.da)await e(!0)}async function vh(i){for(const e of i.da)await e(!1)}function $w(i,e){const t=Ge(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),U_(t)?z_(t):jc(t).O_()&&V_(t,e))}function j_(i,e){const t=Ge(i),s=jc(t);t.Ia.delete(e),s.O_()&&Xw(t,e),t.Ia.size===0&&(s.O_()?s.L_():_l(t)&&t.Ra.set("Unknown"))}function V_(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(qe.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}jc(i).Y_(e)}function Xw(i,e){i.Va.Ue(e),jc(i).Z_(e)}function z_(i){i.Va=new UM({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),jc(i).start(),i.Ra.ua()}function U_(i){return _l(i)&&!jc(i).x_()&&i.Ia.size>0}function _l(i){return Ge(i).Ea.size===0}function Ww(i){i.Va=void 0}async function KO(i){i.Ra.set("Online")}async function YO(i){i.Ia.forEach(((e,t)=>{V_(i,e)}))}async function QO(i,e){Ww(i),U_(i)?(i.Ra.ha(e),z_(i)):i.Ra.set("Unknown")}async function $O(i,e,t){if(i.Ra.set("Online"),e instanceof Dw&&e.state===2&&e.cause)try{await(async function(l,h){const d=h.cause;for(const v of h.targetIds)l.Ia.has(v)&&(await l.remoteSyncer.rejectListen(v,d),l.Ia.delete(v),l.Va.removeTarget(v))})(i,e)}catch(s){Re(dl,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await gf(i,s)}else if(e instanceof $d?i.Va.Ze(e):e instanceof kw?i.Va.st(e):i.Va.tt(e),!t.isEqual(qe.min()))try{const s=await Kw(i.localStore);t.compareTo(s)>=0&&await(function(h,d){const v=h.Va.Tt(d);return v.targetChanges.forEach(((y,x)=>{if(y.resumeToken.approximateByteSize()>0){const S=h.Ia.get(x);S&&h.Ia.set(x,S.withResumeToken(y.resumeToken,d))}})),v.targetMismatches.forEach(((y,x)=>{const S=h.Ia.get(y);if(!S)return;h.Ia.set(y,S.withResumeToken(jn.EMPTY_BYTE_STRING,S.snapshotVersion)),Xw(h,y);const w=new Ja(S.target,y,x,S.sequenceNumber);V_(h,w)})),h.remoteSyncer.applyRemoteEvent(v)})(i,t)}catch(s){Re(dl,"Failed to raise snapshot:",s),await gf(i,s)}}async function gf(i,e,t){if(!kc(e))throw e;i.Ea.add(1),await vh(i),i.Ra.set("Offline"),t||(t=()=>Kw(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{Re(dl,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await Uf(i)}))}function Jw(i,e){return e().catch((t=>gf(i,t,e)))}async function Bf(i){const e=Ge(i),t=uo(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:E_;for(;XO(e);)try{const l=await MO(e.localStore,s);if(l===null){e.Ta.length===0&&t.L_();break}s=l.batchId,WO(e,l)}catch(l){await gf(e,l)}eT(e)&&tT(e)}function XO(i){return _l(i)&&i.Ta.length<10}function WO(i,e){i.Ta.push(e);const t=uo(i);t.O_()&&t.X_&&t.ea(e.mutations)}function eT(i){return _l(i)&&!uo(i).x_()&&i.Ta.length>0}function tT(i){uo(i).start()}async function JO(i){uo(i).ra()}async function eL(i){const e=uo(i);for(const t of i.Ta)e.ea(t.mutations)}async function tL(i,e,t){const s=i.Ta.shift(),l=I_.from(s,e,t);await Jw(i,(()=>i.remoteSyncer.applySuccessfulWrite(l))),await Bf(i)}async function nL(i,e){e&&uo(i).X_&&await(async function(s,l){if((function(d){return jM(d)&&d!==he.ABORTED})(l.code)){const h=s.Ta.shift();uo(s).B_(),await Jw(s,(()=>s.remoteSyncer.rejectFailedWrite(h.batchId,l))),await Bf(s)}})(i,e),eT(i)&&tT(i)}async function $b(i,e){const t=Ge(i);t.asyncQueue.verifyOperationInProgress(),Re(dl,"RemoteStore received new credentials");const s=_l(t);t.Ea.add(3),await vh(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Uf(t)}async function iL(i,e){const t=Ge(i);e?(t.Ea.delete(2),await Uf(t)):e||(t.Ea.add(2),await vh(t),t.Ra.set("Unknown"))}function jc(i){return i.ma||(i.ma=(function(t,s,l){const h=Ge(t);return h.sa(),new BO(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(i.datastore,i.asyncQueue,{Xo:KO.bind(null,i),t_:YO.bind(null,i),r_:QO.bind(null,i),H_:$O.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),U_(i)?z_(i):i.Ra.set("Unknown")):(await i.ma.stop(),Ww(i))}))),i.ma}function uo(i){return i.fa||(i.fa=(function(t,s,l){const h=Ge(t);return h.sa(),new qO(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:JO.bind(null,i),r_:nL.bind(null,i),ta:eL.bind(null,i),na:tL.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Bf(i)):(await i.fa.stop(),i.Ta.length>0&&(Re(dl,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class B_{constructor(e,t,s,l,h){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=l,this.removalCallback=h,this.deferred=new ta,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,l,h){const d=Date.now()+s,v=new B_(e,t,d,l,h);return v.start(s),v}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ce(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function q_(i,e){if(sa("AsyncQueue",`${e}: ${i}`),kc(i))return new Ce(he.UNAVAILABLE,`${e}: ${i}`);throw i}class vc{static emptySet(e){return new vc(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ke.comparator(t.key,s.key):(t,s)=>ke.comparator(t.key,s.key),this.keyedMap=Lu(),this.sortedSet=new Kt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof vc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const l=t.getNext().key,h=s.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new vc;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class Xb{constructor(){this.ga=new Kt(ke.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ue(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class Cc{constructor(e,t,s,l,h,d,v,y,x){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=v,this.excludesMetadataChanges=y,this.hasCachedResults=x}static fromInitialDocuments(e,t,s,l,h){const d=[];return t.forEach((v=>{d.push({type:0,doc:v})})),new Cc(e,t,vc.emptySet(t),d,s,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let l=0;l<t.length;l++)if(t[l].type!==s[l].type||!t[l].doc.isEqual(s[l].doc))return!1;return!0}}class rL{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class sL{constructor(){this.queries=Wb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const l=Ge(t),h=l.queries;l.queries=Wb(),h.forEach(((d,v)=>{for(const y of v.Sa)y.onError(s)}))})(this,new Ce(he.ABORTED,"Firestore shutting down"))}}function Wb(){return new gl((i=>Ew(i)),Lf)}async function nT(i,e){const t=Ge(i);let s=3;const l=e.query;let h=t.queries.get(l);h?!h.ba()&&e.Da()&&(s=2):(h=new rL,s=e.Da()?0:1);try{switch(s){case 0:h.wa=await t.onListen(l,!0);break;case 1:h.wa=await t.onListen(l,!1);break;case 2:await t.onFirstRemoteStoreListen(l)}}catch(d){const v=q_(d,`Initialization of query '${uc(e.query)}' failed`);return void e.onError(v)}t.queries.set(l,h),h.Sa.push(e),e.va(t.onlineState),h.wa&&e.Fa(h.wa)&&H_(t)}async function iT(i,e){const t=Ge(i),s=e.query;let l=3;const h=t.queries.get(s);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?l=e.Da()?0:1:!h.ba()&&e.Da()&&(l=2))}switch(l){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function aL(i,e){const t=Ge(i);let s=!1;for(const l of e){const h=l.query,d=t.queries.get(h);if(d){for(const v of d.Sa)v.Fa(l)&&(s=!0);d.wa=l}}s&&H_(t)}function oL(i,e,t){const s=Ge(i),l=s.queries.get(e);if(l)for(const h of l.Sa)h.onError(t);s.queries.delete(e)}function H_(i){i.Ca.forEach((e=>{e.next()}))}var Gg,Jb;(Jb=Gg||(Gg={})).Ma="default",Jb.Cache="cache";class rT{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new Cc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Cc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Gg.Cache}}class sT{constructor(e){this.key=e}}class aT{constructor(e){this.key=e}}class lL{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ot(),this.mutatedKeys=ot(),this.eu=ww(e),this.tu=new vc(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new Xb,l=t?t.tu:this.tu;let h=t?t.mutatedKeys:this.mutatedKeys,d=l,v=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,x=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((S,w)=>{const N=l.get(S),O=kf(this.query,w)?w:null,K=!!N&&this.mutatedKeys.has(N.key),$=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let Z=!1;N&&O?N.data.isEqual(O.data)?K!==$&&(s.track({type:3,doc:O}),Z=!0):this.su(N,O)||(s.track({type:2,doc:O}),Z=!0,(y&&this.eu(O,y)>0||x&&this.eu(O,x)<0)&&(v=!0)):!N&&O?(s.track({type:0,doc:O}),Z=!0):N&&!O&&(s.track({type:1,doc:N}),Z=!0,(y||x)&&(v=!0)),Z&&(O?(d=d.add(O),h=$?h.add(S):h.delete(S)):(d=d.delete(S),h=h.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),h=h.delete(S.key),s.track({type:1,doc:S})}return{tu:d,iu:s,Cs:v,mutatedKeys:h}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,l){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((S,w)=>(function(O,K){const $=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue(20277,{Rt:Z})}};return $(O)-$(K)})(S.type,w.type)||this.eu(S.doc,w.doc))),this.ou(s),l=l??!1;const v=t&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,x=y!==this.Za;return this.Za=y,d.length!==0||x?{snapshot:new Cc(this.query,e.tu,h,d,e.mutatedKeys,y===0,x,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:v}:{au:v}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Xb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ot(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new aT(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new sT(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=ot();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Cc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const F_="SyncEngine";class cL{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class uL{constructor(e){this.key=e,this.hu=!1}}class hL{constructor(e,t,s,l,h,d){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new gl((v=>Ew(v)),Lf),this.Iu=new Map,this.Eu=new Set,this.du=new Kt(ke.comparator),this.Au=new Map,this.Ru=new O_,this.Vu={},this.mu=new Map,this.fu=Sc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function dL(i,e,t=!0){const s=dT(i);let l;const h=s.Tu.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),l=h.view.lu()):l=await oT(s,e,t,!0),l}async function fL(i,e){const t=dT(i);await oT(t,e,!0,!1)}async function oT(i,e,t,s){const l=await OO(i.localStore,vs(e)),h=l.targetId,d=i.sharedClientState.addLocalQueryTarget(h,t);let v;return s&&(v=await mL(i,e,h,d==="current",l.resumeToken)),i.isPrimaryClient&&t&&$w(i.remoteStore,l),v}async function mL(i,e,t,s,l){i.pu=(w,N,O)=>(async function($,Z,ce,pe){let J=Z.view.ru(ce);J.Cs&&(J=await Gb($.localStore,Z.query,!1).then((({documents:k})=>Z.view.ru(k,J))));const X=pe&&pe.targetChanges.get(Z.targetId),_e=pe&&pe.targetMismatches.get(Z.targetId)!=null,Ee=Z.view.applyChanges(J,$.isPrimaryClient,X,_e);return tE($,Z.targetId,Ee.au),Ee.snapshot})(i,w,N,O);const h=await Gb(i.localStore,e,!0),d=new lL(e,h.Qs),v=d.ru(h.documents),y=yh.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",l),x=d.applyChanges(v,i.isPrimaryClient,y);tE(i,t,x.au);const S=new cL(e,t,d);return i.Tu.set(e,S),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),x.snapshot}async function pL(i,e,t){const s=Ge(i),l=s.Tu.get(e),h=s.Iu.get(l.targetId);if(h.length>1)return s.Iu.set(l.targetId,h.filter((d=>!Lf(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Hg(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),t&&j_(s.remoteStore,l.targetId),Zg(s,l.targetId)})).catch(Lc)):(Zg(s,l.targetId),await Hg(s.localStore,l.targetId,!0))}async function gL(i,e){const t=Ge(i),s=t.Tu.get(e),l=t.Iu.get(s.targetId);t.isPrimaryClient&&l.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),j_(t.remoteStore,s.targetId))}async function _L(i,e,t){const s=TL(i);try{const l=await(function(d,v){const y=Ge(d),x=zt.now(),S=v.reduce(((O,K)=>O.add(K.key)),ot());let w,N;return y.persistence.runTransaction("Locally write mutations","readwrite",(O=>{let K=aa(),$=ot();return y.Ns.getEntries(O,S).next((Z=>{K=Z,K.forEach(((ce,pe)=>{pe.isValidDocument()||($=$.add(ce))}))})).next((()=>y.localDocuments.getOverlayedDocuments(O,K))).next((Z=>{w=Z;const ce=[];for(const pe of v){const J=MM(pe,w.get(pe.key).overlayedDocument);J!=null&&ce.push(new yo(pe.key,J,mw(J.value.mapValue),yr.exists(!0)))}return y.mutationQueue.addMutationBatch(O,x,ce,v)})).next((Z=>{N=Z;const ce=Z.applyToLocalDocumentSet(w,$);return y.documentOverlayCache.saveOverlays(O,Z.batchId,ce)}))})).then((()=>({batchId:N.batchId,changes:Aw(w)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),(function(d,v,y){let x=d.Vu[d.currentUser.toKey()];x||(x=new Kt(at)),x=x.insert(v,y),d.Vu[d.currentUser.toKey()]=x})(s,l.batchId,t),await xh(s,l.changes),await Bf(s.remoteStore)}catch(l){const h=q_(l,"Failed to persist write");t.reject(h)}}async function lT(i,e){const t=Ge(i);try{const s=await IO(t.localStore,e);e.targetChanges.forEach(((l,h)=>{const d=t.Au.get(h);d&&(xt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?xt(d.hu,14607):l.removedDocuments.size>0&&(xt(d.hu,42227),d.hu=!1))})),await xh(t,s,e)}catch(s){await Lc(s)}}function eE(i,e,t){const s=Ge(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const l=[];s.Tu.forEach(((h,d)=>{const v=d.view.va(e);v.snapshot&&l.push(v.snapshot)})),(function(d,v){const y=Ge(d);y.onlineState=v;let x=!1;y.queries.forEach(((S,w)=>{for(const N of w.Sa)N.va(v)&&(x=!0)})),x&&H_(y)})(s.eventManager,e),l.length&&s.Pu.H_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function yL(i,e,t){const s=Ge(i);s.sharedClientState.updateQueryState(e,"rejected",t);const l=s.Au.get(e),h=l&&l.key;if(h){let d=new Kt(ke.comparator);d=d.insert(h,Kn.newNoDocument(h,qe.min()));const v=ot().add(h),y=new Vf(qe.min(),new Map,new Kt(at),d,v);await lT(s,y),s.du=s.du.remove(h),s.Au.delete(e),G_(s)}else await Hg(s.localStore,e,!1).then((()=>Zg(s,e,t))).catch(Lc)}async function vL(i,e){const t=Ge(i),s=e.batch.batchId;try{const l=await RO(t.localStore,e);uT(t,s,null),cT(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await xh(t,l)}catch(l){await Lc(l)}}async function xL(i,e,t){const s=Ge(i);try{const l=await(function(d,v){const y=Ge(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(x=>{let S;return y.mutationQueue.lookupMutationBatch(x,v).next((w=>(xt(w!==null,37113),S=w.keys(),y.mutationQueue.removeMutationBatch(x,w)))).next((()=>y.mutationQueue.performConsistencyCheck(x))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(x,S,v))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(x,S))).next((()=>y.localDocuments.getDocuments(x,S)))}))})(s.localStore,e);uT(s,e,t),cT(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await xh(s,l)}catch(l){await Lc(l)}}function cT(i,e){(i.mu.get(e)||[]).forEach((t=>{t.resolve()})),i.mu.delete(e)}function uT(i,e,t){const s=Ge(i);let l=s.Vu[s.currentUser.toKey()];if(l){const h=l.get(e);h&&(t?h.reject(t):h.resolve(),l=l.remove(e)),s.Vu[s.currentUser.toKey()]=l}}function Zg(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),t&&i.Pu.yu(s,t);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||hT(i,s)}))}function hT(i,e){i.Eu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(j_(i.remoteStore,t),i.du=i.du.remove(e),i.Au.delete(t),G_(i))}function tE(i,e,t){for(const s of t)s instanceof sT?(i.Ru.addReference(s.key,e),bL(i,s)):s instanceof aT?(Re(F_,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||hT(i,s.key)):Ue(19791,{wu:s})}function bL(i,e){const t=e.key,s=t.path.canonicalString();i.du.get(t)||i.Eu.has(s)||(Re(F_,"New document in limbo: "+t),i.Eu.add(s),G_(i))}function G_(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new ke(Lt.fromString(e)),s=i.fu.next();i.Au.set(s,new uL(t)),i.du=i.du.insert(t,s),$w(i.remoteStore,new Ja(vs(C_(t.path)),s,"TargetPurposeLimboResolution",Pf.ce))}}async function xh(i,e,t){const s=Ge(i),l=[],h=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((v,y)=>{d.push(s.pu(y,e,t).then((x=>{if((x||t)&&s.isPrimaryClient){const S=x?!x.fromCache:t?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,S?"current":"not-current")}if(x){l.push(x);const S=k_.As(y.targetId,x);h.push(S)}})))})),await Promise.all(d),s.Pu.H_(l),await(async function(y,x){const S=Ge(y);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>me.forEach(x,(N=>me.forEach(N.Es,(O=>S.persistence.referenceDelegate.addReference(w,N.targetId,O))).next((()=>me.forEach(N.ds,(O=>S.persistence.referenceDelegate.removeReference(w,N.targetId,O)))))))))}catch(w){if(!kc(w))throw w;Re(D_,"Failed to update sequence numbers: "+w)}for(const w of x){const N=w.targetId;if(!w.fromCache){const O=S.Ms.get(N),K=O.snapshotVersion,$=O.withLastLimboFreeSnapshotVersion(K);S.Ms=S.Ms.insert(N,$)}}})(s.localStore,h))}async function EL(i,e){const t=Ge(i);if(!t.currentUser.isEqual(e)){Re(F_,"User change. New user:",e.toKey());const s=await Zw(t.localStore,e);t.currentUser=e,(function(h,d){h.mu.forEach((v=>{v.forEach((y=>{y.reject(new Ce(he.CANCELLED,d))}))})),h.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await xh(t,s.Ls)}}function wL(i,e){const t=Ge(i),s=t.Au.get(e);if(s&&s.hu)return ot().add(s.key);{let l=ot();const h=t.Iu.get(e);if(!h)return l;for(const d of h){const v=t.Tu.get(d);l=l.unionWith(v.view.nu)}return l}}function dT(i){const e=Ge(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=lT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yL.bind(null,e),e.Pu.H_=aL.bind(null,e.eventManager),e.Pu.yu=oL.bind(null,e.eventManager),e}function TL(i){const e=Ge(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xL.bind(null,e),e}class _f{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return NO(this.persistence,new AO,e.initialUser,this.serializer)}Cu(e){return new Gw(L_.mi,this.serializer)}Du(e){return new kO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_f.provider={build:()=>new _f};class AL extends _f{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){xt(this.persistence.referenceDelegate instanceof pf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new uO(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Ei.withCacheSize(this.cacheSizeBytes):Ei.DEFAULT;return new Gw((s=>pf.mi(s,t)),this.serializer)}}class Kg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>eE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=EL.bind(null,this.syncEngine),await iL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new sL})()}createDatastore(e){const t=zf(e.databaseInfo.databaseId),s=(function(h){return new UO(h)})(e.databaseInfo);return(function(h,d,v,y){return new FO(h,d,v,y)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,l,h,d,v){return new ZO(s,l,h,d,v)})(this.localStore,this.datastore,e.asyncQueue,(t=>eE(this.syncEngine,t,0)),(function(){return Yb.v()?new Yb:new DO})())}createSyncEngine(e,t){return(function(l,h,d,v,y,x,S){const w=new hL(l,h,d,v,y,x);return S&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=Ge(t);Re(dl,"RemoteStore shutting down."),s.Ea.add(5),await vh(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Kg.provider={build:()=>new Kg};class fT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):sa("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const ho="FirestoreClient";class SL{constructor(e,t,s,l,h){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=l,this.user=Zn.UNAUTHENTICATED,this.clientId=b_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,(async d=>{Re(ho,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(Re(ho,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ta;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=q_(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function cg(i,e){i.asyncQueue.verifyOperationInProgress(),Re(ho,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener((async l=>{s.isEqual(l)||(await Zw(e.localStore,l),s=l)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function nE(i,e){i.asyncQueue.verifyOperationInProgress();const t=await CL(i);Re(ho,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener((s=>$b(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,l)=>$b(e.remoteStore,l))),i._onlineComponents=e}async function CL(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){Re(ho,"Using user provided OfflineComponentProvider");try{await cg(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(l){return l.name==="FirebaseError"?l.code===he.FAILED_PRECONDITION||l.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(t))throw t;Ec("Error using user provided cache. Falling back to memory cache: "+t),await cg(i,new _f)}}else Re(ho,"Using default OfflineComponentProvider"),await cg(i,new AL(void 0));return i._offlineComponents}async function mT(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(Re(ho,"Using user provided OnlineComponentProvider"),await nE(i,i._uninitializedComponentsProvider._online)):(Re(ho,"Using default OnlineComponentProvider"),await nE(i,new Kg))),i._onlineComponents}function NL(i){return mT(i).then((e=>e.syncEngine))}async function pT(i){const e=await mT(i),t=e.eventManager;return t.onListen=dL.bind(null,e.syncEngine),t.onUnlisten=pL.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=fL.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=gL.bind(null,e.syncEngine),t}function RL(i,e,t={}){const s=new ta;return i.asyncQueue.enqueueAndForget((async()=>(function(h,d,v,y,x){const S=new fT({next:N=>{S.Nu(),d.enqueueAndForget((()=>iT(h,w)));const O=N.docs.has(v);!O&&N.fromCache?x.reject(new Ce(he.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&N.fromCache&&y&&y.source==="server"?x.reject(new Ce(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):x.resolve(N)},error:N=>x.reject(N)}),w=new rT(C_(v.path),S,{includeMetadataChanges:!0,qa:!0});return nT(h,w)})(await pT(i),i.asyncQueue,e,t,s))),s.promise}function IL(i,e,t={}){const s=new ta;return i.asyncQueue.enqueueAndForget((async()=>(function(h,d,v,y,x){const S=new fT({next:N=>{S.Nu(),d.enqueueAndForget((()=>iT(h,w))),N.fromCache&&y.source==="server"?x.reject(new Ce(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):x.resolve(N)},error:N=>x.reject(N)}),w=new rT(v,S,{includeMetadataChanges:!0,qa:!0});return nT(h,w)})(await pT(i),i.asyncQueue,e,t,s))),s.promise}function gT(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const iE=new Map;const _T="firestore.googleapis.com",rE=!0;class sE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ce(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_T,this.ssl=rE}else this.host=e.host,this.ssl=e.ssl??rE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Fw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<lO)throw new Ce(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ce(he.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ce(he.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ce(he.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qf{constructor(e,t,s,l){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ce(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ce(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new kP;switch(s.type){case"firstParty":return new zP(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Ce(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=iE.get(t);s&&(Re("ComponentProvider","Removing Datastore"),iE.delete(t),s.terminate())})(this),Promise.resolve()}}function PL(i,e,t,s={}){i=Br(i,qf);const l=po(e),h=i._getSettings(),d={...h,emulatorOptions:i._getEmulatorOptions()},v=`${e}:${t}`;l&&(o_(`https://${v}`),l_("Firestore",!0)),h.host!==_T&&h.host!==v&&Ec("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...h,host:v,ssl:l,emulatorOptions:s};if(!ll(y,d)&&(i._setSettings(y),s.mockUserToken)){let x,S;if(typeof s.mockUserToken=="string")x=s.mockUserToken,S=Zn.MOCK_USER;else{x=u1(s.mockUserToken,i._app?.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new Ce(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Zn(w)}i._authCredentials=new DP(new nw(x,S))}}class yl{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new yl(this.firestore,e,this._query)}}class cn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ro(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cn(this.firestore,e,this._key)}toJSON(){return{type:cn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(gh(t,cn._jsonSchema))return new cn(e,s||null,new ke(Lt.fromString(t.referencePath)))}}cn._jsonSchemaVersion="firestore/documentReference/1.0",cn._jsonSchema={type:yn("string",cn._jsonSchemaVersion),referencePath:yn("string")};class ro extends yl{constructor(e,t,s){super(e,t,C_(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cn(this.firestore,null,new ke(e))}withConverter(e){return new ro(this.firestore,e,this._path)}}function Vc(i,e,...t){if(i=Zt(i),iw("collection","path",e),i instanceof qf){const s=Lt.fromString(e,...t);return yb(s),new ro(i,null,s)}{if(!(i instanceof cn||i instanceof ro))throw new Ce(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Lt.fromString(e,...t));return yb(s),new ro(i.firestore,null,s)}}function vo(i,e,...t){if(i=Zt(i),arguments.length===1&&(e=b_.newId()),iw("doc","path",e),i instanceof qf){const s=Lt.fromString(e,...t);return _b(s),new cn(i,null,new ke(s))}{if(!(i instanceof cn||i instanceof ro))throw new Ce(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Lt.fromString(e,...t));return _b(s),new cn(i.firestore,i instanceof ro?i.converter:null,new ke(s))}}const aE="AsyncQueue";class oE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Yw(this,"async_queue_retry"),this._c=()=>{const s=lg();s&&Re(aE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=lg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=lg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new ta;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!kc(e))throw e;Re(aE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,sa("INTERNAL UNHANDLED ERROR: ",lE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const l=B_.createAndSchedule(this,e,t,s,(h=>this.hc(h)));return this.tc.push(l),l}uc(){this.nc&&Ue(47125,{Pc:lE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function lE(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class vl extends qf{constructor(e,t,s,l){super(e,t,s,l),this.type="firestore",this._queue=new oE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new oE(e),this._firestoreClient=void 0,await e}}}function ML(i,e){const t=typeof i=="object"?i:h_(),s=typeof i=="string"?i:uf,l=Af(t,"firestore").getImmediate({identifier:s});if(!l._initialized){const h=o1("firestore");h&&PL(l,...h)}return l}function Z_(i){if(i._terminated)throw new Ce(he.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||OL(i),i._firestoreClient}function OL(i){const e=i._freezeSettings(),t=(function(l,h,d,v){return new nM(l,h,d,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,gT(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new SL(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&(function(l){const h=l?._online.build();return{_offline:l?._offline.build(h),_online:h}})(i._componentsProvider))}class gr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gr(jn.fromBase64String(e))}catch(t){throw new Ce(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new gr(jn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:gr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(gh(e,gr._jsonSchema))return gr.fromBase64String(e.bytes)}}gr._jsonSchemaVersion="firestore/bytes/1.0",gr._jsonSchema={type:yn("string",gr._jsonSchemaVersion),bytes:yn("string")};class Hf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ce(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ff{constructor(e){this._methodName=e}}class bs{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ce(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ce(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return at(this._lat,e._lat)||at(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:bs._jsonSchemaVersion}}static fromJSON(e){if(gh(e,bs._jsonSchema))return new bs(e.latitude,e.longitude)}}bs._jsonSchemaVersion="firestore/geoPoint/1.0",bs._jsonSchema={type:yn("string",bs._jsonSchemaVersion),latitude:yn("number"),longitude:yn("number")};class Es{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,l){if(s.length!==l.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==l[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Es._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(gh(e,Es._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Es(e.vectorValues);throw new Ce(he.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Es._jsonSchemaVersion="firestore/vectorValue/1.0",Es._jsonSchema={type:yn("string",Es._jsonSchemaVersion),vectorValues:yn("object")};const LL=/^__.*__$/;class kL{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new yo(e,this.data,this.fieldMask,t,this.fieldTransforms):new _h(e,this.data,t,this.fieldTransforms)}}class yT{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new yo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function vT(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue(40011,{Ac:i})}}class K_{constructor(e,t,s,l,h,d){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=l,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new K_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return yf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(vT(this.Ac)&&LL.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class DL{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||zf(e)}Cc(e,t,s,l=!1){return new K_({Ac:e,methodName:t,Dc:s,path:Dn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gf(i){const e=i._freezeSettings(),t=zf(i._databaseId);return new DL(i._databaseId,!!e.ignoreUndefinedProperties,t)}function xT(i,e,t,s,l,h={}){const d=i.Cc(h.merge||h.mergeFields?2:0,e,t,l);Q_("Data must be an object, but it was:",d,s);const v=bT(s,d);let y,x;if(h.merge)y=new qi(d.fieldMask),x=d.fieldTransforms;else if(h.mergeFields){const S=[];for(const w of h.mergeFields){const N=Yg(e,w,t);if(!d.contains(N))throw new Ce(he.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);wT(S,N)||S.push(N)}y=new qi(S),x=d.fieldTransforms.filter((w=>y.covers(w.field)))}else y=null,x=d.fieldTransforms;return new kL(new wi(v),y,x)}class Zf extends Ff{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zf}}class Y_ extends Ff{_toFieldTransform(e){return new NM(e.path,new th)}isEqual(e){return e instanceof Y_}}function jL(i,e,t,s){const l=i.Cc(1,e,t);Q_("Data must be an object, but it was:",l,s);const h=[],d=wi.empty();_o(s,((y,x)=>{const S=$_(e,y,t);x=Zt(x);const w=l.yc(S);if(x instanceof Zf)h.push(S);else{const N=bh(x,w);N!=null&&(h.push(S),d.set(S,N))}}));const v=new qi(h);return new yT(d,v,l.fieldTransforms)}function VL(i,e,t,s,l,h){const d=i.Cc(1,e,t),v=[Yg(e,s,t)],y=[l];if(h.length%2!=0)throw new Ce(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<h.length;N+=2)v.push(Yg(e,h[N])),y.push(h[N+1]);const x=[],S=wi.empty();for(let N=v.length-1;N>=0;--N)if(!wT(x,v[N])){const O=v[N];let K=y[N];K=Zt(K);const $=d.yc(O);if(K instanceof Zf)x.push(O);else{const Z=bh(K,$);Z!=null&&(x.push(O),S.set(O,Z))}}const w=new qi(x);return new yT(S,w,d.fieldTransforms)}function zL(i,e,t,s=!1){return bh(t,i.Cc(s?4:3,e))}function bh(i,e){if(ET(i=Zt(i)))return Q_("Unsupported field value:",e,i),bT(i,e);if(i instanceof Ff)return(function(s,l){if(!vT(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(l);h&&l.fieldTransforms.push(h)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,l){const h=[];let d=0;for(const v of s){let y=bh(v,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),h.push(y),d++}return{arrayValue:{values:h}}})(i,e)}return(function(s,l){if((s=Zt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return AM(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=zt.fromDate(s);return{timestampValue:mf(l.serializer,h)}}if(s instanceof zt){const h=new zt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:mf(l.serializer,h)}}if(s instanceof bs)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof gr)return{bytesValue:jw(l.serializer,s._byteString)};if(s instanceof cn){const h=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:M_(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Es)return(function(d,v){return{mapValue:{fields:{[dw]:{stringValue:fw},[hf]:{arrayValue:{values:d.toArray().map((x=>{if(typeof x!="number")throw v.Sc("VectorValues must only contain numeric values.");return N_(v.serializer,x)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${If(s)}`)})(i,e)}function bT(i,e){const t={};return aw(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_o(i,((s,l)=>{const h=bh(l,e.mc(s));h!=null&&(t[s]=h)})),{mapValue:{fields:t}}}function ET(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof zt||i instanceof bs||i instanceof gr||i instanceof cn||i instanceof Ff||i instanceof Es)}function Q_(i,e,t){if(!ET(t)||!rw(t)){const s=If(t);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function Yg(i,e,t){if((e=Zt(e))instanceof Hf)return e._internalPath;if(typeof e=="string")return $_(i,e);throw yf("Field path arguments must be of type string or ",i,!1,void 0,t)}const UL=new RegExp("[~\\*/\\[\\]]");function $_(i,e,t){if(e.search(UL)>=0)throw yf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Hf(...e.split("."))._internalPath}catch{throw yf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function yf(i,e,t,s,l){const h=s&&!s.isEmpty(),d=l!==void 0;let v=`Function ${e}() called with invalid data`;t&&(v+=" (via `toFirestore()`)"),v+=". ";let y="";return(h||d)&&(y+=" (found",h&&(y+=` in field ${s}`),d&&(y+=` in document ${l}`),y+=")"),new Ce(he.INVALID_ARGUMENT,v+i+y)}function wT(i,e){return i.some((t=>t.isEqual(e)))}class TT{constructor(e,t,s,l,h){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Kf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class BL extends TT{data(){return super.data()}}function Kf(i,e){return typeof e=="string"?$_(i,e):e instanceof Hf?e._internalPath:e._delegate._internalPath}function qL(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new Ce(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class X_{}class AT extends X_{}function ST(i,e,...t){let s=[];e instanceof X_&&s.push(e),s=s.concat(t),(function(h){const d=h.filter((y=>y instanceof W_)).length,v=h.filter((y=>y instanceof Yf)).length;if(d>1||d>0&&v>0)throw new Ce(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)i=l._apply(i);return i}class Yf extends AT{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Yf(e,t,s)}_apply(e){const t=this._parse(e);return CT(e._query,t),new yl(e.firestore,e.converter,jg(e._query,t))}_parse(e){const t=Gf(e.firestore);return(function(h,d,v,y,x,S,w){let N;if(x.isKeyField()){if(S==="array-contains"||S==="array-contains-any")throw new Ce(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if(S==="in"||S==="not-in"){uE(w,S);const K=[];for(const $ of w)K.push(cE(y,h,$));N={arrayValue:{values:K}}}else N=cE(y,h,w)}else S!=="in"&&S!=="not-in"&&S!=="array-contains-any"||uE(w,S),N=zL(v,d,w,S==="in"||S==="not-in");return _n.create(x,S,N)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function HL(i,e,t){const s=e,l=Kf("where",i);return Yf._create(l,s,t)}class W_ extends X_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new W_(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:qr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(l,h){let d=l;const v=h.getFlattenedFilters();for(const y of v)CT(d,y),d=jg(d,y)})(e._query,t),new yl(e.firestore,e.converter,jg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class J_ extends AT{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new J_(e,t)}_apply(e){const t=(function(l,h,d){if(l.startAt!==null)throw new Ce(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new Ce(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new eh(h,d)})(e._query,this._field,this._direction);return new yl(e.firestore,e.converter,(function(l,h){const d=l.explicitOrderBy.concat([h]);return new Dc(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,t))}}function FL(i,e="asc"){const t=e,s=Kf("orderBy",i);return J_._create(s,t)}function cE(i,e,t){if(typeof(t=Zt(t))=="string"){if(t==="")throw new Ce(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bw(e)&&t.indexOf("/")!==-1)throw new Ce(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Lt.fromString(t));if(!ke.isDocumentKey(s))throw new Ce(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Sb(i,new ke(s))}if(t instanceof cn)return Sb(i,t._key);throw new Ce(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${If(t)}.`)}function uE(i,e){if(!Array.isArray(i)||i.length===0)throw new Ce(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function CT(i,e){const t=(function(l,h){for(const d of l)for(const v of d.getFlattenedFilters())if(h.indexOf(v.op)>=0)return v.op;return null})(i.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Ce(he.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ce(he.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class GL{convertValue(e,t="none"){switch(co(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ln(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(lo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ue(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return _o(e,((l,h)=>{s[l]=this.convertValue(h,t)})),s}convertVectorValue(e){const t=e.fields?.[hf].arrayValue?.values?.map((s=>ln(s.doubleValue)));return new Es(t)}convertGeoPoint(e){return new bs(ln(e.latitude),ln(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Of(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Xu(e));default:return null}}convertTimestamp(e){const t=oo(e);return new zt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Lt.fromString(e);xt(Hw(s),9688,{name:e});const l=new Wu(s.get(1),s.get(3)),h=new ke(s.popFirst(5));return l.isEqual(t)||sa(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),h}}function NT(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}class Du{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class al extends TT{constructor(e,t,s,l,h,d){super(e,t,s,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Xd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Kf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ce(he.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=al._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}al._jsonSchemaVersion="firestore/documentSnapshot/1.0",al._jsonSchema={type:yn("string",al._jsonSchemaVersion),bundleSource:yn("string","DocumentSnapshot"),bundleName:yn("string"),bundle:yn("string")};class Xd extends al{data(e={}){return super.data(e)}}class xc{constructor(e,t,s,l){this._firestore=e,this._userDataWriter=t,this._snapshot=l,this.metadata=new Du(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new Xd(this._firestore,this._userDataWriter,s.key,s,new Du(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ce(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(l,h){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((v=>{const y=new Xd(l._firestore,l._userDataWriter,v.doc.key,v.doc,new Du(l._snapshot.mutatedKeys.has(v.doc.key),l._snapshot.fromCache),l.query.converter);return v.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((v=>h||v.type!==3)).map((v=>{const y=new Xd(l._firestore,l._userDataWriter,v.doc.key,v.doc,new Du(l._snapshot.mutatedKeys.has(v.doc.key),l._snapshot.fromCache),l.query.converter);let x=-1,S=-1;return v.type!==0&&(x=d.indexOf(v.doc.key),d=d.delete(v.doc.key)),v.type!==1&&(d=d.add(v.doc),S=d.indexOf(v.doc.key)),{type:ZL(v.type),doc:y,oldIndex:x,newIndex:S}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ce(he.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=xc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=b_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],l=[];return this.docs.forEach((h=>{h._document!==null&&(t.push(h._document),s.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),l.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ZL(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue(61501,{type:i})}}function RT(i){i=Br(i,cn);const e=Br(i.firestore,vl);return RL(Z_(e),i._key).then((t=>YL(e,i,t)))}xc._jsonSchemaVersion="firestore/querySnapshot/1.0",xc._jsonSchema={type:yn("string",xc._jsonSchemaVersion),bundleSource:yn("string","QuerySnapshot"),bundleName:yn("string"),bundle:yn("string")};class IT extends GL{constructor(e){super(),this.firestore=e}convertBytes(e){return new gr(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new cn(this.firestore,null,t)}}function Qf(i){i=Br(i,yl);const e=Br(i.firestore,vl),t=Z_(e),s=new IT(e);return qL(i._query),IL(t,i._query).then((l=>new xc(e,s,i,l)))}function KL(i,e,t){i=Br(i,cn);const s=Br(i.firestore,vl),l=NT(i.converter,e,t);return $f(s,[xT(Gf(s),"setDoc",i._key,l,i.converter!==null,t).toMutation(i._key,yr.none())])}function PT(i,e,t,...s){i=Br(i,cn);const l=Br(i.firestore,vl),h=Gf(l);let d;return d=typeof(e=Zt(e))=="string"||e instanceof Hf?VL(h,"updateDoc",i._key,e,t,s):jL(h,"updateDoc",i._key,e),$f(l,[d.toMutation(i._key,yr.exists(!0))])}function ey(i){return $f(Br(i.firestore,vl),[new R_(i._key,yr.none())])}function MT(i,e){const t=Br(i.firestore,vl),s=vo(i),l=NT(i.converter,e);return $f(t,[xT(Gf(i.firestore),"addDoc",s._key,l,i.converter!==null,{}).toMutation(s._key,yr.exists(!1))]).then((()=>s))}function $f(i,e){return(function(s,l){const h=new ta;return s.asyncQueue.enqueueAndForget((async()=>_L(await NL(s),l,h))),h.promise})(Z_(i),e)}function YL(i,e,t){const s=t.docs.get(e._key),l=new IT(i);return new al(i,l,e._key,s,new Du(t.hasPendingWrites,t.fromCache),e.converter)}function rh(){return new Y_("serverTimestamp")}(function(e,t=!0){(function(l){Oc=l})(ml),cl(new so("firestore",((s,{instanceIdentifier:l,options:h})=>{const d=s.getProvider("app").getImmediate(),v=new vl(new jP(s.getProvider("auth-internal")),new UP(d,s.getProvider("app-check-internal")),(function(x,S){if(!Object.prototype.hasOwnProperty.apply(x.options,["projectId"]))throw new Ce(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wu(x.options.projectId,S)})(d,l),d);return h={useFetchStreams:t,...h},v._setSettings(h),v}),"PUBLIC").setMultipleInstances(!0)),gs(fb,mb,e),gs(fb,mb,"esm2020")})();const OT="firebasestorage.googleapis.com",LT="storageBucket",QL=120*1e3,$L=600*1e3;class nn extends Ts{constructor(e,t,s=0){super(ug(e),`Firebase Storage: ${t} (${ug(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,nn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ug(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var tn;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(tn||(tn={}));function ug(i){return"storage/"+i}function ty(){const i="An unknown error occurred, please check the error payload for server response.";return new nn(tn.UNKNOWN,i)}function XL(i){return new nn(tn.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function WL(i){return new nn(tn.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function JL(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new nn(tn.UNAUTHENTICATED,i)}function e4(){return new nn(tn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function t4(i){return new nn(tn.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function n4(){return new nn(tn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function i4(){return new nn(tn.CANCELED,"User canceled the upload/download.")}function r4(i){return new nn(tn.INVALID_URL,"Invalid URL '"+i+"'.")}function s4(i){return new nn(tn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function a4(){return new nn(tn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+LT+"' property when initializing the app?")}function o4(){return new nn(tn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function l4(){return new nn(tn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function c4(i){return new nn(tn.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Qg(i){return new nn(tn.INVALID_ARGUMENT,i)}function kT(){return new nn(tn.APP_DELETED,"The Firebase app was deleted.")}function u4(i){return new nn(tn.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Fu(i,e){return new nn(tn.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function Iu(i){throw new nn(tn.INTERNAL_ERROR,"Internal error: "+i)}class Hi{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=Hi.makeFromUrl(e,t)}catch{return new Hi(e,"")}if(s.path==="")return s;throw s4(e)}static makeFromUrl(e,t){let s=null;const l="([A-Za-z0-9.\\-_]+)";function h(X){X.path.charAt(X.path.length-1)==="/"&&(X.path_=X.path_.slice(0,-1))}const d="(/(.*))?$",v=new RegExp("^gs://"+l+d,"i"),y={bucket:1,path:3};function x(X){X.path_=decodeURIComponent(X.path)}const S="v[A-Za-z0-9_]+",w=t.replace(/[.]/g,"\\."),N="(/([^?#]*).*)?$",O=new RegExp(`^https?://${w}/${S}/b/${l}/o${N}`,"i"),K={bucket:1,path:3},$=t===OT?"(?:storage.googleapis.com|storage.cloud.google.com)":t,Z="([^?#]*)",ce=new RegExp(`^https?://${$}/${l}/${Z}`,"i"),J=[{regex:v,indices:y,postModify:h},{regex:O,indices:K,postModify:x},{regex:ce,indices:{bucket:1,path:2},postModify:x}];for(let X=0;X<J.length;X++){const _e=J[X],Ee=_e.regex.exec(e);if(Ee){const k=Ee[_e.indices.bucket];let M=Ee[_e.indices.path];M||(M=""),s=new Hi(k,M),_e.postModify(s);break}}if(s==null)throw r4(e);return s}}class h4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function d4(i,e,t){let s=1,l=null,h=null,d=!1,v=0;function y(){return v===2}let x=!1;function S(...Z){x||(x=!0,e.apply(null,Z))}function w(Z){l=setTimeout(()=>{l=null,i(O,y())},Z)}function N(){h&&clearTimeout(h)}function O(Z,...ce){if(x){N();return}if(Z){N(),S.call(null,Z,...ce);return}if(y()||d){N(),S.call(null,Z,...ce);return}s<64&&(s*=2);let J;v===1?(v=2,J=0):J=(s+Math.random())*1e3,w(J)}let K=!1;function $(Z){K||(K=!0,N(),!x&&(l!==null?(Z||(v=2),clearTimeout(l),w(0)):Z||(v=1)))}return w(0),h=setTimeout(()=>{d=!0,$(!0)},t),$}function f4(i){i(!1)}function m4(i){return i!==void 0}function p4(i){return typeof i=="object"&&!Array.isArray(i)}function ny(i){return typeof i=="string"||i instanceof String}function hE(i){return iy()&&i instanceof Blob}function iy(){return typeof Blob<"u"}function dE(i,e,t,s){if(s<e)throw Qg(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>t)throw Qg(`Invalid value for '${i}'. Expected ${t} or less.`)}function Xf(i,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${i}`}function DT(i){const e=encodeURIComponent;let t="?";for(const s in i)if(i.hasOwnProperty(s)){const l=e(s)+"="+e(i[s]);t=t+l+"&"}return t=t.slice(0,-1),t}var ol;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(ol||(ol={}));function g4(i,e){const t=i>=500&&i<600,l=[408,429].indexOf(i)!==-1,h=e.indexOf(i)!==-1;return t||l||h}class _4{constructor(e,t,s,l,h,d,v,y,x,S,w,N=!0,O=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=l,this.successCodes_=h,this.additionalRetryCodes_=d,this.callback_=v,this.errorCallback_=y,this.timeout_=x,this.progressCallback_=S,this.connectionFactory_=w,this.retry=N,this.isUsingEmulator=O,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((K,$)=>{this.resolve_=K,this.reject_=$,this.start_()})}start_(){const e=(s,l)=>{if(l){s(!1,new jd(!1,null,!0));return}const h=this.connectionFactory_();this.pendingConnection_=h;const d=v=>{const y=v.loaded,x=v.lengthComputable?v.total:-1;this.progressCallback_!==null&&this.progressCallback_(y,x)};this.progressCallback_!==null&&h.addUploadProgressListener(d),h.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&h.removeUploadProgressListener(d),this.pendingConnection_=null;const v=h.getErrorCode()===ol.NO_ERROR,y=h.getStatus();if(!v||g4(y,this.additionalRetryCodes_)&&this.retry){const S=h.getErrorCode()===ol.ABORT;s(!1,new jd(!1,null,S));return}const x=this.successCodes_.indexOf(y)!==-1;s(!0,new jd(x,h))})},t=(s,l)=>{const h=this.resolve_,d=this.reject_,v=l.connection;if(l.wasSuccessCode)try{const y=this.callback_(v,v.getResponse());m4(y)?h(y):h()}catch(y){d(y)}else if(v!==null){const y=ty();y.serverResponse=v.getErrorText(),this.errorCallback_?d(this.errorCallback_(v,y)):d(y)}else if(l.canceled){const y=this.appDelete_?kT():i4();d(y)}else{const y=n4();d(y)}};this.canceled_?t(!1,new jd(!1,null,!0)):this.backoffId_=d4(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&f4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class jd{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function y4(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function v4(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function x4(i,e){e&&(i["X-Firebase-GMPID"]=e)}function b4(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function E4(i,e,t,s,l,h,d=!0,v=!1){const y=DT(i.urlParams),x=i.url+y,S=Object.assign({},i.headers);return x4(S,e),y4(S,t),v4(S,h),b4(S,s),new _4(x,i.method,S,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,l,d,v)}function w4(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function T4(...i){const e=w4();if(e!==void 0){const t=new e;for(let s=0;s<i.length;s++)t.append(i[s]);return t.getBlob()}else{if(iy())return new Blob(i);throw new nn(tn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function A4(i,e,t){return i.webkitSlice?i.webkitSlice(e,t):i.mozSlice?i.mozSlice(e,t):i.slice?i.slice(e,t):null}function S4(i){if(typeof atob>"u")throw c4("base-64");return atob(i)}const ps={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class hg{constructor(e,t){this.data=e,this.contentType=t||null}}function C4(i,e){switch(i){case ps.RAW:return new hg(jT(e));case ps.BASE64:case ps.BASE64URL:return new hg(VT(i,e));case ps.DATA_URL:return new hg(R4(e),I4(e))}throw ty()}function jT(i){const e=[];for(let t=0;t<i.length;t++){let s=i.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<i.length-1&&(i.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const h=s,d=i.charCodeAt(++t);s=65536|(h&1023)<<10|d&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function N4(i){let e;try{e=decodeURIComponent(i)}catch{throw Fu(ps.DATA_URL,"Malformed data URL.")}return jT(e)}function VT(i,e){switch(i){case ps.BASE64:{const l=e.indexOf("-")!==-1,h=e.indexOf("_")!==-1;if(l||h)throw Fu(i,"Invalid character '"+(l?"-":"_")+"' found: is it base64url encoded?");break}case ps.BASE64URL:{const l=e.indexOf("+")!==-1,h=e.indexOf("/")!==-1;if(l||h)throw Fu(i,"Invalid character '"+(l?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=S4(e)}catch(l){throw l.message.includes("polyfill")?l:Fu(i,"Invalid character found")}const s=new Uint8Array(t.length);for(let l=0;l<t.length;l++)s[l]=t.charCodeAt(l);return s}class zT{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Fu(ps.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=P4(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function R4(i){const e=new zT(i);return e.base64?VT(ps.BASE64,e.rest):N4(e.rest)}function I4(i){return new zT(i).contentType}function P4(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}class Wa{constructor(e,t){let s=0,l="";hE(e)?(this.data_=e,s=e.size,l=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=l}size(){return this.size_}type(){return this.type_}slice(e,t){if(hE(this.data_)){const s=this.data_,l=A4(s,e,t);return l===null?null:new Wa(l)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new Wa(s,!0)}}static getBlob(...e){if(iy()){const t=e.map(s=>s instanceof Wa?s.data_:s);return new Wa(T4.apply(null,t))}else{const t=e.map(d=>ny(d)?C4(ps.RAW,d).data:d.data_);let s=0;t.forEach(d=>{s+=d.byteLength});const l=new Uint8Array(s);let h=0;return t.forEach(d=>{for(let v=0;v<d.length;v++)l[h++]=d[v]}),new Wa(l,!0)}}uploadData(){return this.data_}}function UT(i){let e;try{e=JSON.parse(i)}catch{return null}return p4(e)?e:null}function M4(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function O4(i,e){const t=e.split("/").filter(s=>s.length>0).join("/");return i.length===0?t:i+"/"+t}function BT(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}function L4(i,e){return e}class ni{constructor(e,t,s,l){this.server=e,this.local=t||e,this.writable=!!s,this.xform=l||L4}}let Vd=null;function k4(i){return!ny(i)||i.length<2?i:BT(i)}function qT(){if(Vd)return Vd;const i=[];i.push(new ni("bucket")),i.push(new ni("generation")),i.push(new ni("metageneration")),i.push(new ni("name","fullPath",!0));function e(h,d){return k4(d)}const t=new ni("name");t.xform=e,i.push(t);function s(h,d){return d!==void 0?Number(d):d}const l=new ni("size");return l.xform=s,i.push(l),i.push(new ni("timeCreated")),i.push(new ni("updated")),i.push(new ni("md5Hash",null,!0)),i.push(new ni("cacheControl",null,!0)),i.push(new ni("contentDisposition",null,!0)),i.push(new ni("contentEncoding",null,!0)),i.push(new ni("contentLanguage",null,!0)),i.push(new ni("contentType",null,!0)),i.push(new ni("metadata","customMetadata",!0)),Vd=i,Vd}function D4(i,e){function t(){const s=i.bucket,l=i.fullPath,h=new Hi(s,l);return e._makeStorageReference(h)}Object.defineProperty(i,"ref",{get:t})}function j4(i,e,t){const s={};s.type="file";const l=t.length;for(let h=0;h<l;h++){const d=t[h];s[d.local]=d.xform(s,e[d.server])}return D4(s,i),s}function HT(i,e,t){const s=UT(e);return s===null?null:j4(i,s,t)}function V4(i,e,t,s){const l=UT(e);if(l===null||!ny(l.downloadTokens))return null;const h=l.downloadTokens;if(h.length===0)return null;const d=encodeURIComponent;return h.split(",").map(x=>{const S=i.bucket,w=i.fullPath,N="/b/"+d(S)+"/o/"+d(w),O=Xf(N,t,s),K=DT({alt:"media",token:x});return O+K})[0]}function z4(i,e){const t={},s=e.length;for(let l=0;l<s;l++){const h=e[l];h.writable&&(t[h.server]=i[h.local])}return JSON.stringify(t)}class ry{constructor(e,t,s,l){this.url=e,this.method=t,this.handler=s,this.timeout=l,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function FT(i){if(!i)throw ty()}function U4(i,e){function t(s,l){const h=HT(i,l,e);return FT(h!==null),h}return t}function B4(i,e){function t(s,l){const h=HT(i,l,e);return FT(h!==null),V4(h,l,i.host,i._protocol)}return t}function GT(i){function e(t,s){let l;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?l=e4():l=JL():t.getStatus()===402?l=WL(i.bucket):t.getStatus()===403?l=t4(i.path):l=s,l.status=t.getStatus(),l.serverResponse=s.serverResponse,l}return e}function ZT(i){const e=GT(i);function t(s,l){let h=e(s,l);return s.getStatus()===404&&(h=XL(i.path)),h.serverResponse=l.serverResponse,h}return t}function q4(i,e,t){const s=e.fullServerUrl(),l=Xf(s,i.host,i._protocol),h="GET",d=i.maxOperationRetryTime,v=new ry(l,h,B4(i,t),d);return v.errorHandler=ZT(e),v}function H4(i,e){const t=e.fullServerUrl(),s=Xf(t,i.host,i._protocol),l="DELETE",h=i.maxOperationRetryTime;function d(y,x){}const v=new ry(s,l,d,h);return v.successCodes=[200,204],v.errorHandler=ZT(e),v}function F4(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function G4(i,e,t){const s=Object.assign({},t);return s.fullPath=i.path,s.size=e.size(),s.contentType||(s.contentType=F4(null,e)),s}function Z4(i,e,t,s,l){const h=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"};function v(){let J="";for(let X=0;X<2;X++)J=J+Math.random().toString().slice(2);return J}const y=v();d["Content-Type"]="multipart/related; boundary="+y;const x=G4(e,s,l),S=z4(x,t),w="--"+y+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+S+`\r
--`+y+`\r
Content-Type: `+x.contentType+`\r
\r
`,N=`\r
--`+y+"--",O=Wa.getBlob(w,s,N);if(O===null)throw o4();const K={name:x.fullPath},$=Xf(h,i.host,i._protocol),Z="POST",ce=i.maxUploadRetryTime,pe=new ry($,Z,U4(i,t),ce);return pe.urlParams=K,pe.headers=d,pe.body=O.uploadData(),pe.errorHandler=GT(e),pe}class K4{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ol.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ol.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ol.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,l,h){if(this.sent_)throw Iu("cannot .send() more than once");if(po(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),h!==void 0)for(const d in h)h.hasOwnProperty(d)&&this.xhr_.setRequestHeader(d,h[d].toString());return l!==void 0?this.xhr_.send(l):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Iu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Iu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Iu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Iu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Y4 extends K4{initXhr(){this.xhr_.responseType="text"}}function sy(){return new Y4}class fl{constructor(e,t){this._service=e,t instanceof Hi?this._location=t:this._location=Hi.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new fl(e,t)}get root(){const e=new Hi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return BT(this._location.path)}get storage(){return this._service}get parent(){const e=M4(this._location.path);if(e===null)return null;const t=new Hi(this._location.bucket,e);return new fl(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw u4(e)}}function Q4(i,e,t){i._throwIfRoot("uploadBytes");const s=Z4(i.storage,i._location,qT(),new Wa(e,!0),t);return i.storage.makeRequestWithTokens(s,sy).then(l=>({metadata:l,ref:i}))}function $4(i){i._throwIfRoot("getDownloadURL");const e=q4(i.storage,i._location,qT());return i.storage.makeRequestWithTokens(e,sy).then(t=>{if(t===null)throw l4();return t})}function X4(i){i._throwIfRoot("deleteObject");const e=H4(i.storage,i._location);return i.storage.makeRequestWithTokens(e,sy)}function W4(i,e){const t=O4(i._location.path,e),s=new Hi(i._location.bucket,t);return new fl(i.storage,s)}function J4(i){return/^[A-Za-z]+:\/\//.test(i)}function ek(i,e){return new fl(i,e)}function KT(i,e){if(i instanceof ay){const t=i;if(t._bucket==null)throw a4();const s=new fl(t,t._bucket);return e!=null?KT(s,e):s}else return e!==void 0?W4(i,e):i}function tk(i,e){if(e&&J4(e)){if(i instanceof ay)return ek(i,e);throw Qg("To use ref(service, url), the first argument must be a Storage instance.")}else return KT(i,e)}function fE(i,e){const t=e?.[LT];return t==null?null:Hi.makeFromBucketSpec(t,i)}function nk(i,e,t,s={}){i.host=`${e}:${t}`;const l=po(e);l&&(o_(`https://${i.host}/b`),l_("Storage",!0)),i._isUsingEmulator=!0,i._protocol=l?"https":"http";const{mockUserToken:h}=s;h&&(i._overrideAuthToken=typeof h=="string"?h:u1(h,i.app.options.projectId))}class ay{constructor(e,t,s,l,h,d=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=l,this._firebaseVersion=h,this._isUsingEmulator=d,this._bucket=null,this._host=OT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=QL,this._maxUploadRetryTime=$L,this._requests=new Set,l!=null?this._bucket=Hi.makeFromBucketSpec(l,this._host):this._bucket=fE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Hi.makeFromBucketSpec(this._url,e):this._bucket=fE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){dE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){dE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(pr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new fl(this,e)}_makeRequest(e,t,s,l,h=!0){if(this._deleted)return new h4(kT());{const d=E4(e,this._appId,s,l,t,this._firebaseVersion,h,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,t){const[s,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,l).getPromise()}}const mE="@firebase/storage",pE="0.14.0";const YT="storage";function ik(i,e,t){return i=Zt(i),Q4(i,e,t)}function rk(i){return i=Zt(i),$4(i)}function sk(i){return i=Zt(i),X4(i)}function QT(i,e){return i=Zt(i),tk(i,e)}function ak(i=h_(),e){i=Zt(i);const s=Af(i,YT).getImmediate({identifier:e}),l=o1("storage");return l&&ok(s,...l),s}function ok(i,e,t,s={}){nk(i,e,t,s)}function lk(i,{instanceIdentifier:e}){const t=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),l=i.getProvider("app-check-internal");return new ay(t,s,l,e,ml)}function ck(){cl(new so(YT,lk,"PUBLIC").setMultipleInstances(!0)),gs(mE,pE,""),gs(mE,pE,"esm2020")}ck();const uk={apiKey:"AIzaSyATwYL-vctnWrk0dMrixYq7qTV762mPERE",authDomain:"ballestrino-araque.firebaseapp.com",projectId:"ballestrino-araque",storageBucket:"ballestrino-araque.firebasestorage.app",messagingSenderId:"713530770968",appId:"1:713530770968:web:e49833887854f8fb70256d"},oy=f1(uk),Gi=ML(oy),dg=PP(oy),$T=ak(oy),XT=j.createContext(void 0),hk=({children:i})=>{const[e,t]=j.useState(null),[s,l]=j.useState(!0);j.useEffect(()=>vI(dg,x=>{t(x),l(!1)}),[]);const v={user:e,loading:s,login:async(y,x)=>{await gI(dg,y,x)},logout:async()=>{await xI(dg)}};return g.jsx(XT.Provider,{value:v,children:!s&&i})},ly=()=>{const i=j.useContext(XT);if(i===void 0)throw new Error("useAuth must be used within an AuthProvider");return i},dk=({children:i})=>{const{user:e}=ly();return e?g.jsx(g.Fragment,{children:i}):g.jsx(N2,{to:"/admin/login",replace:!0})},WT=j.createContext(void 0),fk=({children:i})=>{const[e,t]=j.useState(()=>{try{const h=localStorage.getItem("favorites");return h?JSON.parse(h):[]}catch(h){return console.error("Error parsing favorites:",h),[]}});j.useEffect(()=>{localStorage.setItem("favorites",JSON.stringify(e))},[e]);const s=(h,d)=>{d&&(d.preventDefault(),d.stopPropagation()),t(v=>v.includes(h)?v.filter(y=>y!==h):[...v,h])},l=h=>e.includes(h);return g.jsx(WT.Provider,{value:{favorites:e,toggleFavorite:s,isFavorite:l},children:i})},cy=()=>{const i=j.useContext(WT);if(!i)throw new Error("useFavorites must be used within a FavoritesProvider");return i};const mk=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pk=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),gE=i=>{const e=pk(i);return e.charAt(0).toUpperCase()+e.slice(1)},JT=(...i)=>i.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),gk=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var _k={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const yk=j.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:l="",children:h,iconNode:d,...v},y)=>j.createElement("svg",{ref:y,..._k,width:e,height:e,stroke:i,strokeWidth:s?Number(t)*24/Number(e):t,className:JT("lucide",l),...!h&&!gk(v)&&{"aria-hidden":"true"},...v},[...d.map(([x,S])=>j.createElement(x,S)),...Array.isArray(h)?h:[h]]));const De=(i,e)=>{const t=j.forwardRef(({className:s,...l},h)=>j.createElement(yk,{ref:h,iconNode:e,className:JT(`lucide-${mk(gE(i))}`,`lucide-${i}`,s),...l}));return t.displayName=gE(i),t};const vk=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],sh=De("arrow-left",vk);const xk=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Wd=De("arrow-right",xk);const bk=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],vf=De("banknote",bk);const Ek=[["path",{d:"M10 4 8 6",key:"1rru8s"}],["path",{d:"M17 19v2",key:"ts1sot"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"M7 19v2",key:"12npes"}],["path",{d:"M9 5 7.621 3.621A2.121 2.121 0 0 0 4 5v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"14ym8i"}]],eA=De("bath",Ek);const wk=[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]],Tk=De("bed-double",wk);const Ak=[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]],Sk=De("bed",Ak);const Ck=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Nk=De("bot",Ck);const Rk=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],_E=De("building",Rk);const Ik=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Pk=De("calendar",Ik);const Mk=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Ok=De("chart-column",Mk);const Lk=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],kk=De("check",Lk);const Dk=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],jk=De("chevron-right",Dk);const Vk=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],zk=De("chevron-left",Vk);const Uk=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],xf=De("clipboard-list",Uk);const Bk=[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]],qk=De("euro",Bk);const Hk=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Fk=De("external-link",Hk);const Gk=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Zk=De("eye-off",Gk);const Kk=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],yE=De("eye",Kk);const Yk=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Qk=De("flame",Yk);const $k=[["path",{d:"M10.5 3 8 9l4 13 4-13-2.5-6",key:"b3dvk1"}],["path",{d:"M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z",key:"7w4byz"}],["path",{d:"M2 9h20",key:"16fsjt"}]],Xk=De("gem",$k);const Wk=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],Jk=De("hammer",Wk);const eD=[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]],tD=De("handshake",eD);const nD=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],ah=De("heart",nD);const iD=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],fo=De("house",iD);const rD=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],sD=De("key",rD);const aD=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],fg=De("loader-circle",aD);const oD=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],lD=De("log-out",oD);const cD=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],bf=De("mail",cD);const uD=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Wf=De("map-pin",uD);const hD=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],dD=De("map",hD);const fD=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],mD=De("maximize-2",fD);const pD=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],vE=De("maximize",pD);const gD=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],_D=De("percent",gD);const yD=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],tA=De("phone",yD);const vD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],xE=De("plus",vD);const xD=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],bD=De("ruler",xD);const ED=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],$g=De("save",ED);const wD=[["path",{d:"m13.5 8.5-5 5",key:"1cs55j"}],["path",{d:"m8.5 8.5 5 5",key:"a8mexj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],TD=De("search-x",wD);const AD=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],uy=De("search",AD);const SD=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],CD=De("settings",SD);const ND=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],RD=De("shopping-bag",ND);const ID=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],PD=De("square-pen",ID);const MD=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],mg=De("star",MD);const OD=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],LD=De("store",OD);const kD=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],bE=De("sun",kD);const DD=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Xg=De("trash-2",DD);const jD=[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16H5a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z",key:"1l6gj6"}],["path",{d:"M7 16v6",key:"1a82de"}],["path",{d:"M13 19v3",key:"13sx9i"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5",key:"1sj9kv"}]],EE=De("trees",jD);const VD=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],zD=De("trending-up",VD);const UD=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],BD=De("truck",UD);const qD=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],wE=De("upload",qD);const HD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],FD=De("users",HD);const GD=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],TE=De("waves",GD);const ZD=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],KD=De("wind",ZD);const YD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],oh=De("x",YD),nA=({images:i,isOpen:e,currentIndex:t,onClose:s,onNext:l,onPrev:h})=>(j.useEffect(()=>{const d=v=>{e&&(v.key==="Escape"?s():v.key==="ArrowRight"?l():v.key==="ArrowLeft"&&h())};return window.addEventListener("keydown",d),e?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{window.removeEventListener("keydown",d),document.body.style.overflow=""}},[e,s,l,h]),e?YE.createPortal(g.jsxs("div",{className:"fixed inset-0 z-[9999] bg-black/95 flex items-center justify-center animate-in fade-in duration-200",onClick:s,children:[g.jsx("button",{onClick:s,className:"absolute top-6 right-6 z-[10000] p-3 text-white bg-white/10 hover:bg-white/20 rounded-full transition-all backdrop-blur-sm group","aria-label":"Cerrar",children:g.jsx(oh,{className:"w-10 h-10 md:w-12 md:h-12 group-hover:scale-110 transition-transform"})}),i.length>1&&g.jsx("button",{onClick:d=>{d.stopPropagation(),h()},className:"absolute left-4 z-[10000] p-2 text-white hover:bg-white/10 rounded-full transition-colors","aria-label":"Imagen anterior",children:g.jsx(zk,{className:"w-8 h-8 md:w-12 md:h-12"})}),g.jsx("div",{className:"relative max-w-[90vw] max-h-[90vh] w-full h-full flex items-center justify-center p-4",onClick:d=>d.stopPropagation(),children:g.jsx("img",{src:i[t],alt:`Imagen ${t+1} de ${i.length}`,className:"max-w-full max-h-full object-contain drop-shadow-2xl"})}),i.length>1&&g.jsx("button",{onClick:d=>{d.stopPropagation(),l()},className:"absolute right-4 z-[10000] p-2 text-white hover:bg-white/10 rounded-full transition-colors","aria-label":"Imagen siguiente",children:g.jsx(jk,{className:"w-8 h-8 md:w-12 md:h-12"})}),i.length>1&&g.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 z-[10000] px-4 py-2 bg-black/50 text-white rounded-full text-sm",children:[t+1," / ",i.length]})]}),document.body):null),QD=()=>{const[i,e]=j.useState(!1),[t,s]=j.useState(!1),l=Fr(),{favorites:h}=cy(),d=x=>l.pathname===x,v=l.pathname==="/",y=[{name:"Inicio",path:"/"},{name:"Propiedades",path:"/propiedades"},{name:"Encargos",path:"/encargos"},{name:"Inversores",path:"/inversores"}];return g.jsxs("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 py-4 ${v?"glass":"bg-[#C4A484]/95 backdrop-blur-md shadow-md"}`,children:[g.jsxs("div",{className:"container-custom flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{onClick:()=>s(!0),className:"cursor-pointer transition-transform hover:scale-110",children:g.jsx("img",{src:"/images/ballestrino-logo.png",alt:"Ballestrino-Araque Logo",className:"w-16 h-16 object-contain rounded-full shadow-lg bg-white/10 backdrop-blur-sm p-1"})}),g.jsxs(ft,{to:"/",className:"flex flex-col group",children:[g.jsx("span",{className:"text-2xl lg:text-3xl font-serif font-bold text-white tracking-wide drop-shadow-md group-hover:opacity-90 transition-opacity",children:"Ballestrino-Araque"}),g.jsx("span",{className:"text-[10px] lg:text-xs text-white/90 uppercase tracking-[0.2em] font-medium hidden sm:block",children:"Inmobiliaria Singular"})]})]}),g.jsxs("div",{className:"hidden md:flex items-center gap-10",children:[y.map(x=>g.jsx(ft,{to:x.path,className:`text-base font-medium uppercase tracking-wider transition-all duration-300 hover:text-white hover:scale-105 ${d(x.path)?"text-white border-b-2 border-white pb-1":"text-white/80 hover:border-b-2 hover:border-white/50 hover:pb-1"}`,children:x.name},x.path)),g.jsxs(ft,{to:"/favoritos",className:"relative group p-2 hover:bg-white/10 rounded-full transition-colors",children:[g.jsx(ah,{className:"w-6 h-6 text-white group-hover:scale-110 transition-transform"}),h.length>0&&g.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-[10px] font-bold w-4 h-4 flex items-center justify-center rounded-full animate-bounce shadow-sm",children:h.length})]})]}),g.jsx("button",{className:"md:hidden p-2 text-white",onClick:()=>e(!i),children:g.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i?g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),i&&g.jsxs("div",{className:"absolute top-full left-0 right-0 bg-white border-t border-gray-100 p-4 shadow-lg md:hidden flex flex-col gap-4 animate-in slide-in-from-top-5",children:[y.map(x=>g.jsx(ft,{to:x.path,className:`text-sm font-medium p-2 rounded-md transition-colors ${d(x.path)?"bg-[var(--color-primary)]/10 text-[var(--color-primary)]":"text-[var(--color-text)]"}`,onClick:()=>e(!1),children:x.name},x.path)),g.jsxs(ft,{to:"/favoritos",className:"text-sm font-medium p-2 rounded-md transition-colors text-[var(--color-text)] flex items-center gap-2",onClick:()=>e(!1),children:[g.jsx(ah,{className:"w-5 h-5 text-red-500"}),"Mis Favoritos (",h.length,")"]})]})]}),g.jsx(nA,{images:["/images/ballestrino-logo.png"],isOpen:t,currentIndex:0,onClose:()=>s(!1),onNext:()=>{},onPrev:()=>{}})]})},$D=()=>g.jsx("footer",{className:"border-t border-[var(--color-border)] bg-[var(--color-text)] text-white mt-auto",children:g.jsxs("div",{className:"container-custom section-padding",children:[g.jsxs("div",{className:"grid gap-8 md:grid-cols-3",children:[g.jsxs("div",{children:[g.jsx(ft,{to:"/",children:g.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[g.jsx("img",{src:"/images/ballestrino-logo.png",alt:"Ballestrino-Araque Logo",className:"h-16 w-16 object-contain rounded-full bg-white/10"}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-bold text-white",children:"Ballestrino-Araque"}),g.jsx("p",{className:"text-sm text-gray-400",children:"Inmobiliaria"})]})]})}),g.jsx("p",{className:"text-sm text-gray-400",children:"Especialistas en propiedades singulares. Tu hogar ideal te espera."})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"mb-4 text-sm font-semibold uppercase tracking-wider",children:"Enlaces"}),g.jsxs("nav",{className:"flex flex-col gap-2",children:[g.jsx(ft,{to:"/",className:"text-sm text-gray-400 transition-colors hover:text-white",children:"Inicio"}),g.jsx(ft,{to:"/propiedades",className:"text-sm text-gray-400 transition-colors hover:text-white",children:"Propiedades"}),g.jsx(ft,{to:"/encargos",className:"text-sm text-gray-400 transition-colors hover:text-white",children:"Encargos"}),g.jsx(ft,{to:"/inversores",className:"text-sm text-gray-400 transition-colors hover:text-white",children:"Inversores"})]})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"mb-4 text-sm font-semibold uppercase tracking-wider",children:"Contacto"}),g.jsxs("div",{className:"flex flex-col gap-2 text-sm text-gray-400",children:[g.jsx("a",{href:"https://mail.google.com/mail/?view=cm&fs=1&to=araquecarlota77@gmail.com",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white transition-colors",children:"araquecarlota77@gmail.com"}),g.jsx("a",{href:"tel:+34722713530",className:"hover:text-white transition-colors",children:"+34 722 71 35 30"}),g.jsx("p",{className:"text-xs text-gray-400",children:"Solo llamadas tardes (18:00 - 20:00)"}),g.jsx("p",{className:"text-xs text-[var(--color-primary)]",children:"* Preferible contacto por email"}),g.jsx("p",{children:"Segovia, Espaa"})]})]})]}),g.jsx("div",{className:"mt-8 border-t border-gray-700 pt-8 text-center text-sm text-gray-400",children:g.jsxs("p",{children:[" ",new Date().getFullYear()," Ballestrino-Araque. Todos los derechos reservados."]})})]})}),lt=({children:i,variant:e="primary",size:t="md",onClick:s,href:l,type:h="button",className:d="",disabled:v=!1})=>{const y="inline-flex items-center justify-center rounded-full font-semibold transition-all",x={primary:"btn-primary",secondary:"btn-secondary",outline:"border-2 border-[var(--color-primary)] text-[var(--color-primary)] hover:bg-[var(--color-primary)] hover:text-white"},S={sm:"px-4 py-2 text-sm",md:"px-6 py-3 text-base",lg:"px-8 py-4 text-lg"},w=`${y} ${x[e]} ${S[t]} ${d} ${v?"opacity-50 cursor-not-allowed":""}`.trim();return l?g.jsx("a",{href:l,className:w,children:i}):g.jsx("button",{type:h,onClick:v?void 0:s,className:w,disabled:v,children:i})},XD=()=>{const[i,e]=j.useState(!1);return g.jsxs("div",{className:"fixed bottom-6 right-6 z-50 flex flex-col items-end gap-4",children:[i&&g.jsxs("div",{className:"bg-white p-4 rounded-[var(--radius-lg)] shadow-xl border border-[var(--color-border)] max-w-xs animate-in slide-in-from-bottom-2 duration-300",children:[g.jsxs("div",{className:"flex justify-between items-start gap-4 mb-2",children:[g.jsx("h4",{className:"font-bold text-sm",children:"Asistente Virtual"}),g.jsx("button",{onClick:()=>e(!1),className:"text-gray-400 hover:text-gray-600",children:g.jsx(oh,{className:"w-4 h-4"})})]}),g.jsx("p",{className:"text-sm text-[var(--color-text-light)]",children:"Nuestro agente especial an no ha sido contratado! "})]}),g.jsx(lt,{className:"h-12 px-6 rounded-full shadow-xl flex items-center justify-center gap-2 hover:scale-105 transition-transform duration-300 bg-[var(--color-primary)] text-white",onClick:()=>e(!i),"aria-label":"Chatbot",children:g.jsx(Nk,{className:"w-6 h-6"})})]})},WD=()=>g.jsxs("div",{className:"min-h-screen flex flex-col",children:[g.jsx(QD,{}),g.jsx("main",{className:"flex-grow",children:g.jsx(qE,{})}),g.jsx($D,{}),g.jsx(XD,{})]}),JD=()=>{const i=mo(),{logout:e}=ly(),t=async()=>{confirm("Seguro que quieres cerrar sesin?")&&(await e(),i("/admin/login"))};return g.jsxs("div",{className:"min-h-screen bg-[var(--color-background)]",children:[g.jsx("header",{className:"bg-white border-b border-[var(--color-border)] shadow-sm",children:g.jsx("div",{className:"container-custom py-4",children:g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[g.jsxs("div",{className:"text-center md:text-left",children:[g.jsx(ft,{to:"/admin",className:"text-2xl font-serif font-bold text-[var(--color-primary)]",children:g.jsx("h1",{className:"text-xl font-serif font-bold",children:"Admin Panel"})}),g.jsx("p",{className:"text-sm text-[var(--color-text-light)]",children:"Ballestrino-Araque"}),g.jsxs(ft,{to:"/admin/settings",className:"text-xs text-[var(--color-primary)] hover:underline flex items-center gap-1 mt-1",children:[g.jsx(CD,{className:"w-3 h-3"}),"Configuracin Global"]})]}),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx(ft,{to:"/",children:g.jsxs(lt,{variant:"secondary",size:"sm",className:"flex items-center gap-2",children:[g.jsx(fo,{className:"w-4 h-4"}),"Ver Web"]})}),g.jsxs(lt,{variant:"secondary",size:"sm",onClick:t,className:"flex items-center gap-2",children:[g.jsx(lD,{className:"w-4 h-4"}),"Cerrar Sesin"]})]})]})})}),g.jsx("main",{className:"container-custom py-8",children:g.jsx(qE,{})})]})},Hr=({children:i,className:e="",hover:t=!1})=>{const s=t?"hover:shadow-[var(--shadow-lg)] hover:-translate-y-1 transition-all duration-300":"";return g.jsx("div",{className:`card-rustic ${s} ${e}`,children:i})},Gu=({children:i,variant:e="default",className:t=""})=>{const s={default:"bg-[var(--color-primary)]/10 text-[var(--color-primary)]",accent:"bg-[var(--color-accent)]/10 text-[var(--color-accent)]"};return g.jsx("span",{className:`inline-flex items-center rounded-full px-3 py-1 text-xs font-medium ${s[e]} ${t}`,children:i})},iA=({propertyId:i,className:e="",size:t=20})=>{const{isFavorite:s,toggleFavorite:l}=cy(),h=s(i);return g.jsx("button",{onClick:d=>l(i,d),className:`p-2 rounded-full transition-all duration-300 hover:scale-110 active:scale-95 ${h?"bg-red-50 text-red-500 hover:bg-red-100":"bg-white/80 backdrop-blur-sm text-gray-400 hover:text-red-500 hover:bg-white"} ${e}`,title:h?"Quitar de favoritos":"Aadir a favoritos",children:g.jsx(ah,{size:t,className:`transition-all duration-300 ${h?"fill-current":""}`})})},Jf=({property:i})=>g.jsxs(Hr,{hover:!0,className:"flex flex-col h-full group transition-all duration-300 hover:shadow-xl",children:[g.jsxs(ft,{to:`/propiedad/${i.id}`,className:"block relative mb-4 aspect-[4/3] overflow-hidden rounded-[var(--radius-md)]",children:[i.mainImage?g.jsx("img",{src:i.mainImage,alt:i.title,className:"h-full w-full object-cover group-hover:scale-105 transition-transform duration-500"}):g.jsx("img",{src:`/properties/prop${i.id.length%4+1}.png`,alt:i.title,className:"h-full w-full object-cover group-hover:scale-105 transition-transform duration-500"}),g.jsxs("div",{className:"absolute top-4 left-4 right-4 flex justify-between items-start z-10",children:[g.jsxs("div",{className:"flex flex-col gap-2",children:[g.jsx(Gu,{variant:i.operation==="opcion_compra"?"accent":"default",className:`${i.operation==="venta"?"bg-emerald-600 text-white":i.operation==="alquiler"?"bg-blue-600 text-white":"bg-gradient-to-r from-blue-600 to-emerald-600 text-white animate-pulse"} backdrop-blur-sm shadow-lg font-bold ${i.operation==="opcion_compra"?"text-xs":""}`,children:i.operation==="venta"?" VENTA":i.operation==="alquiler"?" ALQUILER":"ALQUILER+VENTA"}),i.isVIP&&g.jsx(Gu,{className:"bg-[#D4AF37] text-white border-none shadow-lg font-bold animate-pulse flex items-center gap-1",children:" COLECCIN PREMIUM"}),g.jsxs(Gu,{variant:"accent",className:"bg-white/95 backdrop-blur-sm shadow-lg font-bold text-[var(--color-primary)] w-fit",children:[i.price.toLocaleString("es-ES")," ",i.operation!=="venta"&&"/mes"]})]}),g.jsx(iA,{propertyId:i.id})]})]}),g.jsxs("div",{className:"flex-1 space-y-4",children:[g.jsx("div",{className:"flex justify-between items-start",children:g.jsx(ft,{to:`/propiedad/${i.id}`,className:"hover:text-[var(--color-primary)] transition-colors",children:g.jsx("h3",{className:"text-xl font-serif font-semibold line-clamp-1",children:i.title})})}),g.jsxs("p",{className:"text-sm text-[var(--color-text-light)] flex items-center gap-1.5",children:[g.jsx(Wf,{className:"w-4 h-4 text-[var(--color-primary)]"}),i.zone]}),g.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-[var(--color-text-light)] py-3 border-y border-[var(--color-border)]/50",children:[g.jsxs("span",{className:"flex items-center gap-1.5",children:[g.jsx(bD,{className:"w-4 h-4"})," ",i.area," m"]}),g.jsxs("span",{className:"flex items-center gap-1.5",children:[g.jsx(Tk,{className:"w-4 h-4"})," ",i.bedrooms]}),g.jsxs("span",{className:"flex items-center gap-1.5",children:[g.jsx(eA,{className:"w-4 h-4"})," ",i.bathrooms]})]}),g.jsx("p",{className:"text-sm leading-relaxed text-[var(--color-text-light)] line-clamp-2",children:i.description})]})]}),ej=[{id:1,title:"Inversin Rural",description:"Oportunidades nicas de alta rentabilidad en la sierra de Segovia.",icon:g.jsx(zD,{className:"w-6 h-6 text-white"}),color:"bg-[#556B2F]",link:"/inversores"},{id:2,title:"Asesora Integral",description:"Te guiamos en cada paso de la compra o venta de tu propiedad.",icon:g.jsx(FD,{className:"w-6 h-6 text-white"}),color:"bg-[#8B4513]"},{id:3,title:"Personal Shopper",description:"Buscamos por ti la casa de tus sueos, ahorrndote tiempo.",icon:g.jsx(fo,{className:"w-6 h-6 text-white"}),color:"bg-[#A0522D]"}],AE=()=>{const[i,e]=j.useState(ej),[t,s]=j.useState(!1),l=mo(),h=d=>{d.target.closest("button")||t||(s(!0),setTimeout(()=>{e(v=>{const y=[...v],x=y.shift();return x&&y.push(x),y}),s(!1)},600))};return j.useEffect(()=>{const d=setInterval(()=>{e(v=>{const y=[...v],x=y.shift();return x&&y.push(x),y})},5e3);return()=>clearInterval(d)},[]),g.jsx("div",{className:"relative w-full max-w-[280px] mx-auto h-[180px] md:h-[200px] perspective-1000 group cursor-pointer select-none",onClick:h,children:i.map((d,v)=>{const y=v===0,x=v===1,S=v===2;let w="",N=0,O=1;return y?t?(w="rotate(0deg) translateY(40px) translateX(0) scale(0.9)",N=0,O=.5):(w="rotate(0deg) translateY(0) translateX(0) scale(1)",N=30,O=1):x?(w="rotate(3deg) translateY(10px) translateX(10px) scale(0.98)",N=20,O=1):S&&(w="rotate(6deg) translateY(20px) translateX(20px) scale(0.96)",N=10,O=1),g.jsx("div",{className:"absolute inset-0 transition-all duration-700 ease-in-out",style:{transform:w,zIndex:N,opacity:O,transformOrigin:"bottom right"},children:g.jsxs(Hr,{className:`h-full flex flex-col justify-center p-5 border-none shadow-[0_8px_30px_rgb(0,0,0,0.12)] text-white ${d.color} rounded-3xl`,children:[g.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[g.jsx("div",{className:"bg-white/20 p-3 rounded-2xl shrink-0 shadow-inner",children:d.icon}),g.jsx("div",{children:g.jsx("h3",{className:"text-lg font-serif mb-1 font-bold tracking-tight text-white",children:d.title})})]}),g.jsx("p",{className:"text-white/90 leading-snug text-xs font-medium opacity-90 mb-3",children:d.description}),d.link&&g.jsxs("button",{onClick:K=>{K.stopPropagation(),l(d.link)},className:"self-start mt-auto flex items-center gap-1 text-xs font-bold bg-white/20 hover:bg-white/30 px-3 py-1.5 rounded-full transition-colors",children:["Ver ms ",g.jsx(Wd,{className:"w-3 h-3"})]})]})},d.id)})})},Eh="properties",em=async()=>{const i=Vc(Gi,Eh);return(await Qf(i)).docs.map(t=>{const s=t.data();return{id:t.id,...s,createdAt:s.createdAt?.toDate?s.createdAt.toDate():new Date,updatedAt:s.updatedAt?.toDate?s.updatedAt.toDate():new Date}})},tm=async i=>{const e=vo(Gi,Eh,i),t=await RT(e);return t.exists()?{id:t.id,...t.data()}:null},tj=async i=>{const e=Vc(Gi,Eh);return(await MT(e,{...i,createdAt:rh(),updatedAt:rh()})).id},nj=async(i,e)=>{const t=vo(Gi,Eh,i);await PT(t,{...e,updatedAt:rh()})},ij=async i=>{const e=vo(Gi,Eh,i),t=await tm(i);if(t&&t.images)try{const s=t.images.filter(l=>l.startsWith("http")).map(async l=>{try{const h=QT($T,l);await sk(h)}catch(h){console.error("Error deleting image:",l,h)}});await Promise.all(s)}catch(s){console.error("Error processing image deletions:",s)}await ey(e)},SE=async(i,e)=>{const t=i.map(async(s,l)=>{const h=Date.now(),d=`${e}_${h}_${l}.${s.name.split(".").pop()}`,v=QT($T,`properties/${d}`);return await ik(v,s),await rk(v)});return Promise.all(t)},xl=({title:i="Ballestrino-Araque | Inmobiliaria Singular en Segovia",description:e="Inmobiliaria de confianza. No espere para comprar, compre y espere. Especialistas en propiedades singulares y exclusivas en la sierra de Segovia.",image:t="/images/ballestrino-logo.png",url:s=window.location.href,type:l="website",structuredData:h})=>{const d="Ballestrino-Araque",v=i===d?i:`${i} | ${d}`,y=t.startsWith("http")?t:`${window.location.origin}${t}`;return g.jsxs(jC,{children:[g.jsx("title",{children:v}),g.jsx("meta",{name:"description",content:e}),g.jsx("link",{rel:"canonical",href:s}),g.jsx("meta",{property:"og:type",content:l}),g.jsx("meta",{property:"og:title",content:v}),g.jsx("meta",{property:"og:description",content:e}),g.jsx("meta",{property:"og:image",content:y}),g.jsx("meta",{property:"og:url",content:s}),g.jsx("meta",{property:"og:site_name",content:d}),g.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),g.jsx("meta",{name:"twitter:title",content:v}),g.jsx("meta",{name:"twitter:description",content:e}),g.jsx("meta",{name:"twitter:image",content:y}),h&&g.jsx("script",{type:"application/ld+json",children:JSON.stringify(h)})]})},rA="settings",sA="general",hy=async()=>{const i=vo(Gi,rA,sA),e=await RT(i);return e.exists()?e.data():{magazineUrl:"",magazineActive:!1}},rj=async i=>{const e=vo(Gi,rA,sA);await KL(e,{...i,updatedAt:rh()},{merge:!0})},sj=()=>{const[i,e]=j.useState([]),[t,s]=j.useState(!0),[l,h]=j.useState({magazineUrl:"",magazineActive:!1}),d={"@context":"https://schema.org","@type":"RealEstateAgent",name:"Ballestrino-Araque",image:"https://ballestrino-araque.com/images/ballestrino-logo.png",description:"Inmobiliaria de confianza especialistas en propiedades singulares en la Sierra de Segovia.",address:{"@type":"PostalAddress",addressLocality:"Segovia",addressRegion:"Segovia",addressCountry:"ES"},telephone:"+34 722 71 35 30",url:"https://ballestrino-araque.com"};return j.useEffect(()=>{(async()=>{try{const[y,x]=await Promise.all([em(),hy()]),S=y.filter(N=>N.highlighted),w=S.length>0?S:y;w.length>0?e(w.slice(0,6)):e([]),x&&h({magazineUrl:x.magazineUrl||"",magazineActive:x.magazineActive||!1})}catch(y){console.error("Error fetching data:",y)}finally{s(!1)}})()},[]),g.jsxs("div",{className:"space-y-20 pb-20",children:[g.jsx(xl,{title:"Inicio",structuredData:d}),g.jsxs("section",{className:"relative pt-32 pb-20 lg:pt-40 lg:pb-32 overflow-hidden min-h-[80vh] flex items-center",children:[g.jsxs("div",{className:"absolute inset-0 z-0",children:[g.jsx("img",{src:"/images/sierra-view.png",alt:"Sierra de El Espinar",className:"w-full h-full object-cover"}),g.jsx("div",{className:"absolute inset-0 bg-black/50"})]}),g.jsx("div",{className:"container-custom relative z-10 text-white",children:g.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[g.jsxs("div",{className:"text-center lg:text-left space-y-8",children:[g.jsx("span",{className:"inline-block px-4 py-1.5 rounded-full text-sm font-medium tracking-wider uppercase bg-white/10 backdrop-blur-sm border border-white/20 mb-4",children:"Ballestrino-Araque"}),g.jsxs("h1",{className:"text-balance text-4xl lg:text-6xl font-serif leading-tight animate-fade-in-up text-white",style:{animationDelay:"0.2s"},children:["No espere para comprar, ",g.jsx("span",{className:"text-[#D4AF37]",children:"compre y espere"})]}),g.jsx("p",{className:"text-lg text-gray-200 text-balance leading-relaxed max-w-2xl mx-auto lg:mx-0 animate-fade-in-up",style:{animationDelay:"0.6s"},children:"Inmobiliaria de Confianza. Especialistas en propiedades singulares."}),g.jsx("div",{className:"flex flex-wrap justify-center lg:justify-start gap-4 pt-4",children:g.jsx(ft,{to:"/propiedades",children:g.jsx(lt,{size:"lg",children:"Ver Propiedades"})})})]}),g.jsx("div",{className:"relative hidden lg:block",children:g.jsx(AE,{})}),g.jsx("div",{className:"lg:hidden",children:g.jsx(AE,{})})]})}),g.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden -z-0 pointer-events-none",children:[g.jsx("div",{className:"absolute -top-[20%] -left-[10%] w-[50%] h-[50%] rounded-full bg-[var(--color-primary)]/5 blur-3xl"}),g.jsx("div",{className:"absolute top-[40%] -right-[10%] w-[40%] h-[60%] rounded-full bg-[var(--color-accent)]/5 blur-3xl"})]})]}),g.jsxs("section",{className:"py-20 bg-[var(--color-primary)] text-white relative overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 bg-black/10"}),g.jsxs("div",{className:"container-custom relative z-10 text-center",children:[g.jsx("h2",{className:"text-3xl md:text-5xl font-serif mb-6",children:"No sabes por dnde empezar?"}),g.jsx("p",{className:"text-xl opacity-90 mb-10 max-w-2xl mx-auto",children:"Realiza nuestro test de 1 minuto y descubre qu propiedades encajan mejor con tu estilo de vida."}),g.jsx(ft,{to:"/quiz",children:g.jsx(lt,{size:"lg",className:"bg-white text-[var(--color-primary)] hover:bg-gray-100 border-none text-lg px-10 py-6 h-auto shadow-2xl",children:"Empezar el Test"})})]})]}),g.jsxs("section",{className:"container-custom",children:[g.jsxs("div",{className:"flex justify-between items-end mb-12",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"mb-2",children:"Propiedades Destacadas"}),g.jsx("p",{className:"text-[var(--color-text-light)]",children:"Descubre nuestras incorporaciones ms exclusivas"})]}),g.jsx(ft,{to:"/propiedades",className:"hidden md:block",children:g.jsx(lt,{variant:"secondary",size:"sm",children:"Ver todas"})})]}),t?g.jsx("div",{className:"flex justify-center py-20",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[var(--color-primary)]"})}):i.length===0?g.jsx("div",{className:"text-center py-12",children:g.jsx("p",{className:"text-[var(--color-text-light)]",children:"No hay propiedades destacadas disponibles"})}):g.jsx(aj,{items:i})]}),g.jsxs("section",{className:"bg-[var(--color-primary)] py-24 border-t border-[var(--color-primary-dark)] relative overflow-hidden",children:[g.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"radial-gradient(circle at 2px 2px, white 1px, transparent 0)",backgroundSize:"32px 32px"}}),g.jsx("div",{className:"container-custom relative z-10",children:g.jsxs("div",{className:"bg-white rounded-3xl p-8 md:p-16 shadow-2xl border border-white/20 relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-[var(--color-primary)]/10 rounded-full -mr-16 -mt-16 blur-3xl"}),g.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center relative z-10",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-[var(--color-primary)]/10 text-[var(--color-primary)] rounded-full text-sm font-semibold mb-6",children:[g.jsx(xf,{className:"w-4 h-4"}),g.jsx("span",{children:"Servicio Personalizado"})]}),g.jsx("h2",{className:"text-3xl md:text-4xl font-serif mb-6 text-[var(--color-text)]",children:"Buzn de Encargos"}),g.jsx("p",{className:"text-[var(--color-text-light)] text-lg mb-8 leading-relaxed",children:"Buscas una propiedad con caractersticas especficas? Cuntanos qu necesitas. Nuestro equipo activar una bsqueda personalizada en nuestra red de propietarios y oportunidades off-market para encontrar tu hogar ideal."}),g.jsx(ft,{to:"/encargos",className:"inline-flex items-center justify-center rounded-full font-semibold transition-all btn-primary px-8 py-4 text-base shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:"Realizar Encargo"})]}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"aspect-square rounded-2xl bg-[var(--color-background)] p-8 flex items-center justify-center border border-[#E5E5E0]",children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"w-20 h-20 bg-[var(--color-primary)]/10 rounded-full flex items-center justify-center mx-auto mb-6 text-[var(--color-primary)]",children:g.jsx(uy,{className:"w-10 h-10"})}),g.jsx("h3",{className:"text-xl font-serif font-bold mb-2",children:"Bsqueda Activa"}),g.jsx("p",{className:"text-sm text-[var(--color-text-light)]",children:"Rastreamos el mercado por ti"})]})}),g.jsx("div",{className:"absolute -bottom-6 -left-6 w-24 h-24 bg-[#8B4513]/10 rounded-full blur-xl"})]})]})]})})]}),g.jsx("section",{className:"container-custom py-8",children:g.jsxs("div",{className:"relative rounded-3xl overflow-hidden min-h-[300px] flex items-center",children:[g.jsxs("div",{className:"absolute inset-0",children:[g.jsx("img",{src:"/images/sierra-view.png",alt:"",className:"w-full h-full object-cover transition-transform duration-700 hover:scale-105"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 via-black/40 to-transparent"})]}),g.jsxs("div",{className:"relative z-10 p-8 md:p-12 max-w-2xl text-white",children:[g.jsx("span",{className:"inline-block px-4 py-1.5 rounded-full text-xs font-bold tracking-wider uppercase bg-[#D4AF37] text-black mb-4",children:"Lifestyle & Cultura"}),g.jsx("h2",{className:"text-2xl md:text-3xl font-serif mb-4 leading-tight",children:"El Peridico del Pueblo"}),g.jsxs("p",{className:"text-base text-gray-200 mb-6 leading-relaxed",children:["Descubre la verdadera esencia de vivir en la sierra. Entrevistas con artesanos locales, rutas secretas, gastronoma tradicional y agenda cultural.",g.jsx("br",{}),g.jsx("br",{}),!l.magazineActive||!l.magazineUrl?g.jsx("span",{className:"italic text-[#D4AF37]",children:"Prximamente..."}):null]}),l.magazineActive&&l.magazineUrl&&g.jsx("a",{href:l.magazineUrl,target:"_blank",rel:"noopener noreferrer",children:g.jsx(lt,{variant:"secondary",className:"bg-white/10 backdrop-blur-md border border-white/20 text-white hover:bg-white hover:text-black",children:"Leer el Peridico"})}),(!l.magazineActive||!l.magazineUrl)&&g.jsx(lt,{variant:"secondary",disabled:!0,className:"bg-white/5 border border-white/10 text-white/50 cursor-not-allowed",children:"Suscribirse"})]})]})})]})},aj=({items:i})=>{const[e,t]=j.useState(0),[s,l]=j.useState(!1),h=_r.useRef(null),[d,v]=j.useState(0),[y,x]=j.useState(3),[S,w]=j.useState(!0);j.useEffect(()=>{const $=()=>{if(h.current){const Z=h.current.offsetWidth;let ce=3;Z<768?ce=1:Z<1024&&(ce=2),x(ce),v(Z/ce)}};return $(),window.addEventListener("resize",$),()=>window.removeEventListener("resize",$)},[]);const N=[...i,...i];j.useEffect(()=>{if(s||i.length<=y)return;const $=setInterval(()=>{O()},4e3);return()=>clearInterval($)},[s,i.length,y,e]);const O=()=>{e>=i.length?(w(!1),t(0),requestAnimationFrame(()=>{requestAnimationFrame(()=>{w(!0),t(1)})})):(w(!0),t($=>$+1))},K=()=>{e>=i.length&&(w(!1),t(0))};return g.jsxs("div",{ref:h,className:"relative overflow-hidden",onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[g.jsx("div",{className:"flex",style:{transform:`translateX(-${e*d}px)`,width:`${N.length*d}px`,transition:S?"transform 700ms ease-in-out":"none"},onTransitionEnd:K,children:N.map(($,Z)=>g.jsx("div",{className:"flex-shrink-0 px-3",style:{width:`${d}px`},children:g.jsx(Jf,{property:$})},`${$.id}-${Z}`))}),g.jsx("div",{className:"flex justify-center gap-2 mt-8",children:i.map(($,Z)=>g.jsx("button",{className:`w-2 h-2 rounded-full transition-colors ${e%i.length===Z?"bg-[var(--color-primary)]":"bg-gray-300"}`,onClick:()=>{w(!0),t(Z)},"aria-label":`Go to slide ${Z+1}`},Z))})]})},pg=({label:i,options:e,error:t,className:s="",...l})=>g.jsxs("div",{className:"w-full",children:[i&&g.jsx("label",{className:"mb-2 block text-sm font-medium text-[var(--color-text)]",children:i}),g.jsx("select",{className:`w-full rounded-lg border border-[var(--color-border)] px-4 py-3 focus:border-[var(--color-primary)] focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)]/20 bg-white ${s}`,...l,children:e.map(h=>g.jsx("option",{value:h.value,children:h.label},h.value))}),t&&g.jsx("p",{className:"mt-1 text-sm text-red-500",children:t})]}),oj=({filters:i,onFilterChange:e})=>g.jsx("div",{className:"bg-white p-4 rounded-[var(--radius-md)] shadow-sm border border-[var(--color-border)] mb-8",children:g.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[g.jsx(pg,{label:"Operacin",value:i.operation,onChange:t=>e("operation",t.target.value),options:[{value:"all",label:"Todas"},{value:"venta",label:"Venta"},{value:"alquiler",label:"Alquiler"},{value:"opcion_compra",label:"Alquiler con opcin a compra"}]}),g.jsx(pg,{label:"Zona",value:i.zone,onChange:t=>e("zone",t.target.value),options:[{value:"all",label:"Todas las zonas"},{value:"Segovia",label:"Segovia"},{value:"La Granja",label:"La Granja"},{value:"El Espinar",label:"El Espinar"},{value:"Pedraza",label:"Pedraza"}]}),g.jsx(pg,{label:"Tipo de inmueble",value:i.type,onChange:t=>e("type",t.target.value),options:[{value:"all",label:"Todos los tipos"},{value:"Casa de Pueblo",label:"Casa de Pueblo"},{value:"Masa",label:"Masa"},{value:"Cortijo",label:"Cortijo"},{value:"Piso",label:"Piso"}]})]})}),lj=()=>{const[i]=sC(),[e,t]=j.useState({operation:"all",zone:"all",type:"all",features:[]}),[s,l]=j.useState([]),[h,d]=j.useState(""),[v,y]=j.useState(!0);j.useEffect(()=>{const w=i.get("operation"),N=i.get("type"),O=i.get("features");t(K=>({...K,operation:w||"all",type:N||"all",features:O?O.split(","):[]}))},[i]),j.useEffect(()=>{(async()=>{try{const N=await em();l(N)}catch(N){console.error("Error fetching properties:",N),d(`Error al cargar propiedades: ${N.message||"Desconocido"}`)}finally{y(!1)}})()},[]);const x=(w,N)=>{t(O=>({...O,[w]:N}))},S=j.useMemo(()=>s.filter(w=>{if(e.operation!=="all"&&w.operation!==e.operation||e.zone!=="all"&&w.zone!==e.zone||e.type!=="all"&&w.type!==e.type)return!1;if(e.features.length>0){const N=w.features||[];if(!e.features.every(K=>N.includes(K)))return!1}return!0}),[e,s]);return g.jsxs("div",{className:"container-custom py-12 pt-32",children:[g.jsx(xl,{title:"Propiedades",description:"Descubre nuestra seleccin de propiedades singulares en la Sierra de Segovia."}),g.jsxs("div",{className:"mb-8",children:[g.jsx("h1",{className:"mb-4",children:"Nuestras Propiedades"}),g.jsx("p",{className:"text-[var(--color-text-light)] max-w-2xl",children:"Explora nuestra cartera de inmuebles singulares. Utiliza los filtros para encontrar exactamente lo que buscas."}),e.features.length>0&&g.jsxs("div",{className:"mt-4 flex gap-2",children:[g.jsxs("span",{className:"text-sm font-bold text-green-600 bg-green-50 px-3 py-1 rounded-full",children:["Filtrando por: ",e.features.join(", ")]}),g.jsx("button",{onClick:()=>t(w=>({...w,features:[]})),className:"text-xs text-gray-500 underline self-center",children:"Limpiar extras"})]})]}),g.jsx(oj,{filters:e,onFilterChange:x}),v?g.jsx("div",{className:"flex justify-center py-20",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[var(--color-primary)]"})}):S.length===0?g.jsx("div",{className:"text-center py-16 bg-gray-50 rounded-2xl border border-gray-100",children:h?g.jsxs("div",{className:"max-w-md mx-auto",children:[g.jsx("p",{className:"text-red-500 font-semibold mb-2",children:" Error de Conexin"}),g.jsx("p",{className:"text-sm text-gray-600 mb-4",children:h}),g.jsx("p",{className:"text-xs text-gray-500",children:"Es necesario configurar los permisos en Firebase Console > Firestore > Rules para permitir lectura pblica."})]}):g.jsxs(g.Fragment,{children:[g.jsx("p",{className:"text-xl text-[var(--color-text-light)] mb-2",children:"No se encontraron propiedades"}),g.jsx("p",{className:"text-sm text-[var(--color-text-light)]",children:"Prueba con otros filtros"}),g.jsx("button",{onClick:()=>window.location.href="/propiedades",className:"mt-4 text-[var(--color-primary)] underline",children:"Ver todas"})]})}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"mb-6 text-[var(--color-text-light)]",children:["Mostrando ",S.length," propiedad",S.length!==1?"es":""]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:S.map(w=>g.jsx(Jf,{property:w},w.id))})]})]})};function aA(i,e){const t=j.useRef(e);j.useEffect(function(){e!==t.current&&i.attributionControl!=null&&(t.current!=null&&i.attributionControl.removeAttribution(t.current),e!=null&&i.attributionControl.addAttribution(e)),t.current=e},[i,e])}const cj=1;function uj(i){return Object.freeze({__version:cj,map:i})}function hj(i,e){return Object.freeze({...i,...e})}const dy=j.createContext(null);function oA(){const i=j.use(dy);if(i==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return i}function dj(i){function e(t,s){const{instance:l,context:h}=i(t).current;j.useImperativeHandle(s,()=>l);const{children:d}=t;return d==null?null:_r.createElement(dy,{value:h},d)}return j.forwardRef(e)}function fj(i){function e(t,s){const[l,h]=j.useState(!1),{instance:d}=i(t,h).current;j.useImperativeHandle(s,()=>d),j.useEffect(function(){l&&d.update()},[d,l,t.children]);const v=d._contentNode;return v?YE.createPortal(t.children,v):null}return j.forwardRef(e)}function mj(i){function e(t,s){const{instance:l}=i(t).current;return j.useImperativeHandle(s,()=>l),null}return j.forwardRef(e)}function lA(i,e){const t=j.useRef(void 0);j.useEffect(function(){return e!=null&&i.instance.on(e),t.current=e,function(){t.current!=null&&i.instance.off(t.current),t.current=null}},[i,e])}function fy(i,e){const t=i.pane??e.pane;return t?{...i,pane:t}:i}function pj(i,e){return function(s,l){const h=oA(),d=i(fy(s,h),h);return aA(h.map,s.attribution),lA(d.current,s.eventHandlers),e(d.current,h,s,l),d}}var ju={exports:{}};var gj=ju.exports,CE;function _j(){return CE||(CE=1,(function(i,e){(function(t,s){s(e)})(gj,(function(t){var s="1.9.4";function l(a){var c,m,b,T;for(m=1,b=arguments.length;m<b;m++){T=arguments[m];for(c in T)a[c]=T[c]}return a}var h=Object.create||(function(){function a(){}return function(c){return a.prototype=c,new a}})();function d(a,c){var m=Array.prototype.slice;if(a.bind)return a.bind.apply(a,m.call(arguments,1));var b=m.call(arguments,2);return function(){return a.apply(c,b.length?b.concat(m.call(arguments)):arguments)}}var v=0;function y(a){return"_leaflet_id"in a||(a._leaflet_id=++v),a._leaflet_id}function x(a,c,m){var b,T,R,V;return V=function(){b=!1,T&&(R.apply(m,T),T=!1)},R=function(){b?T=arguments:(a.apply(m,arguments),setTimeout(V,c),b=!0)},R}function S(a,c,m){var b=c[1],T=c[0],R=b-T;return a===b&&m?a:((a-T)%R+R)%R+T}function w(){return!1}function N(a,c){if(c===!1)return a;var m=Math.pow(10,c===void 0?6:c);return Math.round(a*m)/m}function O(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function K(a){return O(a).split(/\s+/)}function $(a,c){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?h(a.options):{});for(var m in c)a.options[m]=c[m];return a.options}function Z(a,c,m){var b=[];for(var T in a)b.push(encodeURIComponent(m?T.toUpperCase():T)+"="+encodeURIComponent(a[T]));return(!c||c.indexOf("?")===-1?"?":"&")+b.join("&")}var ce=/\{ *([\w_ -]+) *\}/g;function pe(a,c){return a.replace(ce,function(m,b){var T=c[b];if(T===void 0)throw new Error("No value provided for variable "+m);return typeof T=="function"&&(T=T(c)),T})}var J=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function X(a,c){for(var m=0;m<a.length;m++)if(a[m]===c)return m;return-1}var _e="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Ee(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var k=0;function M(a){var c=+new Date,m=Math.max(0,16-(c-k));return k=c+m,window.setTimeout(a,m)}var D=window.requestAnimationFrame||Ee("RequestAnimationFrame")||M,H=window.cancelAnimationFrame||Ee("CancelAnimationFrame")||Ee("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function B(a,c,m){if(m&&D===M)a.call(c);else return D.call(window,d(a,c))}function G(a){a&&H.call(window,a)}var z={__proto__:null,extend:l,create:h,bind:d,get lastId(){return v},stamp:y,throttle:x,wrapNum:S,falseFn:w,formatNum:N,trim:O,splitWords:K,setOptions:$,getParamString:Z,template:pe,isArray:J,indexOf:X,emptyImageUrl:_e,requestFn:D,cancelFn:H,requestAnimFrame:B,cancelAnimFrame:G};function ct(){}ct.extend=function(a){var c=function(){$(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},m=c.__super__=this.prototype,b=h(m);b.constructor=c,c.prototype=b;for(var T in this)Object.prototype.hasOwnProperty.call(this,T)&&T!=="prototype"&&T!=="__super__"&&(c[T]=this[T]);return a.statics&&l(c,a.statics),a.includes&&(rn(a.includes),l.apply(null,[b].concat(a.includes))),l(b,a),delete b.statics,delete b.includes,b.options&&(b.options=m.options?h(m.options):{},l(b.options,a.options)),b._initHooks=[],b.callInitHooks=function(){if(!this._initHooksCalled){m.callInitHooks&&m.callInitHooks.call(this),this._initHooksCalled=!0;for(var R=0,V=b._initHooks.length;R<V;R++)b._initHooks[R].call(this)}},c},ct.include=function(a){var c=this.prototype.options;return l(this.prototype,a),a.options&&(this.prototype.options=c,this.mergeOptions(a.options)),this},ct.mergeOptions=function(a){return l(this.prototype.options,a),this},ct.addInitHook=function(a){var c=Array.prototype.slice.call(arguments,1),m=typeof a=="function"?a:function(){this[a].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(m),this};function rn(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=J(a)?a:[a];for(var c=0;c<a.length;c++)a[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ae={on:function(a,c,m){if(typeof a=="object")for(var b in a)this._on(b,a[b],c);else{a=K(a);for(var T=0,R=a.length;T<R;T++)this._on(a[T],c,m)}return this},off:function(a,c,m){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var b in a)this._off(b,a[b],c);else{a=K(a);for(var T=arguments.length===1,R=0,V=a.length;R<V;R++)T?this._off(a[R]):this._off(a[R],c,m)}return this},_on:function(a,c,m,b){if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}if(this._listens(a,c,m)===!1){m===this&&(m=void 0);var T={fn:c,ctx:m};b&&(T.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(T)}},_off:function(a,c,m){var b,T,R;if(this._events&&(b=this._events[a],!!b)){if(arguments.length===1){if(this._firingCount)for(T=0,R=b.length;T<R;T++)b[T].fn=w;delete this._events[a];return}if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}var V=this._listens(a,c,m);if(V!==!1){var Q=b[V];this._firingCount&&(Q.fn=w,this._events[a]=b=b.slice()),b.splice(V,1)}}},fire:function(a,c,m){if(!this.listens(a,m))return this;var b=l({},c,{type:a,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var T=this._events[a];if(T){this._firingCount=this._firingCount+1||1;for(var R=0,V=T.length;R<V;R++){var Q=T[R],ne=Q.fn;Q.once&&this.off(a,ne,Q.ctx),ne.call(Q.ctx||this,b)}this._firingCount--}}return m&&this._propagateEvent(b),this},listens:function(a,c,m,b){typeof a!="string"&&console.warn('"string" type argument expected');var T=c;typeof c!="function"&&(b=!!c,T=void 0,m=void 0);var R=this._events&&this._events[a];if(R&&R.length&&this._listens(a,T,m)!==!1)return!0;if(b){for(var V in this._eventParents)if(this._eventParents[V].listens(a,c,m,b))return!0}return!1},_listens:function(a,c,m){if(!this._events)return!1;var b=this._events[a]||[];if(!c)return!!b.length;m===this&&(m=void 0);for(var T=0,R=b.length;T<R;T++)if(b[T].fn===c&&b[T].ctx===m)return T;return!1},once:function(a,c,m){if(typeof a=="object")for(var b in a)this._on(b,a[b],c,!0);else{a=K(a);for(var T=0,R=a.length;T<R;T++)this._on(a[T],c,m,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[y(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[y(a)],this},_propagateEvent:function(a){for(var c in this._eventParents)this._eventParents[c].fire(a.type,l({layer:a.target,propagatedFrom:a.target},a),!0)}};ae.addEventListener=ae.on,ae.removeEventListener=ae.clearAllEventListeners=ae.off,ae.addOneTimeEventListener=ae.once,ae.fireEvent=ae.fire,ae.hasEventListeners=ae.listens;var be=ct.extend(ae);function ge(a,c,m){this.x=m?Math.round(a):a,this.y=m?Math.round(c):c}var tt=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};ge.prototype={clone:function(){return new ge(this.x,this.y)},add:function(a){return this.clone()._add(Se(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(Se(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new ge(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new ge(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=tt(this.x),this.y=tt(this.y),this},distanceTo:function(a){a=Se(a);var c=a.x-this.x,m=a.y-this.y;return Math.sqrt(c*c+m*m)},equals:function(a){return a=Se(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=Se(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+N(this.x)+", "+N(this.y)+")"}};function Se(a,c,m){return a instanceof ge?a:J(a)?new ge(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new ge(a.x,a.y):new ge(a,c,m)}function q(a,c){if(a)for(var m=c?[a,c]:a,b=0,T=m.length;b<T;b++)this.extend(m[b])}q.prototype={extend:function(a){var c,m;if(!a)return this;if(a instanceof ge||typeof a[0]=="number"||"x"in a)c=m=Se(a);else if(a=oe(a),c=a.min,m=a.max,!c||!m)return this;return!this.min&&!this.max?(this.min=c.clone(),this.max=m.clone()):(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(m.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(m.y,this.max.y)),this},getCenter:function(a){return Se((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return Se(this.min.x,this.max.y)},getTopRight:function(){return Se(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var c,m;return typeof a[0]=="number"||a instanceof ge?a=Se(a):a=oe(a),a instanceof q?(c=a.min,m=a.max):c=m=a,c.x>=this.min.x&&m.x<=this.max.x&&c.y>=this.min.y&&m.y<=this.max.y},intersects:function(a){a=oe(a);var c=this.min,m=this.max,b=a.min,T=a.max,R=T.x>=c.x&&b.x<=m.x,V=T.y>=c.y&&b.y<=m.y;return R&&V},overlaps:function(a){a=oe(a);var c=this.min,m=this.max,b=a.min,T=a.max,R=T.x>c.x&&b.x<m.x,V=T.y>c.y&&b.y<m.y;return R&&V},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var c=this.min,m=this.max,b=Math.abs(c.x-m.x)*a,T=Math.abs(c.y-m.y)*a;return oe(Se(c.x-b,c.y-T),Se(m.x+b,m.y+T))},equals:function(a){return a?(a=oe(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function oe(a,c){return!a||a instanceof q?a:new q(a,c)}function ye(a,c){if(a)for(var m=c?[a,c]:a,b=0,T=m.length;b<T;b++)this.extend(m[b])}ye.prototype={extend:function(a){var c=this._southWest,m=this._northEast,b,T;if(a instanceof Ae)b=a,T=a;else if(a instanceof ye){if(b=a._southWest,T=a._northEast,!b||!T)return this}else return a?this.extend(Te(a)||ve(a)):this;return!c&&!m?(this._southWest=new Ae(b.lat,b.lng),this._northEast=new Ae(T.lat,T.lng)):(c.lat=Math.min(b.lat,c.lat),c.lng=Math.min(b.lng,c.lng),m.lat=Math.max(T.lat,m.lat),m.lng=Math.max(T.lng,m.lng)),this},pad:function(a){var c=this._southWest,m=this._northEast,b=Math.abs(c.lat-m.lat)*a,T=Math.abs(c.lng-m.lng)*a;return new ye(new Ae(c.lat-b,c.lng-T),new Ae(m.lat+b,m.lng+T))},getCenter:function(){return new Ae((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ae(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ae(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof Ae||"lat"in a?a=Te(a):a=ve(a);var c=this._southWest,m=this._northEast,b,T;return a instanceof ye?(b=a.getSouthWest(),T=a.getNorthEast()):b=T=a,b.lat>=c.lat&&T.lat<=m.lat&&b.lng>=c.lng&&T.lng<=m.lng},intersects:function(a){a=ve(a);var c=this._southWest,m=this._northEast,b=a.getSouthWest(),T=a.getNorthEast(),R=T.lat>=c.lat&&b.lat<=m.lat,V=T.lng>=c.lng&&b.lng<=m.lng;return R&&V},overlaps:function(a){a=ve(a);var c=this._southWest,m=this._northEast,b=a.getSouthWest(),T=a.getNorthEast(),R=T.lat>c.lat&&b.lat<m.lat,V=T.lng>c.lng&&b.lng<m.lng;return R&&V},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,c){return a?(a=ve(a),this._southWest.equals(a.getSouthWest(),c)&&this._northEast.equals(a.getNorthEast(),c)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ve(a,c){return a instanceof ye?a:new ye(a,c)}function Ae(a,c,m){if(isNaN(a)||isNaN(c))throw new Error("Invalid LatLng object: ("+a+", "+c+")");this.lat=+a,this.lng=+c,m!==void 0&&(this.alt=+m)}Ae.prototype={equals:function(a,c){if(!a)return!1;a=Te(a);var m=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return m<=(c===void 0?1e-9:c)},toString:function(a){return"LatLng("+N(this.lat,a)+", "+N(this.lng,a)+")"},distanceTo:function(a){return St.distance(this,Te(a))},wrap:function(){return St.wrapLatLng(this)},toBounds:function(a){var c=180*a/40075017,m=c/Math.cos(Math.PI/180*this.lat);return ve([this.lat-c,this.lng-m],[this.lat+c,this.lng+m])},clone:function(){return new Ae(this.lat,this.lng,this.alt)}};function Te(a,c,m){return a instanceof Ae?a:J(a)&&typeof a[0]!="object"?a.length===3?new Ae(a[0],a[1],a[2]):a.length===2?new Ae(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new Ae(a.lat,"lng"in a?a.lng:a.lon,a.alt):c===void 0?null:new Ae(a,c,m)}var He={latLngToPoint:function(a,c){var m=this.projection.project(a),b=this.scale(c);return this.transformation._transform(m,b)},pointToLatLng:function(a,c){var m=this.scale(c),b=this.transformation.untransform(a,m);return this.projection.unproject(b)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var c=this.projection.bounds,m=this.scale(a),b=this.transformation.transform(c.min,m),T=this.transformation.transform(c.max,m);return new q(b,T)},infinite:!1,wrapLatLng:function(a){var c=this.wrapLng?S(a.lng,this.wrapLng,!0):a.lng,m=this.wrapLat?S(a.lat,this.wrapLat,!0):a.lat,b=a.alt;return new Ae(m,c,b)},wrapLatLngBounds:function(a){var c=a.getCenter(),m=this.wrapLatLng(c),b=c.lat-m.lat,T=c.lng-m.lng;if(b===0&&T===0)return a;var R=a.getSouthWest(),V=a.getNorthEast(),Q=new Ae(R.lat-b,R.lng-T),ne=new Ae(V.lat-b,V.lng-T);return new ye(Q,ne)}},St=l({},He,{wrapLng:[-180,180],R:6371e3,distance:function(a,c){var m=Math.PI/180,b=a.lat*m,T=c.lat*m,R=Math.sin((c.lat-a.lat)*m/2),V=Math.sin((c.lng-a.lng)*m/2),Q=R*R+Math.cos(b)*Math.cos(T)*V*V,ne=2*Math.atan2(Math.sqrt(Q),Math.sqrt(1-Q));return this.R*ne}}),It=6378137,br={R:It,MAX_LATITUDE:85.0511287798,project:function(a){var c=Math.PI/180,m=this.MAX_LATITUDE,b=Math.max(Math.min(m,a.lat),-m),T=Math.sin(b*c);return new ge(this.R*a.lng*c,this.R*Math.log((1+T)/(1-T))/2)},unproject:function(a){var c=180/Math.PI;return new Ae((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*c,a.x*c/this.R)},bounds:(function(){var a=It*Math.PI;return new q([-a,-a],[a,a])})()};function Gr(a,c,m,b){if(J(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=c,this._c=m,this._d=b}Gr.prototype={transform:function(a,c){return this._transform(a.clone(),c)},_transform:function(a,c){return c=c||1,a.x=c*(this._a*a.x+this._b),a.y=c*(this._c*a.y+this._d),a},untransform:function(a,c){return c=c||1,new ge((a.x/c-this._b)/this._a,(a.y/c-this._d)/this._c)}};function Zi(a,c,m,b){return new Gr(a,c,m,b)}var Zr=l({},St,{code:"EPSG:3857",projection:br,transformation:(function(){var a=.5/(Math.PI*br.R);return Zi(a,.5,-a,.5)})()}),Ki=l({},Zr,{code:"EPSG:900913"});function oa(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function Kr(a,c){var m="",b,T,R,V,Q,ne;for(b=0,R=a.length;b<R;b++){for(Q=a[b],T=0,V=Q.length;T<V;T++)ne=Q[T],m+=(T?"L":"M")+ne.x+" "+ne.y;m+=c?Ie.svg?"z":"x":""}return m||"M0 0"}var As=document.documentElement.style,Yr="ActiveXObject"in window,Yt=Yr&&!document.addEventListener,Qt="msLaunchUri"in navigator&&!("documentMode"in document),Yi=En("webkit"),bl=En("android"),xo=En("android 2")||En("android 3"),Pn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ss=bl&&En("Google")&&Pn<537&&!("AudioNode"in window),Cs=!!window.opera,la=!Qt&&En("chrome"),Er=En("gecko")&&!Yi&&!Cs&&!Yr,Uc=!la&&En("safari"),bo=En("phantom"),Eo="OTransition"in As,El=navigator.platform.indexOf("Win")===0,ri=Yr&&"transition"in As,sn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!xo,Qn="MozPerspective"in As,qt=!window.L_DISABLE_3D&&(ri||sn||Qn)&&!Eo&&!bo,Qr=typeof orientation<"u"||En("mobile"),ca=Qr&&Yi,wl=Qr&&sn,Ti=!window.PointerEvent&&window.MSPointerEvent,$r=!!(window.PointerEvent||Ti),Ht="ontouchstart"in window||!!window.TouchEvent,Qi=!window.L_NO_TOUCH&&(Ht||$r),$i=Qr&&Cs,Ai=Qr&&Er,Bc=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Tl=(function(){var a=!1;try{var c=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",w,c),window.removeEventListener("testPassiveEventSupport",w,c)}catch{}return a})(),Xi=(function(){return!!document.createElement("canvas").getContext})(),wr=!!(document.createElementNS&&oa("svg").createSVGRect),qc=!!wr&&(function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Ns=!wr&&(function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var c=a.firstChild;return c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}catch{return!1}})(),wo=navigator.platform.indexOf("Mac")===0,To=navigator.platform.indexOf("Linux")===0;function En(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var Ie={ie:Yr,ielt9:Yt,edge:Qt,webkit:Yi,android:bl,android23:xo,androidStock:Ss,opera:Cs,chrome:la,gecko:Er,safari:Uc,phantom:bo,opera12:Eo,win:El,ie3d:ri,webkit3d:sn,gecko3d:Qn,any3d:qt,mobile:Qr,mobileWebkit:ca,mobileWebkit3d:wl,msPointer:Ti,pointer:$r,touch:Qi,touchNative:Ht,mobileOpera:$i,mobileGecko:Ai,retina:Bc,passiveEvents:Tl,canvas:Xi,svg:wr,vml:Ns,inlineSvg:qc,mac:wo,linux:To},Ao=Ie.msPointer?"MSPointerDown":"pointerdown",si=Ie.msPointer?"MSPointerMove":"pointermove",ai=Ie.msPointer?"MSPointerUp":"pointerup",Ft=Ie.msPointer?"MSPointerCancel":"pointercancel",$t={touchstart:Ao,touchmove:si,touchend:ai,touchcancel:Ft},Si={touchstart:Ji,touchmove:wn,touchend:wn,touchcancel:wn},Ci={},Al=!1;function Sl(a,c,m){return c==="touchstart"&&oi(),Si[c]?(m=Si[c].bind(this,m),a.addEventListener($t[c],m,!1),m):(console.warn("wrong event specified:",c),w)}function Cl(a,c,m){if(!$t[c]){console.warn("wrong event specified:",c);return}a.removeEventListener($t[c],m,!1)}function Wi(a){Ci[a.pointerId]=a}function ua(a){Ci[a.pointerId]&&(Ci[a.pointerId]=a)}function Ni(a){delete Ci[a.pointerId]}function oi(){Al||(document.addEventListener(Ao,Wi,!0),document.addEventListener(si,ua,!0),document.addEventListener(ai,Ni,!0),document.addEventListener(Ft,Ni,!0),Al=!0)}function wn(a,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){c.touches=[];for(var m in Ci)c.touches.push(Ci[m]);c.changedTouches=[c],a(c)}}function Ji(a,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&jt(c),wn(a,c)}function Xt(a){var c={},m,b;for(b in a)m=a[b],c[b]=m&&m.bind?m.bind(a):m;return a=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}var So=200;function Co(a,c){a.addEventListener("dblclick",c);var m=0,b;function T(R){if(R.detail!==1){b=R.detail;return}if(!(R.pointerType==="mouse"||R.sourceCapabilities&&!R.sourceCapabilities.firesTouchEvents)){var V=ts(R);if(!(V.some(function(ne){return ne instanceof HTMLLabelElement&&ne.attributes.for})&&!V.some(function(ne){return ne instanceof HTMLInputElement||ne instanceof HTMLSelectElement}))){var Q=Date.now();Q-m<=So?(b++,b===2&&c(Xt(R))):b=1,m=Q}}}return a.addEventListener("click",T),{dblclick:c,simDblclick:T}}function er(a,c){a.removeEventListener("dblclick",c.dblclick),a.removeEventListener("click",c.simDblclick)}var li=Is(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Tr=Is(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ha=Tr==="webkitTransition"||Tr==="OTransition"?Tr+"End":"transitionend";function da(a){return typeof a=="string"?document.getElementById(a):a}function Xr(a,c){var m=a.style[c]||a.currentStyle&&a.currentStyle[c];if((!m||m==="auto")&&document.defaultView){var b=document.defaultView.getComputedStyle(a,null);m=b?b[c]:null}return m==="auto"?null:m}function $e(a,c,m){var b=document.createElement(a);return b.className=c||"",m&&m.appendChild(b),b}function Xe(a){var c=a.parentNode;c&&c.removeChild(a)}function kt(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function Dt(a){var c=a.parentNode;c&&c.lastChild!==a&&c.appendChild(a)}function $n(a){var c=a.parentNode;c&&c.firstChild!==a&&c.insertBefore(a,c.firstChild)}function Rs(a,c){if(a.classList!==void 0)return a.classList.contains(c);var m=tr(a);return m.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(m)}function Ne(a,c){if(a.classList!==void 0)for(var m=K(c),b=0,T=m.length;b<T;b++)a.classList.add(m[b]);else if(!Rs(a,c)){var R=tr(a);ci(a,(R?R+" ":"")+c)}}function bt(a,c){a.classList!==void 0?a.classList.remove(c):ci(a,O((" "+tr(a)+" ").replace(" "+c+" "," ")))}function ci(a,c){a.className.baseVal===void 0?a.className=c:a.className.baseVal=c}function tr(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function Pt(a,c){"opacity"in a.style?a.style.opacity=c:"filter"in a.style&&fa(a,c)}function fa(a,c){var m=!1,b="DXImageTransform.Microsoft.Alpha";try{m=a.filters.item(b)}catch{if(c===1)return}c=Math.round(c*100),m?(m.Enabled=c!==100,m.Opacity=c):a.style.filter+=" progid:"+b+"(opacity="+c+")"}function Is(a){for(var c=document.documentElement.style,m=0;m<a.length;m++)if(a[m]in c)return a[m];return!1}function Ri(a,c,m){var b=c||new ge(0,0);a.style[li]=(Ie.ie3d?"translate("+b.x+"px,"+b.y+"px)":"translate3d("+b.x+"px,"+b.y+"px,0)")+(m?" scale("+m+")":"")}function Et(a,c){a._leaflet_pos=c,Ie.any3d?Ri(a,c):(a.style.left=c.x+"px",a.style.top=c.y+"px")}function nr(a){return a._leaflet_pos||new ge(0,0)}var ui,un,ma;if("onselectstart"in document)ui=function(){je(window,"selectstart",jt)},un=function(){mt(window,"selectstart",jt)};else{var Ar=Is(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ui=function(){if(Ar){var a=document.documentElement.style;ma=a[Ar],a[Ar]="none"}},un=function(){Ar&&(document.documentElement.style[Ar]=ma,ma=void 0)}}function Ps(){je(window,"dragstart",jt)}function Wr(){mt(window,"dragstart",jt)}var Ms,ir;function Jr(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(Vn(),Ms=a,ir=a.style.outlineStyle,a.style.outlineStyle="none",je(window,"keydown",Vn))}function Vn(){Ms&&(Ms.style.outlineStyle=ir,Ms=void 0,ir=void 0,mt(window,"keydown",Vn))}function pa(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function zn(a){var c=a.getBoundingClientRect();return{x:c.width/a.offsetWidth||1,y:c.height/a.offsetHeight||1,boundingClientRect:c}}var es={__proto__:null,TRANSFORM:li,TRANSITION:Tr,TRANSITION_END:ha,get:da,getStyle:Xr,create:$e,remove:Xe,empty:kt,toFront:Dt,toBack:$n,hasClass:Rs,addClass:Ne,removeClass:bt,setClass:ci,getClass:tr,setOpacity:Pt,testProp:Is,setTransform:Ri,setPosition:Et,getPosition:nr,get disableTextSelection(){return ui},get enableTextSelection(){return un},disableImageDrag:Ps,enableImageDrag:Wr,preventOutline:Jr,restoreOutline:Vn,getSizedParentNode:pa,getScale:zn};function je(a,c,m,b){if(c&&typeof c=="object")for(var T in c)Un(a,T,c[T],m);else{c=K(c);for(var R=0,V=c.length;R<V;R++)Un(a,c[R],m,b)}return this}var Tn="_leaflet_events";function mt(a,c,m,b){if(arguments.length===1)Sr(a),delete a[Tn];else if(c&&typeof c=="object")for(var T in c)Cr(a,T,c[T],m);else if(c=K(c),arguments.length===2)Sr(a,function(Q){return X(c,Q)!==-1});else for(var R=0,V=c.length;R<V;R++)Cr(a,c[R],m,b);return this}function Sr(a,c){for(var m in a[Tn]){var b=m.split(/\d/)[0];(!c||c(b))&&Cr(a,b,null,null,m)}}var Xn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Un(a,c,m,b){var T=c+y(m)+(b?"_"+y(b):"");if(a[Tn]&&a[Tn][T])return this;var R=function(Q){return m.call(b||a,Q||window.event)},V=R;!Ie.touchNative&&Ie.pointer&&c.indexOf("touch")===0?R=Sl(a,c,R):Ie.touch&&c==="dblclick"?R=Co(a,R):"addEventListener"in a?c==="touchstart"||c==="touchmove"||c==="wheel"||c==="mousewheel"?a.addEventListener(Xn[c]||c,R,Ie.passiveEvents?{passive:!1}:!1):c==="mouseenter"||c==="mouseleave"?(R=function(Q){Q=Q||window.event,Mi(a,Q)&&V(Q)},a.addEventListener(Xn[c],R,!1)):a.addEventListener(c,V,!1):a.attachEvent("on"+c,R),a[Tn]=a[Tn]||{},a[Tn][T]=R}function Cr(a,c,m,b,T){T=T||c+y(m)+(b?"_"+y(b):"");var R=a[Tn]&&a[Tn][T];if(!R)return this;!Ie.touchNative&&Ie.pointer&&c.indexOf("touch")===0?Cl(a,c,R):Ie.touch&&c==="dblclick"?er(a,R):"removeEventListener"in a?a.removeEventListener(Xn[c]||c,R,!1):a.detachEvent("on"+c,R),a[Tn][T]=null}function nt(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function hi(a){return Un(a,"wheel",nt),this}function Nr(a){return je(a,"mousedown touchstart dblclick contextmenu",nt),a._leaflet_disable_click=!0,this}function jt(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function Ii(a){return jt(a),nt(a),this}function ts(a){if(a.composedPath)return a.composedPath();for(var c=[],m=a.target;m;)c.push(m),m=m.parentNode;return c}function rr(a,c){if(!c)return new ge(a.clientX,a.clientY);var m=zn(c),b=m.boundingClientRect;return new ge((a.clientX-b.left)/m.x-c.clientLeft,(a.clientY-b.top)/m.y-c.clientTop)}var Pi=Ie.linux&&Ie.chrome?window.devicePixelRatio:Ie.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function hn(a){return Ie.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/Pi:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function Mi(a,c){var m=c.relatedTarget;if(!m)return!0;try{for(;m&&m!==a;)m=m.parentNode}catch{return!1}return m!==a}var sr={__proto__:null,on:je,off:mt,stopPropagation:nt,disableScrollPropagation:hi,disableClickPropagation:Nr,preventDefault:jt,stop:Ii,getPropagationPath:ts,getMousePosition:rr,getWheelDelta:hn,isExternalTarget:Mi,addListener:je,removeListener:mt},Rr=be.extend({run:function(a,c,m,b){this.stop(),this._el=a,this._inProgress=!0,this._duration=m||.25,this._easeOutPower=1/Math.max(b||.5,.2),this._startPos=nr(a),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=B(this._animate,this),this._step()},_step:function(a){var c=+new Date-this._startTime,m=this._duration*1e3;c<m?this._runFrame(this._easeOut(c/m),a):(this._runFrame(1),this._complete())},_runFrame:function(a,c){var m=this._startPos.add(this._offset.multiplyBy(a));c&&m._round(),Et(this._el,m),this.fire("step")},_complete:function(){G(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),Qe=be.extend({options:{crs:Zr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,c){c=$(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=d(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),c.zoom!==void 0&&(this._zoom=this._limitZoom(c.zoom)),c.center&&c.zoom!==void 0&&this.setView(Te(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Tr&&Ie.any3d&&!Ie.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),je(this._proxy,ha,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,c,m){if(c=c===void 0?this._zoom:this._limitZoom(c),a=this._limitCenter(Te(a),c,this.options.maxBounds),m=m||{},this._stop(),this._loaded&&!m.reset&&m!==!0){m.animate!==void 0&&(m.zoom=l({animate:m.animate},m.zoom),m.pan=l({animate:m.animate,duration:m.duration},m.pan));var b=this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,c,m.zoom):this._tryAnimatedPan(a,m.pan);if(b)return clearTimeout(this._sizeTimer),this}return this._resetView(a,c,m.pan&&m.pan.noMoveStart),this},setZoom:function(a,c){return this._loaded?this.setView(this.getCenter(),a,{zoom:c}):(this._zoom=a,this)},zoomIn:function(a,c){return a=a||(Ie.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,c)},zoomOut:function(a,c){return a=a||(Ie.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,c)},setZoomAround:function(a,c,m){var b=this.getZoomScale(c),T=this.getSize().divideBy(2),R=a instanceof ge?a:this.latLngToContainerPoint(a),V=R.subtract(T).multiplyBy(1-1/b),Q=this.containerPointToLatLng(T.add(V));return this.setView(Q,c,{zoom:m})},_getBoundsCenterZoom:function(a,c){c=c||{},a=a.getBounds?a.getBounds():ve(a);var m=Se(c.paddingTopLeft||c.padding||[0,0]),b=Se(c.paddingBottomRight||c.padding||[0,0]),T=this.getBoundsZoom(a,!1,m.add(b));if(T=typeof c.maxZoom=="number"?Math.min(c.maxZoom,T):T,T===1/0)return{center:a.getCenter(),zoom:T};var R=b.subtract(m).divideBy(2),V=this.project(a.getSouthWest(),T),Q=this.project(a.getNorthEast(),T),ne=this.unproject(V.add(Q).divideBy(2).add(R),T);return{center:ne,zoom:T}},fitBounds:function(a,c){if(a=ve(a),!a.isValid())throw new Error("Bounds are not valid.");var m=this._getBoundsCenterZoom(a,c);return this.setView(m.center,m.zoom,c)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,c){return this.setView(a,this._zoom,{pan:c})},panBy:function(a,c){if(a=Se(a).round(),c=c||{},!a.x&&!a.y)return this.fire("moveend");if(c.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Rr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),c.animate!==!1){Ne(this._mapPane,"leaflet-pan-anim");var m=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,m,c.duration||.25,c.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,c,m){if(m=m||{},m.animate===!1||!Ie.any3d)return this.setView(a,c,m);this._stop();var b=this.project(this.getCenter()),T=this.project(a),R=this.getSize(),V=this._zoom;a=Te(a),c=c===void 0?V:c;var Q=Math.max(R.x,R.y),ne=Q*this.getZoomScale(V,c),de=T.distanceTo(b)||1,we=1.42,Oe=we*we;function Ke(Gt){var Lr=Gt?-1:1,zs=Gt?ne:Q,Yc=ne*ne-Q*Q+Lr*Oe*Oe*de*de,Ko=2*zs*Oe*de,Yo=Yc/Ko,hs=Math.sqrt(Yo*Yo+1)-Yo,kr=hs<1e-9?-18:Math.log(hs);return kr}function vn(Gt){return(Math.exp(Gt)-Math.exp(-Gt))/2}function Wt(Gt){return(Math.exp(Gt)+Math.exp(-Gt))/2}function ei(Gt){return vn(Gt)/Wt(Gt)}var pt=Ke(0);function gt(Gt){return Q*(Wt(pt)/Wt(pt+we*Gt))}function We(Gt){return Q*(Wt(pt)*ei(pt+we*Gt)-vn(pt))/Oe}function cs(Gt){return 1-Math.pow(1-Gt,1.5)}var gi=Date.now(),Ul=(Ke(1)-pt)/we,us=m.duration?1e3*m.duration:1e3*Ul*.8;function Kc(){var Gt=(Date.now()-gi)/us,Lr=cs(Gt)*Ul;Gt<=1?(this._flyToFrame=B(Kc,this),this._move(this.unproject(b.add(T.subtract(b).multiplyBy(We(Lr)/de)),V),this.getScaleZoom(Q/gt(Lr),V),{flyTo:!0})):this._move(a,c)._moveEnd(!0)}return this._moveStart(!0,m.noMoveStart),Kc.call(this),this},flyToBounds:function(a,c){var m=this._getBoundsCenterZoom(a,c);return this.flyTo(m.center,m.zoom,c)},setMaxBounds:function(a){return a=ve(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var c=this.options.minZoom;return this.options.minZoom=a,this._loaded&&c!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var c=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&c!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,c){this._enforcingBounds=!0;var m=this.getCenter(),b=this._limitCenter(m,this._zoom,ve(a));return m.equals(b)||this.panTo(b,c),this._enforcingBounds=!1,this},panInside:function(a,c){c=c||{};var m=Se(c.paddingTopLeft||c.padding||[0,0]),b=Se(c.paddingBottomRight||c.padding||[0,0]),T=this.project(this.getCenter()),R=this.project(a),V=this.getPixelBounds(),Q=oe([V.min.add(m),V.max.subtract(b)]),ne=Q.getSize();if(!Q.contains(R)){this._enforcingBounds=!0;var de=R.subtract(Q.getCenter()),we=Q.extend(R).getSize().subtract(ne);T.x+=de.x<0?-we.x:we.x,T.y+=de.y<0?-we.y:we.y,this.panTo(this.unproject(T),c),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=l({animate:!1,pan:!0},a===!0?{animate:!0}:a);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var m=this.getSize(),b=c.divideBy(2).round(),T=m.divideBy(2).round(),R=b.subtract(T);return!R.x&&!R.y?this:(a.animate&&a.pan?this.panBy(R):(a.pan&&this._rawPanBy(R),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(d(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:m}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=l({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=d(this._handleGeolocationResponse,this),m=d(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,m,a):navigator.geolocation.getCurrentPosition(c,m,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var c=a.code,m=a.message||(c===1?"permission denied":c===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+m+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var c=a.coords.latitude,m=a.coords.longitude,b=new Ae(c,m),T=b.toBounds(a.coords.accuracy*2),R=this._locateOptions;if(R.setView){var V=this.getBoundsZoom(T);this.setView(b,R.maxZoom?Math.min(V,R.maxZoom):V)}var Q={latlng:b,bounds:T,timestamp:a.timestamp};for(var ne in a.coords)typeof a.coords[ne]=="number"&&(Q[ne]=a.coords[ne]);this.fire("locationfound",Q)}},addHandler:function(a,c){if(!c)return this;var m=this[a]=new c(this);return this._handlers.push(m),this.options[a]&&m.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Xe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(G(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)Xe(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,c){var m="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),b=$e("div",m,c||this._mapPane);return a&&(this._panes[a]=b),b},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),c=this.unproject(a.getBottomLeft()),m=this.unproject(a.getTopRight());return new ye(c,m)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,c,m){a=ve(a),m=Se(m||[0,0]);var b=this.getZoom()||0,T=this.getMinZoom(),R=this.getMaxZoom(),V=a.getNorthWest(),Q=a.getSouthEast(),ne=this.getSize().subtract(m),de=oe(this.project(Q,b),this.project(V,b)).getSize(),we=Ie.any3d?this.options.zoomSnap:1,Oe=ne.x/de.x,Ke=ne.y/de.y,vn=c?Math.max(Oe,Ke):Math.min(Oe,Ke);return b=this.getScaleZoom(vn,b),we&&(b=Math.round(b/(we/100))*(we/100),b=c?Math.ceil(b/we)*we:Math.floor(b/we)*we),Math.max(T,Math.min(R,b))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ge(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,c){var m=this._getTopLeftPoint(a,c);return new q(m,m.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,c){var m=this.options.crs;return c=c===void 0?this._zoom:c,m.scale(a)/m.scale(c)},getScaleZoom:function(a,c){var m=this.options.crs;c=c===void 0?this._zoom:c;var b=m.zoom(a*m.scale(c));return isNaN(b)?1/0:b},project:function(a,c){return c=c===void 0?this._zoom:c,this.options.crs.latLngToPoint(Te(a),c)},unproject:function(a,c){return c=c===void 0?this._zoom:c,this.options.crs.pointToLatLng(Se(a),c)},layerPointToLatLng:function(a){var c=Se(a).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(a){var c=this.project(Te(a))._round();return c._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(Te(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(ve(a))},distance:function(a,c){return this.options.crs.distance(Te(a),Te(c))},containerPointToLayerPoint:function(a){return Se(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return Se(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var c=this.containerPointToLayerPoint(Se(a));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Te(a)))},mouseEventToContainerPoint:function(a){return rr(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var c=this._container=da(a);if(c){if(c._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");je(c,"scroll",this._onScroll,this),this._containerId=y(c)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ie.any3d,Ne(a,"leaflet-container"+(Ie.touch?" leaflet-touch":"")+(Ie.retina?" leaflet-retina":"")+(Ie.ielt9?" leaflet-oldie":"")+(Ie.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=Xr(a,"position");c!=="absolute"&&c!=="relative"&&c!=="fixed"&&c!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Et(this._mapPane,new ge(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ne(a.markerPane,"leaflet-zoom-hide"),Ne(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,c,m){Et(this._mapPane,new ge(0,0));var b=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var T=this._zoom!==c;this._moveStart(T,m)._move(a,c)._moveEnd(T),this.fire("viewreset"),b&&this.fire("load")},_moveStart:function(a,c){return a&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(a,c,m,b){c===void 0&&(c=this._zoom);var T=this._zoom!==c;return this._zoom=c,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),b?m&&m.pinch&&this.fire("zoom",m):((T||m&&m.pinch)&&this.fire("zoom",m),this.fire("move",m)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return G(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){Et(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[y(this._container)]=this;var c=a?mt:je;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),Ie.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){G(this._resizeRequest),this._resizeRequest=B(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,c){for(var m=[],b,T=c==="mouseout"||c==="mouseover",R=a.target||a.srcElement,V=!1;R;){if(b=this._targets[y(R)],b&&(c==="click"||c==="preclick")&&this._draggableMoved(b)){V=!0;break}if(b&&b.listens(c,!0)&&(T&&!Mi(R,a)||(m.push(b),T))||R===this._container)break;R=R.parentNode}return!m.length&&!V&&!T&&this.listens(c,!0)&&(m=[this]),m},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var c=a.target||a.srcElement;if(!(!this._loaded||c._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(c))){var m=a.type;m==="mousedown"&&Jr(c),this._fireDOMEvent(a,m)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,c,m){if(a.type==="click"){var b=l({},a);b.type="preclick",this._fireDOMEvent(b,b.type,m)}var T=this._findEventTargets(a,c);if(m){for(var R=[],V=0;V<m.length;V++)m[V].listens(c,!0)&&R.push(m[V]);T=R.concat(T)}if(T.length){c==="contextmenu"&&jt(a);var Q=T[0],ne={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var de=Q.getLatLng&&(!Q._radius||Q._radius<=10);ne.containerPoint=de?this.latLngToContainerPoint(Q.getLatLng()):this.mouseEventToContainerPoint(a),ne.layerPoint=this.containerPointToLayerPoint(ne.containerPoint),ne.latlng=de?Q.getLatLng():this.layerPointToLatLng(ne.layerPoint)}for(V=0;V<T.length;V++)if(T[V].fire(c,ne,!0),ne.originalEvent._stopped||T[V].options.bubblingMouseEvents===!1&&X(this._mouseEvents,c)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,c=this._handlers.length;a<c;a++)this._handlers[a].disable()},whenReady:function(a,c){return this._loaded?a.call(c||this,{target:this}):this.on("load",a,c),this},_getMapPanePos:function(){return nr(this._mapPane)||new ge(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,c){var m=a&&c!==void 0?this._getNewPixelOrigin(a,c):this.getPixelOrigin();return m.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,c){var m=this.getSize()._divideBy(2);return this.project(a,c)._subtract(m)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,c,m){var b=this._getNewPixelOrigin(m,c);return this.project(a,c)._subtract(b)},_latLngBoundsToNewLayerBounds:function(a,c,m){var b=this._getNewPixelOrigin(m,c);return oe([this.project(a.getSouthWest(),c)._subtract(b),this.project(a.getNorthWest(),c)._subtract(b),this.project(a.getSouthEast(),c)._subtract(b),this.project(a.getNorthEast(),c)._subtract(b)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,c,m){if(!m)return a;var b=this.project(a,c),T=this.getSize().divideBy(2),R=new q(b.subtract(T),b.add(T)),V=this._getBoundsOffset(R,m,c);return Math.abs(V.x)<=1&&Math.abs(V.y)<=1?a:this.unproject(b.add(V),c)},_limitOffset:function(a,c){if(!c)return a;var m=this.getPixelBounds(),b=new q(m.min.add(a),m.max.add(a));return a.add(this._getBoundsOffset(b,c))},_getBoundsOffset:function(a,c,m){var b=oe(this.project(c.getNorthEast(),m),this.project(c.getSouthWest(),m)),T=b.min.subtract(a.min),R=b.max.subtract(a.max),V=this._rebound(T.x,-R.x),Q=this._rebound(T.y,-R.y);return new ge(V,Q)},_rebound:function(a,c){return a+c>0?Math.round(a-c)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(c))},_limitZoom:function(a){var c=this.getMinZoom(),m=this.getMaxZoom(),b=Ie.any3d?this.options.zoomSnap:1;return b&&(a=Math.round(a/b)*b),Math.max(c,Math.min(m,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){bt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,c){var m=this._getCenterOffset(a)._trunc();return(c&&c.animate)!==!0&&!this.getSize().contains(m)?!1:(this.panBy(m,c),!0)},_createAnimProxy:function(){var a=this._proxy=$e("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(c){var m=li,b=this._proxy.style[m];Ri(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),b===this._proxy.style[m]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Xe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),c=this.getZoom();Ri(this._proxy,this.project(a,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,c,m){if(this._animatingZoom)return!0;if(m=m||{},!this._zoomAnimated||m.animate===!1||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var b=this.getZoomScale(c),T=this._getCenterOffset(a)._divideBy(1-1/b);return m.animate!==!0&&!this.getSize().contains(T)?!1:(B(function(){this._moveStart(!0,m.noMoveStart||!1)._animateZoom(a,c,!0)},this),!0)},_animateZoom:function(a,c,m,b){this._mapPane&&(m&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=c,Ne(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:c,noUpdate:b}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(d(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&bt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ns(a,c){return new Qe(a,c)}var An=ct.extend({options:{position:"topright"},initialize:function(a){$(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var c=this._map;return c&&c.removeControl(this),this.options.position=a,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var c=this._container=this.onAdd(a),m=this.getPosition(),b=a._controlCorners[m];return Ne(c,"leaflet-control"),m.indexOf("bottom")!==-1?b.insertBefore(c,b.firstChild):b.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Xe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),Bn=function(a){return new An(a)};Qe.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},c="leaflet-",m=this._controlContainer=$e("div",c+"control-container",this._container);function b(T,R){var V=c+T+" "+c+R;a[T+R]=$e("div",V,m)}b("top","left"),b("top","right"),b("bottom","left"),b("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)Xe(this._controlCorners[a]);Xe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Os=An.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,c,m,b){return m<b?-1:b<m?1:0}},initialize:function(a,c,m){$(this,m),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var b in a)this._addLayer(a[b],b);for(b in c)this._addLayer(c[b],b,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return An.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,c){return this._addLayer(a,c),this._map?this._update():this},addOverlay:function(a,c){return this._addLayer(a,c,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var c=this._getLayer(y(a));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){Ne(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(Ne(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):bt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return bt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",c=this._container=$e("div",a),m=this.options.collapsed;c.setAttribute("aria-haspopup",!0),Nr(c),hi(c);var b=this._section=$e("section",a+"-list");m&&(this._map.on("click",this.collapse,this),je(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var T=this._layersLink=$e("a",a+"-toggle",c);T.href="#",T.title="Layers",T.setAttribute("role","button"),je(T,{keydown:function(R){R.keyCode===13&&this._expandSafely()},click:function(R){jt(R),this._expandSafely()}},this),m||this.expand(),this._baseLayersList=$e("div",a+"-base",b),this._separator=$e("div",a+"-separator",b),this._overlaysList=$e("div",a+"-overlays",b),c.appendChild(b)},_getLayer:function(a){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&y(this._layers[c].layer)===a)return this._layers[c]},_addLayer:function(a,c,m){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:c,overlay:m}),this.options.sortLayers&&this._layers.sort(d(function(b,T){return this.options.sortFunction(b.layer,T.layer,b.name,T.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;kt(this._baseLayersList),kt(this._overlaysList),this._layerControlInputs=[];var a,c,m,b,T=0;for(m=0;m<this._layers.length;m++)b=this._layers[m],this._addItem(b),c=c||b.overlay,a=a||!b.overlay,T+=b.overlay?0:1;return this.options.hideSingleBase&&(a=a&&T>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=c&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var c=this._getLayer(y(a.target)),m=c.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;m&&this._map.fire(m,c)},_createRadioElement:function(a,c){var m='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(c?' checked="checked"':"")+"/>",b=document.createElement("div");return b.innerHTML=m,b.firstChild},_addItem:function(a){var c=document.createElement("label"),m=this._map.hasLayer(a.layer),b;a.overlay?(b=document.createElement("input"),b.type="checkbox",b.className="leaflet-control-layers-selector",b.defaultChecked=m):b=this._createRadioElement("leaflet-base-layers_"+y(this),m),this._layerControlInputs.push(b),b.layerId=y(a.layer),je(b,"click",this._onInputClick,this);var T=document.createElement("span");T.innerHTML=" "+a.name;var R=document.createElement("span");c.appendChild(R),R.appendChild(b),R.appendChild(T);var V=a.overlay?this._overlaysList:this._baseLayersList;return V.appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,c,m,b=[],T=[];this._handlingClick=!0;for(var R=a.length-1;R>=0;R--)c=a[R],m=this._getLayer(c.layerId).layer,c.checked?b.push(m):c.checked||T.push(m);for(R=0;R<T.length;R++)this._map.hasLayer(T[R])&&this._map.removeLayer(T[R]);for(R=0;R<b.length;R++)this._map.hasLayer(b[R])||this._map.addLayer(b[R]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,c,m,b=this._map.getZoom(),T=a.length-1;T>=0;T--)c=a[T],m=this._getLayer(c.layerId).layer,c.disabled=m.options.minZoom!==void 0&&b<m.options.minZoom||m.options.maxZoom!==void 0&&b>m.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,je(a,"click",jt),this.expand();var c=this;setTimeout(function(){mt(a,"click",jt),c._preventClick=!1})}}),No=function(a,c,m){return new Os(a,c,m)},Ir=An.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var c="leaflet-control-zoom",m=$e("div",c+" leaflet-bar"),b=this.options;return this._zoomInButton=this._createButton(b.zoomInText,b.zoomInTitle,c+"-in",m,this._zoomIn),this._zoomOutButton=this._createButton(b.zoomOutText,b.zoomOutTitle,c+"-out",m,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),m},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,c,m,b,T){var R=$e("a",m,b);return R.innerHTML=a,R.href="#",R.title=c,R.setAttribute("role","button"),R.setAttribute("aria-label",c),Nr(R),je(R,"click",Ii),je(R,"click",T,this),je(R,"click",this._refocusOnMap,this),R},_updateDisabled:function(){var a=this._map,c="leaflet-disabled";bt(this._zoomInButton,c),bt(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(Ne(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(Ne(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});Qe.mergeOptions({zoomControl:!0}),Qe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ir,this.addControl(this.zoomControl))});var Nl=function(a){return new Ir(a)},Ro=An.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var c="leaflet-control-scale",m=$e("div",c),b=this.options;return this._addScales(b,c+"-line",m),a.on(b.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),m},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,c,m){a.metric&&(this._mScale=$e("div",c,m)),a.imperial&&(this._iScale=$e("div",c,m))},_update:function(){var a=this._map,c=a.getSize().y/2,m=a.distance(a.containerPointToLatLng([0,c]),a.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(m)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var c=this._getRoundNum(a),m=c<1e3?c+" m":c/1e3+" km";this._updateScale(this._mScale,m,c/a)},_updateImperial:function(a){var c=a*3.2808399,m,b,T;c>5280?(m=c/5280,b=this._getRoundNum(m),this._updateScale(this._iScale,b+" mi",b/m)):(T=this._getRoundNum(c),this._updateScale(this._iScale,T+" ft",T/c))},_updateScale:function(a,c,m){a.style.width=Math.round(this.options.maxWidth*m)+"px",a.innerHTML=c},_getRoundNum:function(a){var c=Math.pow(10,(Math.floor(a)+"").length-1),m=a/c;return m=m>=10?10:m>=5?5:m>=3?3:m>=2?2:1,c*m}}),Ls=function(a){return new Ro(a)},Io='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ga=An.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ie.inlineSvg?Io+" ":"")+"Leaflet</a>"},initialize:function(a){$(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=$e("div","leaflet-control-attribution"),Nr(this._container);for(var c in a._layers)a._layers[c].getAttribution&&this.addAttribution(a._layers[c].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var c in this._attributions)this._attributions[c]&&a.push(c);var m=[];this.options.prefix&&m.push(this.options.prefix),a.length&&m.push(a.join(", ")),this._container.innerHTML=m.join(' <span aria-hidden="true">|</span> ')}}});Qe.mergeOptions({attributionControl:!0}),Qe.addInitHook(function(){this.options.attributionControl&&new ga().addTo(this)});var _a=function(a){return new ga(a)};An.Layers=Os,An.Zoom=Ir,An.Scale=Ro,An.Attribution=ga,Bn.layers=No,Bn.zoom=Nl,Bn.scale=Ls,Bn.attribution=_a;var Wn=ct.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Wn.addTo=function(a,c){return a.addHandler(c,this),this};var Rl={Events:ae},Oi=Ie.touch?"touchstart mousedown":"mousedown",Li=be.extend({options:{clickTolerance:3},initialize:function(a,c,m,b){$(this,b),this._element=a,this._dragStartTarget=c||a,this._preventOutline=m},enable:function(){this._enabled||(je(this._dragStartTarget,Oi,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Li._dragging===this&&this.finishDrag(!0),mt(this._dragStartTarget,Oi,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!Rs(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Li._dragging===this&&this.finishDrag();return}if(!(Li._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Li._dragging=this,this._preventOutline&&Jr(this._element),Ps(),ui(),!this._moving)){this.fire("down");var c=a.touches?a.touches[0]:a,m=pa(this._element);this._startPoint=new ge(c.clientX,c.clientY),this._startPos=nr(this._element),this._parentScale=zn(m);var b=a.type==="mousedown";je(document,b?"mousemove":"touchmove",this._onMove,this),je(document,b?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var c=a.touches&&a.touches.length===1?a.touches[0]:a,m=new ge(c.clientX,c.clientY)._subtract(this._startPoint);!m.x&&!m.y||Math.abs(m.x)+Math.abs(m.y)<this.options.clickTolerance||(m.x/=this._parentScale.x,m.y/=this._parentScale.y,jt(a),this._moved||(this.fire("dragstart"),this._moved=!0,Ne(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ne(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(m),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),Et(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){bt(document.body,"leaflet-dragging"),this._lastTarget&&(bt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),mt(document,"mousemove touchmove",this._onMove,this),mt(document,"mouseup touchend touchcancel",this._onUp,this),Wr(),un();var c=this._moved&&this._moving;this._moving=!1,Li._dragging=!1,c&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function Po(a,c,m){var b,T=[1,4,2,8],R,V,Q,ne,de,we,Oe,Ke;for(R=0,we=a.length;R<we;R++)a[R]._code=re(a[R],c);for(Q=0;Q<4;Q++){for(Oe=T[Q],b=[],R=0,we=a.length,V=we-1;R<we;V=R++)ne=a[R],de=a[V],ne._code&Oe?de._code&Oe||(Ke=W(de,ne,Oe,c,m),Ke._code=re(Ke,c),b.push(Ke)):(de._code&Oe&&(Ke=W(de,ne,Oe,c,m),Ke._code=re(Ke,c),b.push(Ke)),b.push(ne));a=b}return a}function Mo(a,c){var m,b,T,R,V,Q,ne,de,we;if(!a||a.length===0)throw new Error("latlngs not passed");ut(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Oe=Te([0,0]),Ke=ve(a),vn=Ke.getNorthWest().distanceTo(Ke.getSouthWest())*Ke.getNorthEast().distanceTo(Ke.getNorthWest());vn<1700&&(Oe=ya(a));var Wt=a.length,ei=[];for(m=0;m<Wt;m++){var pt=Te(a[m]);ei.push(c.project(Te([pt.lat-Oe.lat,pt.lng-Oe.lng])))}for(Q=ne=de=0,m=0,b=Wt-1;m<Wt;b=m++)T=ei[m],R=ei[b],V=T.y*R.x-R.y*T.x,ne+=(T.x+R.x)*V,de+=(T.y+R.y)*V,Q+=V*3;Q===0?we=ei[0]:we=[ne/Q,de/Q];var gt=c.unproject(Se(we));return Te([gt.lat+Oe.lat,gt.lng+Oe.lng])}function ya(a){for(var c=0,m=0,b=0,T=0;T<a.length;T++){var R=Te(a[T]);c+=R.lat,m+=R.lng,b++}return Te([c/b,m/b])}var is={__proto__:null,clipPolygon:Po,polygonCenter:Mo,centroid:ya};function Sn(a,c){if(!c||!a.length)return a.slice();var m=c*c;return a=E(a,m),a=Pr(a,m),a}function Oo(a,c,m){return Math.sqrt(Be(a,c,m,!0))}function Il(a,c,m){return Be(a,c,m)}function Pr(a,c){var m=a.length,b=typeof Uint8Array<"u"?Uint8Array:Array,T=new b(m);T[0]=T[m-1]=1,f(a,T,c,0,m-1);var R,V=[];for(R=0;R<m;R++)T[R]&&V.push(a[R]);return V}function f(a,c,m,b,T){var R=0,V,Q,ne;for(Q=b+1;Q<=T-1;Q++)ne=Be(a[Q],a[b],a[T],!0),ne>R&&(V=Q,R=ne);R>m&&(c[V]=1,f(a,c,m,b,V),f(a,c,m,V,T))}function E(a,c){for(var m=[a[0]],b=1,T=0,R=a.length;b<R;b++)xe(a[b],a[T])>c&&(m.push(a[b]),T=b);return T<R-1&&m.push(a[R-1]),m}var C;function P(a,c,m,b,T){var R=b?C:re(a,m),V=re(c,m),Q,ne,de;for(C=V;;){if(!(R|V))return[a,c];if(R&V)return!1;Q=R||V,ne=W(a,c,Q,m,T),de=re(ne,m),Q===R?(a=ne,R=de):(c=ne,V=de)}}function W(a,c,m,b,T){var R=c.x-a.x,V=c.y-a.y,Q=b.min,ne=b.max,de,we;return m&8?(de=a.x+R*(ne.y-a.y)/V,we=ne.y):m&4?(de=a.x+R*(Q.y-a.y)/V,we=Q.y):m&2?(de=ne.x,we=a.y+V*(ne.x-a.x)/R):m&1&&(de=Q.x,we=a.y+V*(Q.x-a.x)/R),new ge(de,we,T)}function re(a,c){var m=0;return a.x<c.min.x?m|=1:a.x>c.max.x&&(m|=2),a.y<c.min.y?m|=4:a.y>c.max.y&&(m|=8),m}function xe(a,c){var m=c.x-a.x,b=c.y-a.y;return m*m+b*b}function Be(a,c,m,b){var T=c.x,R=c.y,V=m.x-T,Q=m.y-R,ne=V*V+Q*Q,de;return ne>0&&(de=((a.x-T)*V+(a.y-R)*Q)/ne,de>1?(T=m.x,R=m.y):de>0&&(T+=V*de,R+=Q*de)),V=a.x-T,Q=a.y-R,b?V*V+Q*Q:new ge(T,R)}function ut(a){return!J(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function ht(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ut(a)}function Mt(a,c){var m,b,T,R,V,Q,ne,de;if(!a||a.length===0)throw new Error("latlngs not passed");ut(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var we=Te([0,0]),Oe=ve(a),Ke=Oe.getNorthWest().distanceTo(Oe.getSouthWest())*Oe.getNorthEast().distanceTo(Oe.getNorthWest());Ke<1700&&(we=ya(a));var vn=a.length,Wt=[];for(m=0;m<vn;m++){var ei=Te(a[m]);Wt.push(c.project(Te([ei.lat-we.lat,ei.lng-we.lng])))}for(m=0,b=0;m<vn-1;m++)b+=Wt[m].distanceTo(Wt[m+1])/2;if(b===0)de=Wt[0];else for(m=0,R=0;m<vn-1;m++)if(V=Wt[m],Q=Wt[m+1],T=V.distanceTo(Q),R+=T,R>b){ne=(R-b)/T,de=[Q.x-ne*(Q.x-V.x),Q.y-ne*(Q.y-V.y)];break}var pt=c.unproject(Se(de));return Te([pt.lat+we.lat,pt.lng+we.lng])}var di={__proto__:null,simplify:Sn,pointToSegmentDistance:Oo,closestPointOnSegment:Il,clipSegment:P,_getEdgeIntersection:W,_getBitCode:re,_sqClosestPointOnSegment:Be,isFlat:ut,_flat:ht,polylineCenter:Mt},fi={project:function(a){return new ge(a.lng,a.lat)},unproject:function(a){return new Ae(a.y,a.x)},bounds:new q([-180,-90],[180,90])},Jn={R:6378137,R_MINOR:6356752314245179e-9,bounds:new q([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var c=Math.PI/180,m=this.R,b=a.lat*c,T=this.R_MINOR/m,R=Math.sqrt(1-T*T),V=R*Math.sin(b),Q=Math.tan(Math.PI/4-b/2)/Math.pow((1-V)/(1+V),R/2);return b=-m*Math.log(Math.max(Q,1e-10)),new ge(a.lng*c*m,b)},unproject:function(a){for(var c=180/Math.PI,m=this.R,b=this.R_MINOR/m,T=Math.sqrt(1-b*b),R=Math.exp(-a.y/m),V=Math.PI/2-2*Math.atan(R),Q=0,ne=.1,de;Q<15&&Math.abs(ne)>1e-7;Q++)de=T*Math.sin(V),de=Math.pow((1-de)/(1+de),T/2),ne=Math.PI/2-2*Math.atan(R*de)-V,V+=ne;return new Ae(V*c,a.x*c/m)}},ki={__proto__:null,LonLat:fi,Mercator:Jn,SphericalMercator:br},ks=l({},St,{code:"EPSG:3395",projection:Jn,transformation:(function(){var a=.5/(Math.PI*Jn.R);return Zi(a,.5,-a,.5)})()}),Ds=l({},St,{code:"EPSG:4326",projection:fi,transformation:Zi(1/180,1,-1/180,.5)}),va=l({},He,{projection:fi,transformation:Zi(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,c){var m=c.lng-a.lng,b=c.lat-a.lat;return Math.sqrt(m*m+b*b)},infinite:!0});He.Earth=St,He.EPSG3395=ks,He.EPSG3857=Zr,He.EPSG900913=Ki,He.EPSG4326=Ds,He.Simple=va;var Di=be.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[y(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[y(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var c=a.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var m=this.getEvents();c.on(m,this),this.once("remove",function(){c.off(m,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});Qe.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var c=y(a);return this._layers[c]?this:(this._layers[c]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var c=y(a);return this._layers[c]?(this._loaded&&a.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return y(a)in this._layers},eachLayer:function(a,c){for(var m in this._layers)a.call(c,this._layers[m]);return this},_addLayers:function(a){a=a?J(a)?a:[a]:[];for(var c=0,m=a.length;c<m;c++)this.addLayer(a[c])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[y(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var c=y(a);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,c=-1/0,m=this._getZoomSpan();for(var b in this._zoomBoundLayers){var T=this._zoomBoundLayers[b].options;a=T.minZoom===void 0?a:Math.min(a,T.minZoom),c=T.maxZoom===void 0?c:Math.max(c,T.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=a===1/0?void 0:a,m!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var xa=Di.extend({initialize:function(a,c){$(this,c),this._layers={};var m,b;if(a)for(m=0,b=a.length;m<b;m++)this.addLayer(a[m])},addLayer:function(a){var c=this.getLayerId(a);return this._layers[c]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var c=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(a){var c=typeof a=="number"?a:this.getLayerId(a);return c in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var c=Array.prototype.slice.call(arguments,1),m,b;for(m in this._layers)b=this._layers[m],b[a]&&b[a].apply(b,c);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,c){for(var m in this._layers)a.call(c,this._layers[m]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return y(a)}}),nm=function(a,c){return new xa(a,c)},ar=xa.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),xa.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),xa.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new ye;for(var c in this._layers){var m=this._layers[c];a.extend(m.getBounds?m.getBounds():m.getLatLng())}return a}}),Th=function(a,c){return new ar(a,c)},or=ct.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){$(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,c){var m=this._getIconUrl(a);if(!m){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var b=this._createImg(m,c&&c.tagName==="IMG"?c:null);return this._setIconStyles(b,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(b.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),b},_setIconStyles:function(a,c){var m=this.options,b=m[c+"Size"];typeof b=="number"&&(b=[b,b]);var T=Se(b),R=Se(c==="shadow"&&m.shadowAnchor||m.iconAnchor||T&&T.divideBy(2,!0));a.className="leaflet-marker-"+c+" "+(m.className||""),R&&(a.style.marginLeft=-R.x+"px",a.style.marginTop=-R.y+"px"),T&&(a.style.width=T.x+"px",a.style.height=T.y+"px")},_createImg:function(a,c){return c=c||document.createElement("img"),c.src=a,c},_getIconUrl:function(a){return Ie.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function Lo(a){return new or(a)}var ko=or.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof ko.imagePath!="string"&&(ko.imagePath=this._detectIconPath()),(this.options.imagePath||ko.imagePath)+or.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var c=function(m,b,T){var R=b.exec(m);return R&&R[T]};return a=c(a,/^url\((['"])?(.+)\1\)$/,2),a&&c(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=$e("div","leaflet-default-icon-path",document.body),c=Xr(a,"background-image")||Xr(a,"backgroundImage");if(document.body.removeChild(a),c=this._stripUrl(c),c)return c;var m=document.querySelector('link[href$="leaflet.css"]');return m?m.href.substring(0,m.href.length-11-1):""}}),Do=Wn.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Li(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ne(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&bt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var c=this._marker,m=c._map,b=this._marker.options.autoPanSpeed,T=this._marker.options.autoPanPadding,R=nr(c._icon),V=m.getPixelBounds(),Q=m.getPixelOrigin(),ne=oe(V.min._subtract(Q).add(T),V.max._subtract(Q).subtract(T));if(!ne.contains(R)){var de=Se((Math.max(ne.max.x,R.x)-ne.max.x)/(V.max.x-ne.max.x)-(Math.min(ne.min.x,R.x)-ne.min.x)/(V.min.x-ne.min.x),(Math.max(ne.max.y,R.y)-ne.max.y)/(V.max.y-ne.max.y)-(Math.min(ne.min.y,R.y)-ne.min.y)/(V.min.y-ne.min.y)).multiplyBy(b);m.panBy(de,{animate:!1}),this._draggable._newPos._add(de),this._draggable._startPos._add(de),Et(c._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=B(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(G(this._panRequest),this._panRequest=B(this._adjustPan.bind(this,a)))},_onDrag:function(a){var c=this._marker,m=c._shadow,b=nr(c._icon),T=c._map.layerPointToLatLng(b);m&&Et(m,b),c._latlng=T,a.latlng=T,a.oldLatLng=this._oldLatLng,c.fire("move",a).fire("drag",a)},_onDragEnd:function(a){G(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),jo=Di.extend({options:{icon:new ko,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,c){$(this,c),this._latlng=Te(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var c=this._latlng;return this._latlng=Te(a),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),m=a.icon.createIcon(this._icon),b=!1;m!==this._icon&&(this._icon&&this._removeIcon(),b=!0,a.title&&(m.title=a.title),m.tagName==="IMG"&&(m.alt=a.alt||"")),Ne(m,c),a.keyboard&&(m.tabIndex="0",m.setAttribute("role","button")),this._icon=m,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&je(m,"focus",this._panOnFocus,this);var T=a.icon.createShadow(this._shadow),R=!1;T!==this._shadow&&(this._removeShadow(),R=!0),T&&(Ne(T,c),T.alt=""),this._shadow=T,a.opacity<1&&this._updateOpacity(),b&&this.getPane().appendChild(this._icon),this._initInteraction(),T&&R&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&mt(this._icon,"focus",this._panOnFocus,this),Xe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Xe(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&Et(this._icon,a),this._shadow&&Et(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(Ne(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Do)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Do(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&Pt(this._icon,a),this._shadow&&Pt(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var c=this.options.icon.options,m=c.iconSize?Se(c.iconSize):Se(0,0),b=c.iconAnchor?Se(c.iconAnchor):Se(0,0);a.panInside(this._latlng,{paddingTopLeft:b,paddingBottomRight:m.subtract(b)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Ah(a,c){return new jo(a,c)}var lr=Di.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return $(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ba=lr.extend({options:{fill:!0,radius:10},initialize:function(a,c){$(this,c),this._latlng=Te(a),this._radius=this.options.radius},setLatLng:function(a){var c=this._latlng;return this._latlng=Te(a),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var c=a&&a.radius||this._radius;return lr.prototype.setStyle.call(this,a),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,c=this._radiusY||a,m=this._clickTolerance(),b=[a+m,c+m];this._pxBounds=new q(this._point.subtract(b),this._point.add(b))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Sh(a,c){return new ba(a,c)}var Pl=ba.extend({initialize:function(a,c,m){if(typeof c=="number"&&(c=l({},m,{radius:c})),$(this,c),this._latlng=Te(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new ye(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:lr.prototype.setStyle,_project:function(){var a=this._latlng.lng,c=this._latlng.lat,m=this._map,b=m.options.crs;if(b.distance===St.distance){var T=Math.PI/180,R=this._mRadius/St.R/T,V=m.project([c+R,a]),Q=m.project([c-R,a]),ne=V.add(Q).divideBy(2),de=m.unproject(ne).lat,we=Math.acos((Math.cos(R*T)-Math.sin(c*T)*Math.sin(de*T))/(Math.cos(c*T)*Math.cos(de*T)))/T;(isNaN(we)||we===0)&&(we=R/Math.cos(Math.PI/180*c)),this._point=ne.subtract(m.getPixelOrigin()),this._radius=isNaN(we)?0:ne.x-m.project([de,a-we]).x,this._radiusY=ne.y-V.y}else{var Oe=b.unproject(b.project(this._latlng).subtract([this._mRadius,0]));this._point=m.latLngToLayerPoint(this._latlng),this._radius=this._point.x-m.latLngToLayerPoint(Oe).x}this._updateBounds()}});function Ch(a,c,m){return new Pl(a,c,m)}var Mr=lr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,c){$(this,c),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var c=1/0,m=null,b=Be,T,R,V=0,Q=this._parts.length;V<Q;V++)for(var ne=this._parts[V],de=1,we=ne.length;de<we;de++){T=ne[de-1],R=ne[de];var Oe=b(a,T,R,!0);Oe<c&&(c=Oe,m=b(a,T,R))}return m&&(m.distance=Math.sqrt(c)),m},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Mt(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,c){return c=c||this._defaultShape(),a=Te(a),c.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new ye,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return ut(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var c=[],m=ut(a),b=0,T=a.length;b<T;b++)m?(c[b]=Te(a[b]),this._bounds.extend(c[b])):c[b]=this._convertLatLngs(a[b]);return c},_project:function(){var a=new q;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),c=new ge(a,a);this._rawPxBounds&&(this._pxBounds=new q([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(a,c,m){var b=a[0]instanceof Ae,T=a.length,R,V;if(b){for(V=[],R=0;R<T;R++)V[R]=this._map.latLngToLayerPoint(a[R]),m.extend(V[R]);c.push(V)}else for(R=0;R<T;R++)this._projectLatlngs(a[R],c,m)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var c=this._parts,m,b,T,R,V,Q,ne;for(m=0,T=0,R=this._rings.length;m<R;m++)for(ne=this._rings[m],b=0,V=ne.length;b<V-1;b++)Q=P(ne[b],ne[b+1],a,b,!0),Q&&(c[T]=c[T]||[],c[T].push(Q[0]),(Q[1]!==ne[b+1]||b===V-2)&&(c[T].push(Q[1]),T++))}},_simplifyPoints:function(){for(var a=this._parts,c=this.options.smoothFactor,m=0,b=a.length;m<b;m++)a[m]=Sn(a[m],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,c){var m,b,T,R,V,Q,ne=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(m=0,R=this._parts.length;m<R;m++)for(Q=this._parts[m],b=0,V=Q.length,T=V-1;b<V;T=b++)if(!(!c&&b===0)&&Oo(a,Q[T],Q[b])<=ne)return!0;return!1}});function im(a,c){return new Mr(a,c)}Mr._flat=ht;var Ea=Mr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Mo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var c=Mr.prototype._convertLatLngs.call(this,a),m=c.length;return m>=2&&c[0]instanceof Ae&&c[0].equals(c[m-1])&&c.pop(),c},_setLatLngs:function(a){Mr.prototype._setLatLngs.call(this,a),ut(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ut(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,c=this.options.weight,m=new ge(c,c);if(a=new q(a.min.subtract(m),a.max.add(m)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var b=0,T=this._rings.length,R;b<T;b++)R=Po(this._rings[b],a,!0),R.length&&this._parts.push(R)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var c=!1,m,b,T,R,V,Q,ne,de;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(R=0,ne=this._parts.length;R<ne;R++)for(m=this._parts[R],V=0,de=m.length,Q=de-1;V<de;Q=V++)b=m[V],T=m[Q],b.y>a.y!=T.y>a.y&&a.x<(T.x-b.x)*(a.y-b.y)/(T.y-b.y)+b.x&&(c=!c);return c||Mr.prototype._containsPoint.call(this,a,!0)}});function rm(a,c){return new Ea(a,c)}var Or=ar.extend({initialize:function(a,c){$(this,c),this._layers={},a&&this.addData(a)},addData:function(a){var c=J(a)?a:a.features,m,b,T;if(c){for(m=0,b=c.length;m<b;m++)T=c[m],(T.geometries||T.geometry||T.features||T.coordinates)&&this.addData(T);return this}var R=this.options;if(R.filter&&!R.filter(a))return this;var V=Cn(a,R);return V?(V.feature=Ll(a),V.defaultOptions=V.options,this.resetStyle(V),R.onEachFeature&&R.onEachFeature(a,V),this.addLayer(V)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=l({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(c){this._setLayerStyle(c,a)},this)},_setLayerStyle:function(a,c){a.setStyle&&(typeof c=="function"&&(c=c(a.feature)),a.setStyle(c))}});function Cn(a,c){var m=a.type==="Feature"?a.geometry:a,b=m?m.coordinates:null,T=[],R=c&&c.pointToLayer,V=c&&c.coordsToLatLng||Ml,Q,ne,de,we;if(!b&&!m)return null;switch(m.type){case"Point":return Q=V(b),wa(R,a,Q,c);case"MultiPoint":for(de=0,we=b.length;de<we;de++)Q=V(b[de]),T.push(wa(R,a,Q,c));return new ar(T);case"LineString":case"MultiLineString":return ne=Vo(b,m.type==="LineString"?0:1,V),new Mr(ne,c);case"Polygon":case"MultiPolygon":return ne=Vo(b,m.type==="Polygon"?1:2,V),new Ea(ne,c);case"GeometryCollection":for(de=0,we=m.geometries.length;de<we;de++){var Oe=Cn({geometry:m.geometries[de],type:"Feature",properties:a.properties},c);Oe&&T.push(Oe)}return new ar(T);case"FeatureCollection":for(de=0,we=m.features.length;de<we;de++){var Ke=Cn(m.features[de],c);Ke&&T.push(Ke)}return new ar(T);default:throw new Error("Invalid GeoJSON object.")}}function wa(a,c,m,b){return a?a(c,m):new jo(m,b&&b.markersInheritOptions&&b)}function Ml(a){return new Ae(a[1],a[0],a[2])}function Vo(a,c,m){for(var b=[],T=0,R=a.length,V;T<R;T++)V=c?Vo(a[T],c-1,m):(m||Ml)(a[T]),b.push(V);return b}function Ol(a,c){return a=Te(a),a.alt!==void 0?[N(a.lng,c),N(a.lat,c),N(a.alt,c)]:[N(a.lng,c),N(a.lat,c)]}function zo(a,c,m,b){for(var T=[],R=0,V=a.length;R<V;R++)T.push(c?zo(a[R],ut(a[R])?0:c-1,m,b):Ol(a[R],b));return!c&&m&&T.length>0&&T.push(T[0].slice()),T}function rs(a,c){return a.feature?l({},a.feature,{geometry:c}):Ll(c)}function Ll(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var ss={toGeoJSON:function(a){return rs(this,{type:"Point",coordinates:Ol(this.getLatLng(),a)})}};jo.include(ss),Pl.include(ss),ba.include(ss),Mr.include({toGeoJSON:function(a){var c=!ut(this._latlngs),m=zo(this._latlngs,c?1:0,!1,a);return rs(this,{type:(c?"Multi":"")+"LineString",coordinates:m})}}),Ea.include({toGeoJSON:function(a){var c=!ut(this._latlngs),m=c&&!ut(this._latlngs[0]),b=zo(this._latlngs,m?2:c?1:0,!0,a);return c||(b=[b]),rs(this,{type:(m?"Multi":"")+"Polygon",coordinates:b})}}),xa.include({toMultiPoint:function(a){var c=[];return this.eachLayer(function(m){c.push(m.toGeoJSON(a).geometry.coordinates)}),rs(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(a){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(c==="MultiPoint")return this.toMultiPoint(a);var m=c==="GeometryCollection",b=[];return this.eachLayer(function(T){if(T.toGeoJSON){var R=T.toGeoJSON(a);if(m)b.push(R.geometry);else{var V=Ll(R);V.type==="FeatureCollection"?b.push.apply(b,V.features):b.push(V)}}}),m?rs(this,{geometries:b,type:"GeometryCollection"}):{type:"FeatureCollection",features:b}}});function kl(a,c){return new Or(a,c)}var Uo=kl,Ta=Di.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,c,m){this._url=a,this._bounds=ve(c),$(this,m)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ne(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Xe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&Dt(this._image),this},bringToBack:function(){return this._map&&$n(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=ve(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",c=this._image=a?this._url:$e("img");if(Ne(c,"leaflet-image-layer"),this._zoomAnimated&&Ne(c,"leaflet-zoom-animated"),this.options.className&&Ne(c,this.options.className),c.onselectstart=w,c.onmousemove=w,c.onload=d(this.fire,this,"load"),c.onerror=d(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=c.src;return}c.src=this._url,c.alt=this.options.alt},_animateZoom:function(a){var c=this._map.getZoomScale(a.zoom),m=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;Ri(this._image,m,c)},_reset:function(){var a=this._image,c=new q(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),m=c.getSize();Et(a,c.min),a.style.width=m.x+"px",a.style.height=m.y+"px"},_updateOpacity:function(){Pt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),Nh=function(a,c,m){return new Ta(a,c,m)},as=Ta.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",c=this._image=a?this._url:$e("video");if(Ne(c,"leaflet-image-layer"),this._zoomAnimated&&Ne(c,"leaflet-zoom-animated"),this.options.className&&Ne(c,this.options.className),c.onselectstart=w,c.onmousemove=w,c.onloadeddata=d(this.fire,this,"load"),a){for(var m=c.getElementsByTagName("source"),b=[],T=0;T<m.length;T++)b.push(m[T].src);this._url=m.length>0?b:[c.src];return}J(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var R=0;R<this._url.length;R++){var V=$e("source");V.src=this._url[R],c.appendChild(V)}}});function Aa(a,c,m){return new as(a,c,m)}var Dl=Ta.extend({_initImage:function(){var a=this._image=this._url;Ne(a,"leaflet-image-layer"),this._zoomAnimated&&Ne(a,"leaflet-zoom-animated"),this.options.className&&Ne(a,this.options.className),a.onselectstart=w,a.onmousemove=w}});function Rh(a,c,m){return new Dl(a,c,m)}var Nn=Di.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,c){a&&(a instanceof Ae||J(a))?(this._latlng=Te(a),$(this,c)):($(this,a),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&Pt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&Pt(this._container,1),this.bringToFront(),this.options.interactive&&(Ne(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(Pt(this._container,0),this._removeTimeout=setTimeout(d(Xe,void 0,this._container),200)):Xe(this._container),this.options.interactive&&(bt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=Te(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Dt(this._container),this},bringToBack:function(){return this._map&&$n(this._container),this},_prepareOpen:function(a){var c=this._source;if(!c._map)return!1;if(c instanceof ar){c=null;var m=this._source._layers;for(var b in m)if(m[b]._map){c=m[b];break}if(!c)return!1;this._source=c}if(!a)if(c.getCenter)a=c.getCenter();else if(c.getLatLng)a=c.getLatLng();else if(c.getBounds)a=c.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,c=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof c=="string")a.innerHTML=c;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),c=Se(this.options.offset),m=this._getAnchor();this._zoomAnimated?Et(this._container,a.add(m)):c=c.add(a).add(m);var b=this._containerBottom=-c.y,T=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=b+"px",this._container.style.left=T+"px"}},_getAnchor:function(){return[0,0]}});Qe.include({_initOverlay:function(a,c,m,b){var T=c;return T instanceof a||(T=new a(b).setContent(c)),m&&T.setLatLng(m),T}}),Di.include({_initOverlay:function(a,c,m,b){var T=m;return T instanceof a?($(T,b),T._source=this):(T=c&&!b?c:new a(b,this),T.setContent(m)),T}});var Bo=Nn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,Nn.prototype.openOn.call(this,a)},onAdd:function(a){Nn.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof lr||this._source.on("preclick",nt))},onRemove:function(a){Nn.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof lr||this._source.off("preclick",nt))},getEvents:function(){var a=Nn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",c=this._container=$e("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),m=this._wrapper=$e("div",a+"-content-wrapper",c);if(this._contentNode=$e("div",a+"-content",m),Nr(c),hi(this._contentNode),je(c,"contextmenu",nt),this._tipContainer=$e("div",a+"-tip-container",c),this._tip=$e("div",a+"-tip",this._tipContainer),this.options.closeButton){var b=this._closeButton=$e("a",a+"-close-button",c);b.setAttribute("role","button"),b.setAttribute("aria-label","Close popup"),b.href="#close",b.innerHTML='<span aria-hidden="true">&#215;</span>',je(b,"click",function(T){jt(T),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,c=a.style;c.width="",c.whiteSpace="nowrap";var m=a.offsetWidth;m=Math.min(m,this.options.maxWidth),m=Math.max(m,this.options.minWidth),c.width=m+1+"px",c.whiteSpace="",c.height="";var b=a.offsetHeight,T=this.options.maxHeight,R="leaflet-popup-scrolled";T&&b>T?(c.height=T+"px",Ne(a,R)):bt(a,R),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),m=this._getAnchor();Et(this._container,c.add(m))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,c=parseInt(Xr(this._container,"marginBottom"),10)||0,m=this._container.offsetHeight+c,b=this._containerWidth,T=new ge(this._containerLeft,-m-this._containerBottom);T._add(nr(this._container));var R=a.layerPointToContainerPoint(T),V=Se(this.options.autoPanPadding),Q=Se(this.options.autoPanPaddingTopLeft||V),ne=Se(this.options.autoPanPaddingBottomRight||V),de=a.getSize(),we=0,Oe=0;R.x+b+ne.x>de.x&&(we=R.x+b-de.x+ne.x),R.x-we-Q.x<0&&(we=R.x-Q.x),R.y+m+ne.y>de.y&&(Oe=R.y+m-de.y+ne.y),R.y-Oe-Q.y<0&&(Oe=R.y-Q.y),(we||Oe)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([we,Oe]))}},_getAnchor:function(){return Se(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ih=function(a,c){return new Bo(a,c)};Qe.mergeOptions({closePopupOnClick:!0}),Qe.include({openPopup:function(a,c,m){return this._initOverlay(Bo,a,c,m).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),Di.include({bindPopup:function(a,c){return this._popup=this._initOverlay(Bo,this._popup,a,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof ar||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){Ii(a);var c=a.layer||a.target;if(this._popup._source===c&&!(c instanceof lr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=c,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var qo=Nn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){Nn.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){Nn.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=Nn.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",c=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=$e("div",c),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var c,m,b=this._map,T=this._container,R=b.latLngToContainerPoint(b.getCenter()),V=b.layerPointToContainerPoint(a),Q=this.options.direction,ne=T.offsetWidth,de=T.offsetHeight,we=Se(this.options.offset),Oe=this._getAnchor();Q==="top"?(c=ne/2,m=de):Q==="bottom"?(c=ne/2,m=0):Q==="center"?(c=ne/2,m=de/2):Q==="right"?(c=0,m=de/2):Q==="left"?(c=ne,m=de/2):V.x<R.x?(Q="right",c=0,m=de/2):(Q="left",c=ne+(we.x+Oe.x)*2,m=de/2),a=a.subtract(Se(c,m,!0)).add(we).add(Oe),bt(T,"leaflet-tooltip-right"),bt(T,"leaflet-tooltip-left"),bt(T,"leaflet-tooltip-top"),bt(T,"leaflet-tooltip-bottom"),Ne(T,"leaflet-tooltip-"+Q),Et(T,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&Pt(this._container,a)},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(c)},_getAnchor:function(){return Se(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),sm=function(a,c){return new qo(a,c)};Qe.include({openTooltip:function(a,c,m){return this._initOverlay(qo,a,c,m).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),Di.include({bindTooltip:function(a,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(qo,this._tooltip,a,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var c=a?"off":"on",m={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?m.add=this._openTooltip:(m.mouseover=this._openTooltip,m.mouseout=this.closeTooltip,m.click=this._openTooltip,this._map?this._addFocusListeners():m.add=this._addFocusListeners),this._tooltip.options.sticky&&(m.mousemove=this._moveTooltip),this[c](m),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof ar||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var c=typeof a.getElement=="function"&&a.getElement();c&&(je(c,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),je(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var c=typeof a.getElement=="function"&&a.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var c=this;this._map.once("moveend",function(){c._openOnceFlag=!1,c._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var c=a.latlng,m,b;this._tooltip.options.sticky&&a.originalEvent&&(m=this._map.mouseEventToContainerPoint(a.originalEvent),b=this._map.containerPointToLayerPoint(m),c=this._map.layerPointToLatLng(b)),this._tooltip.setLatLng(c)}});var Ph=or.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var c=a&&a.tagName==="DIV"?a:document.createElement("div"),m=this.options;if(m.html instanceof Element?(kt(c),c.appendChild(m.html)):c.innerHTML=m.html!==!1?m.html:"",m.bgPos){var b=Se(m.bgPos);c.style.backgroundPosition=-b.x+"px "+-b.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});function am(a){return new Ph(a)}or.Default=ko;var Sa=Di.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ie.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){$(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),Xe(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Dt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&($n(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=x(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof ge?a:new ge(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var c=this.getPane().children,m=-a(-1/0,1/0),b=0,T=c.length,R;b<T;b++)R=c[b].style.zIndex,c[b]!==this._container&&R&&(m=a(m,+R));isFinite(m)&&(this.options.zIndex=m+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ie.ielt9){Pt(this._container,this.options.opacity);var a=+new Date,c=!1,m=!1;for(var b in this._tiles){var T=this._tiles[b];if(!(!T.current||!T.loaded)){var R=Math.min(1,(a-T.loaded)/200);Pt(T.el,R),R<1?c=!0:(T.active?m=!0:this._onOpaqueTile(T),T.active=!0)}}m&&!this._noPrune&&this._pruneTiles(),c&&(G(this._fadeFrame),this._fadeFrame=B(this._updateOpacity,this))}},_onOpaqueTile:w,_initContainer:function(){this._container||(this._container=$e("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,c=this.options.maxZoom;if(a!==void 0){for(var m in this._levels)m=Number(m),this._levels[m].el.children.length||m===a?(this._levels[m].el.style.zIndex=c-Math.abs(a-m),this._onUpdateLevel(m)):(Xe(this._levels[m].el),this._removeTilesAtZoom(m),this._onRemoveLevel(m),delete this._levels[m]);var b=this._levels[a],T=this._map;return b||(b=this._levels[a]={},b.el=$e("div","leaflet-tile-container leaflet-zoom-animated",this._container),b.el.style.zIndex=c,b.origin=T.project(T.unproject(T.getPixelOrigin()),a).round(),b.zoom=a,this._setZoomTransform(b,T.getCenter(),T.getZoom()),w(b.el.offsetWidth),this._onCreateLevel(b)),this._level=b,b}},_onUpdateLevel:w,_onRemoveLevel:w,_onCreateLevel:w,_pruneTiles:function(){if(this._map){var a,c,m=this._map.getZoom();if(m>this.options.maxZoom||m<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)c=this._tiles[a],c.retain=c.current;for(a in this._tiles)if(c=this._tiles[a],c.current&&!c.active){var b=c.coords;this._retainParent(b.x,b.y,b.z,b.z-5)||this._retainChildren(b.x,b.y,b.z,b.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var c in this._tiles)this._tiles[c].coords.z===a&&this._removeTile(c)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)Xe(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,c,m,b){var T=Math.floor(a/2),R=Math.floor(c/2),V=m-1,Q=new ge(+T,+R);Q.z=+V;var ne=this._tileCoordsToKey(Q),de=this._tiles[ne];return de&&de.active?(de.retain=!0,!0):(de&&de.loaded&&(de.retain=!0),V>b?this._retainParent(T,R,V,b):!1)},_retainChildren:function(a,c,m,b){for(var T=2*a;T<2*a+2;T++)for(var R=2*c;R<2*c+2;R++){var V=new ge(T,R);V.z=m+1;var Q=this._tileCoordsToKey(V),ne=this._tiles[Q];if(ne&&ne.active){ne.retain=!0;continue}else ne&&ne.loaded&&(ne.retain=!0);m+1<b&&this._retainChildren(T,R,m+1,b)}},_resetView:function(a){var c=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var c=this.options;return c.minNativeZoom!==void 0&&a<c.minNativeZoom?c.minNativeZoom:c.maxNativeZoom!==void 0&&c.maxNativeZoom<a?c.maxNativeZoom:a},_setView:function(a,c,m,b){var T=Math.round(c);this.options.maxZoom!==void 0&&T>this.options.maxZoom||this.options.minZoom!==void 0&&T<this.options.minZoom?T=void 0:T=this._clampZoom(T);var R=this.options.updateWhenZooming&&T!==this._tileZoom;(!b||R)&&(this._tileZoom=T,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),T!==void 0&&this._update(a),m||this._pruneTiles(),this._noPrune=!!m),this._setZoomTransforms(a,c)},_setZoomTransforms:function(a,c){for(var m in this._levels)this._setZoomTransform(this._levels[m],a,c)},_setZoomTransform:function(a,c,m){var b=this._map.getZoomScale(m,a.zoom),T=a.origin.multiplyBy(b).subtract(this._map._getNewPixelOrigin(c,m)).round();Ie.any3d?Ri(a.el,T,b):Et(a.el,T)},_resetGrid:function(){var a=this._map,c=a.options.crs,m=this._tileSize=this.getTileSize(),b=this._tileZoom,T=this._map.getPixelWorldBounds(this._tileZoom);T&&(this._globalTileRange=this._pxBoundsToTileRange(T)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,c.wrapLng[0]],b).x/m.x),Math.ceil(a.project([0,c.wrapLng[1]],b).x/m.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([c.wrapLat[0],0],b).y/m.x),Math.ceil(a.project([c.wrapLat[1],0],b).y/m.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var c=this._map,m=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),b=c.getZoomScale(m,this._tileZoom),T=c.project(a,this._tileZoom).floor(),R=c.getSize().divideBy(b*2);return new q(T.subtract(R),T.add(R))},_update:function(a){var c=this._map;if(c){var m=this._clampZoom(c.getZoom());if(a===void 0&&(a=c.getCenter()),this._tileZoom!==void 0){var b=this._getTiledPixelBounds(a),T=this._pxBoundsToTileRange(b),R=T.getCenter(),V=[],Q=this.options.keepBuffer,ne=new q(T.getBottomLeft().subtract([Q,-Q]),T.getTopRight().add([Q,-Q]));if(!(isFinite(T.min.x)&&isFinite(T.min.y)&&isFinite(T.max.x)&&isFinite(T.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var de in this._tiles){var we=this._tiles[de].coords;(we.z!==this._tileZoom||!ne.contains(new ge(we.x,we.y)))&&(this._tiles[de].current=!1)}if(Math.abs(m-this._tileZoom)>1){this._setView(a,m);return}for(var Oe=T.min.y;Oe<=T.max.y;Oe++)for(var Ke=T.min.x;Ke<=T.max.x;Ke++){var vn=new ge(Ke,Oe);if(vn.z=this._tileZoom,!!this._isValidTile(vn)){var Wt=this._tiles[this._tileCoordsToKey(vn)];Wt?Wt.current=!0:V.push(vn)}}if(V.sort(function(pt,gt){return pt.distanceTo(R)-gt.distanceTo(R)}),V.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ei=document.createDocumentFragment();for(Ke=0;Ke<V.length;Ke++)this._addTile(V[Ke],ei);this._level.el.appendChild(ei)}}}},_isValidTile:function(a){var c=this._map.options.crs;if(!c.infinite){var m=this._globalTileRange;if(!c.wrapLng&&(a.x<m.min.x||a.x>m.max.x)||!c.wrapLat&&(a.y<m.min.y||a.y>m.max.y))return!1}if(!this.options.bounds)return!0;var b=this._tileCoordsToBounds(a);return ve(this.options.bounds).overlaps(b)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var c=this._map,m=this.getTileSize(),b=a.scaleBy(m),T=b.add(m),R=c.unproject(b,a.z),V=c.unproject(T,a.z);return[R,V]},_tileCoordsToBounds:function(a){var c=this._tileCoordsToNwSe(a),m=new ye(c[0],c[1]);return this.options.noWrap||(m=this._map.wrapLatLngBounds(m)),m},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var c=a.split(":"),m=new ge(+c[0],+c[1]);return m.z=+c[2],m},_removeTile:function(a){var c=this._tiles[a];c&&(Xe(c.el),delete this._tiles[a],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){Ne(a,"leaflet-tile");var c=this.getTileSize();a.style.width=c.x+"px",a.style.height=c.y+"px",a.onselectstart=w,a.onmousemove=w,Ie.ielt9&&this.options.opacity<1&&Pt(a,this.options.opacity)},_addTile:function(a,c){var m=this._getTilePos(a),b=this._tileCoordsToKey(a),T=this.createTile(this._wrapCoords(a),d(this._tileReady,this,a));this._initTile(T),this.createTile.length<2&&B(d(this._tileReady,this,a,null,T)),Et(T,m),this._tiles[b]={el:T,coords:a,current:!0},c.appendChild(T),this.fire("tileloadstart",{tile:T,coords:a})},_tileReady:function(a,c,m){c&&this.fire("tileerror",{error:c,tile:m,coords:a});var b=this._tileCoordsToKey(a);m=this._tiles[b],m&&(m.loaded=+new Date,this._map._fadeAnimated?(Pt(m.el,0),G(this._fadeFrame),this._fadeFrame=B(this._updateOpacity,this)):(m.active=!0,this._pruneTiles()),c||(Ne(m.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:m.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ie.ielt9||!this._map._fadeAnimated?B(this._pruneTiles,this):setTimeout(d(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var c=new ge(this._wrapX?S(a.x,this._wrapX):a.x,this._wrapY?S(a.y,this._wrapY):a.y);return c.z=a.z,c},_pxBoundsToTileRange:function(a){var c=this.getTileSize();return new q(a.min.unscaleBy(c).floor(),a.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function Mh(a){return new Sa(a)}var os=Sa.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,c){this._url=a,c=$(this,c),c.detectRetina&&Ie.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),typeof c.subdomains=="string"&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,c){return this._url===a&&c===void 0&&(c=!0),this._url=a,c||this.redraw(),this},createTile:function(a,c){var m=document.createElement("img");return je(m,"load",d(this._tileOnLoad,this,c,m)),je(m,"error",d(this._tileOnError,this,c,m)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(m.referrerPolicy=this.options.referrerPolicy),m.alt="",m.src=this.getTileUrl(a),m},getTileUrl:function(a){var c={r:Ie.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var m=this._globalTileRange.max.y-a.y;this.options.tms&&(c.y=m),c["-y"]=m}return pe(this._url,l(c,this.options))},_tileOnLoad:function(a,c){Ie.ielt9?setTimeout(d(a,this,null,c),0):a(null,c)},_tileOnError:function(a,c,m){var b=this.options.errorTileUrl;b&&c.getAttribute("src")!==b&&(c.src=b),a(m,c)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,c=this.options.maxZoom,m=this.options.zoomReverse,b=this.options.zoomOffset;return m&&(a=c-a),a+b},_getSubdomain:function(a){var c=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var a,c;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(c=this._tiles[a].el,c.onload=w,c.onerror=w,!c.complete)){c.src=_e;var m=this._tiles[a].coords;Xe(c),delete this._tiles[a],this.fire("tileabort",{tile:c,coords:m})}},_removeTile:function(a){var c=this._tiles[a];if(c)return c.el.setAttribute("src",_e),Sa.prototype._removeTile.call(this,a)},_tileReady:function(a,c,m){if(!(!this._map||m&&m.getAttribute("src")===_e))return Sa.prototype._tileReady.call(this,a,c,m)}});function mi(a,c){return new os(a,c)}var Ho=os.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,c){this._url=a;var m=l({},this.defaultWmsParams);for(var b in c)b in this.options||(m[b]=c[b]);c=$(this,c);var T=c.detectRetina&&Ie.retina?2:1,R=this.getTileSize();m.width=R.x*T,m.height=R.y*T,this.wmsParams=m},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var c=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[c]=this._crs.code,os.prototype.onAdd.call(this,a)},getTileUrl:function(a){var c=this._tileCoordsToNwSe(a),m=this._crs,b=oe(m.project(c[0]),m.project(c[1])),T=b.min,R=b.max,V=(this._wmsVersion>=1.3&&this._crs===Ds?[T.y,T.x,R.y,R.x]:[T.x,T.y,R.x,R.y]).join(","),Q=os.prototype.getTileUrl.call(this,a);return Q+Z(this.wmsParams,Q,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+V},setParams:function(a,c){return l(this.wmsParams,a),c||this.redraw(),this}});function pi(a,c){return new Ho(a,c)}os.WMS=Ho,mi.wms=pi;var qn=Di.extend({options:{padding:.1},initialize:function(a){$(this,a),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ne(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,c){var m=this._map.getZoomScale(c,this._zoom),b=this._map.getSize().multiplyBy(.5+this.options.padding),T=this._map.project(this._center,c),R=b.multiplyBy(-m).add(T).subtract(this._map._getNewPixelOrigin(a,c));Ie.any3d?Ri(this._container,R,m):Et(this._container,R)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,c=this._map.getSize(),m=this._map.containerPointToLayerPoint(c.multiplyBy(-a)).round();this._bounds=new q(m,m.add(c.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),jl=qn.extend({options:{tolerance:0},getEvents:function(){var a=qn.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){qn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");je(a,"mousemove",this._onMouseMove,this),je(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),je(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){G(this._redrawRequest),delete this._ctx,Xe(this._container),mt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var c in this._layers)a=this._layers[c],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){qn.prototype._update.call(this);var a=this._bounds,c=this._container,m=a.getSize(),b=Ie.retina?2:1;Et(c,a.min),c.width=b*m.x,c.height=b*m.y,c.style.width=m.x+"px",c.style.height=m.y+"px",Ie.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){qn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[y(a)]=a;var c=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var c=a._order,m=c.next,b=c.prev;m?m.prev=b:this._drawLast=b,b?b.next=m:this._drawFirst=m,delete a._order,delete this._layers[y(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var c=a.options.dashArray.split(/[, ]+/),m=[],b,T;for(T=0;T<c.length;T++){if(b=Number(c[T]),isNaN(b))return;m.push(b)}a.options._dashArray=m}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||B(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var c=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new q,this._redrawBounds.extend(a._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(a._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var c=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,c=this._redrawBounds;if(this._ctx.save(),c){var m=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,m.x,m.y),this._ctx.clip()}this._drawing=!0;for(var b=this._drawFirst;b;b=b.next)a=b.layer,(!c||a._pxBounds&&a._pxBounds.intersects(c))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,c){if(this._drawing){var m,b,T,R,V=a._parts,Q=V.length,ne=this._ctx;if(Q){for(ne.beginPath(),m=0;m<Q;m++){for(b=0,T=V[m].length;b<T;b++)R=V[m][b],ne[b?"lineTo":"moveTo"](R.x,R.y);c&&ne.closePath()}this._fillStroke(ne,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var c=a._point,m=this._ctx,b=Math.max(Math.round(a._radius),1),T=(Math.max(Math.round(a._radiusY),1)||b)/b;T!==1&&(m.save(),m.scale(1,T)),m.beginPath(),m.arc(c.x,c.y/T,b,0,Math.PI*2,!1),T!==1&&m.restore(),this._fillStroke(m,a)}},_fillStroke:function(a,c){var m=c.options;m.fill&&(a.globalAlpha=m.fillOpacity,a.fillStyle=m.fillColor||m.color,a.fill(m.fillRule||"evenodd")),m.stroke&&m.weight!==0&&(a.setLineDash&&a.setLineDash(c.options&&c.options._dashArray||[]),a.globalAlpha=m.opacity,a.lineWidth=m.weight,a.strokeStyle=m.color,a.lineCap=m.lineCap,a.lineJoin=m.lineJoin,a.stroke())},_onClick:function(a){for(var c=this._map.mouseEventToLayerPoint(a),m,b,T=this._drawFirst;T;T=T.next)m=T.layer,m.options.interactive&&m._containsPoint(c)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(m))&&(b=m);this._fireEvent(b?[b]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var c=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,c)}},_handleMouseOut:function(a){var c=this._hoveredLayer;c&&(bt(this._container,"leaflet-interactive"),this._fireEvent([c],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,c){if(!this._mouseHoverThrottled){for(var m,b,T=this._drawFirst;T;T=T.next)m=T.layer,m.options.interactive&&m._containsPoint(c)&&(b=m);b!==this._hoveredLayer&&(this._handleMouseOut(a),b&&(Ne(this._container,"leaflet-interactive"),this._fireEvent([b],a,"mouseover"),this._hoveredLayer=b)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(d(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,c,m){this._map._fireDOMEvent(c,m||c.type,a)},_bringToFront:function(a){var c=a._order;if(c){var m=c.next,b=c.prev;if(m)m.prev=b;else return;b?b.next=m:m&&(this._drawFirst=m),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(a)}},_bringToBack:function(a){var c=a._order;if(c){var m=c.next,b=c.prev;if(b)b.next=m;else return;m?m.prev=b:b&&(this._drawLast=b),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(a)}}});function Fo(a){return Ie.canvas?new jl(a):null}var ls=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Hc={_initContainer:function(){this._container=$e("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(qn.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var c=a._container=ls("shape");Ne(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",a._path=ls("path"),c.appendChild(a._path),this._updateStyle(a),this._layers[y(a)]=a},_addPath:function(a){var c=a._container;this._container.appendChild(c),a.options.interactive&&a.addInteractiveTarget(c)},_removePath:function(a){var c=a._container;Xe(c),a.removeInteractiveTarget(c),delete this._layers[y(a)]},_updateStyle:function(a){var c=a._stroke,m=a._fill,b=a.options,T=a._container;T.stroked=!!b.stroke,T.filled=!!b.fill,b.stroke?(c||(c=a._stroke=ls("stroke")),T.appendChild(c),c.weight=b.weight+"px",c.color=b.color,c.opacity=b.opacity,b.dashArray?c.dashStyle=J(b.dashArray)?b.dashArray.join(" "):b.dashArray.replace(/( *, *)/g," "):c.dashStyle="",c.endcap=b.lineCap.replace("butt","flat"),c.joinstyle=b.lineJoin):c&&(T.removeChild(c),a._stroke=null),b.fill?(m||(m=a._fill=ls("fill")),T.appendChild(m),m.color=b.fillColor||b.color,m.opacity=b.fillOpacity):m&&(T.removeChild(m),a._fill=null)},_updateCircle:function(a){var c=a._point.round(),m=Math.round(a._radius),b=Math.round(a._radiusY||m);this._setPath(a,a._empty()?"M0 0":"AL "+c.x+","+c.y+" "+m+","+b+" 0,"+65535*360)},_setPath:function(a,c){a._path.v=c},_bringToFront:function(a){Dt(a._container)},_bringToBack:function(a){$n(a._container)}},cr=Ie.vml?ls:oa,Ca=qn.extend({_initContainer:function(){this._container=cr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=cr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Xe(this._container),mt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){qn.prototype._update.call(this);var a=this._bounds,c=a.getSize(),m=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,m.setAttribute("width",c.x),m.setAttribute("height",c.y)),Et(m,a.min),m.setAttribute("viewBox",[a.min.x,a.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(a){var c=a._path=cr("path");a.options.className&&Ne(c,a.options.className),a.options.interactive&&Ne(c,"leaflet-interactive"),this._updateStyle(a),this._layers[y(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){Xe(a._path),a.removeInteractiveTarget(a._path),delete this._layers[y(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var c=a._path,m=a.options;c&&(m.stroke?(c.setAttribute("stroke",m.color),c.setAttribute("stroke-opacity",m.opacity),c.setAttribute("stroke-width",m.weight),c.setAttribute("stroke-linecap",m.lineCap),c.setAttribute("stroke-linejoin",m.lineJoin),m.dashArray?c.setAttribute("stroke-dasharray",m.dashArray):c.removeAttribute("stroke-dasharray"),m.dashOffset?c.setAttribute("stroke-dashoffset",m.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),m.fill?(c.setAttribute("fill",m.fillColor||m.color),c.setAttribute("fill-opacity",m.fillOpacity),c.setAttribute("fill-rule",m.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(a,c){this._setPath(a,Kr(a._parts,c))},_updateCircle:function(a){var c=a._point,m=Math.max(Math.round(a._radius),1),b=Math.max(Math.round(a._radiusY),1)||m,T="a"+m+","+b+" 0 1,0 ",R=a._empty()?"M0 0":"M"+(c.x-m)+","+c.y+T+m*2+",0 "+T+-m*2+",0 ";this._setPath(a,R)},_setPath:function(a,c){a._path.setAttribute("d",c)},_bringToFront:function(a){Dt(a._path)},_bringToBack:function(a){$n(a._path)}});Ie.vml&&Ca.include(Hc);function Go(a){return Ie.svg||Ie.vml?new Ca(a):null}Qe.include({getRenderer:function(a){var c=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var c=this._paneRenderers[a];return c===void 0&&(c=this._createRenderer({pane:a}),this._paneRenderers[a]=c),c},_createRenderer:function(a){return this.options.preferCanvas&&Fo(a)||Go(a)}});var js=Ea.extend({initialize:function(a,c){Ea.prototype.initialize.call(this,this._boundsToLatLngs(a),c)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=ve(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function om(a,c){return new js(a,c)}Ca.create=cr,Ca.pointsToPath=Kr,Or.geometryToLayer=Cn,Or.coordsToLatLng=Ml,Or.coordsToLatLngs=Vo,Or.latLngToCoords=Ol,Or.latLngsToCoords=zo,Or.getFeature=rs,Or.asFeature=Ll,Qe.mergeOptions({boxZoom:!0});var Hn=Wn.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){je(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){mt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Xe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ui(),Ps(),this._startPoint=this._map.mouseEventToContainerPoint(a),je(document,{contextmenu:Ii,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=$e("div","leaflet-zoom-box",this._container),Ne(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var c=new q(this._point,this._startPoint),m=c.getSize();Et(this._box,c.min),this._box.style.width=m.x+"px",this._box.style.height=m.y+"px"},_finish:function(){this._moved&&(Xe(this._box),bt(this._container,"leaflet-crosshair")),un(),Wr(),mt(document,{contextmenu:Ii,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(d(this._resetState,this),0);var c=new ye(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Qe.addInitHook("addHandler","boxZoom",Hn),Qe.mergeOptions({doubleClickZoom:!0});var Vl=Wn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var c=this._map,m=c.getZoom(),b=c.options.zoomDelta,T=a.originalEvent.shiftKey?m-b:m+b;c.options.doubleClickZoom==="center"?c.setZoom(T):c.setZoomAround(a.containerPoint,T)}});Qe.addInitHook("addHandler","doubleClickZoom",Vl),Qe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ur=Wn.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Li(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}Ne(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){bt(this._map._container,"leaflet-grab"),bt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=ve(this._map.options.maxBounds);this._offsetLimit=oe(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var c=this._lastTime=+new Date,m=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(m),this._times.push(c),this._prunePositions(c)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,c){return a-(a-c)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;a.x<c.min.x&&(a.x=this._viscousLimit(a.x,c.min.x)),a.y<c.min.y&&(a.y=this._viscousLimit(a.y,c.min.y)),a.x>c.max.x&&(a.x=this._viscousLimit(a.x,c.max.x)),a.y>c.max.y&&(a.y=this._viscousLimit(a.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,c=Math.round(a/2),m=this._initialWorldOffset,b=this._draggable._newPos.x,T=(b-c+m)%a+c-m,R=(b+c+m)%a-c-m,V=Math.abs(T+m)<Math.abs(R+m)?T:R;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=V},_onDragEnd:function(a){var c=this._map,m=c.options,b=!m.inertia||a.noInertia||this._times.length<2;if(c.fire("dragend",a),b)c.fire("moveend");else{this._prunePositions(+new Date);var T=this._lastPos.subtract(this._positions[0]),R=(this._lastTime-this._times[0])/1e3,V=m.easeLinearity,Q=T.multiplyBy(V/R),ne=Q.distanceTo([0,0]),de=Math.min(m.inertiaMaxSpeed,ne),we=Q.multiplyBy(de/ne),Oe=de/(m.inertiaDeceleration*V),Ke=we.multiplyBy(-Oe/2).round();!Ke.x&&!Ke.y?c.fire("moveend"):(Ke=c._limitOffset(Ke,c.options.maxBounds),B(function(){c.panBy(Ke,{duration:Oe,easeLinearity:V,noMoveStart:!0,animate:!0})}))}}});Qe.addInitHook("addHandler","dragging",ur),Qe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Fc=Wn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),je(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),mt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,c=document.documentElement,m=a.scrollTop||c.scrollTop,b=a.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(b,m)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var c=this._panKeys={},m=this.keyCodes,b,T;for(b=0,T=m.left.length;b<T;b++)c[m.left[b]]=[-1*a,0];for(b=0,T=m.right.length;b<T;b++)c[m.right[b]]=[a,0];for(b=0,T=m.down.length;b<T;b++)c[m.down[b]]=[0,a];for(b=0,T=m.up.length;b<T;b++)c[m.up[b]]=[0,-1*a]},_setZoomDelta:function(a){var c=this._zoomKeys={},m=this.keyCodes,b,T;for(b=0,T=m.zoomIn.length;b<T;b++)c[m.zoomIn[b]]=a;for(b=0,T=m.zoomOut.length;b<T;b++)c[m.zoomOut[b]]=-a},_addHooks:function(){je(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){mt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var c=a.keyCode,m=this._map,b;if(c in this._panKeys){if(!m._panAnim||!m._panAnim._inProgress)if(b=this._panKeys[c],a.shiftKey&&(b=Se(b).multiplyBy(3)),m.options.maxBounds&&(b=m._limitOffset(Se(b),m.options.maxBounds)),m.options.worldCopyJump){var T=m.wrapLatLng(m.unproject(m.project(m.getCenter()).add(b)));m.panTo(T)}else m.panBy(b)}else if(c in this._zoomKeys)m.setZoom(m.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[c]);else if(c===27&&m._popup&&m._popup.options.closeOnEscapeKey)m.closePopup();else return;Ii(a)}}});Qe.addInitHook("addHandler","keyboard",Fc),Qe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Zo=Wn.extend({addHooks:function(){je(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){mt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var c=hn(a),m=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var b=Math.max(m-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(d(this._performZoom,this),b),Ii(a)},_performZoom:function(){var a=this._map,c=a.getZoom(),m=this._map.options.zoomSnap||0;a._stop();var b=this._delta/(this._map.options.wheelPxPerZoomLevel*4),T=4*Math.log(2/(1+Math.exp(-Math.abs(b))))/Math.LN2,R=m?Math.ceil(T/m)*m:T,V=a._limitZoom(c+(this._delta>0?R:-R))-c;this._delta=0,this._startTime=null,V&&(a.options.scrollWheelZoom==="center"?a.setZoom(c+V):a.setZoomAround(this._lastMousePos,c+V))}});Qe.addInitHook("addHandler","scrollWheelZoom",Zo);var Vs=600;Qe.mergeOptions({tapHold:Ie.touchNative&&Ie.safari&&Ie.mobile,tapTolerance:15});var zl=Wn.extend({addHooks:function(){je(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){mt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var c=a.touches[0];this._startPos=this._newPos=new ge(c.clientX,c.clientY),this._holdTimeout=setTimeout(d(function(){this._cancel(),this._isTapValid()&&(je(document,"touchend",jt),je(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),Vs),je(document,"touchend touchcancel contextmenu",this._cancel,this),je(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){mt(document,"touchend",jt),mt(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),mt(document,"touchend touchcancel contextmenu",this._cancel,this),mt(document,"touchmove",this._onMove,this)},_onMove:function(a){var c=a.touches[0];this._newPos=new ge(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,c){var m=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});m._simulated=!0,c.target.dispatchEvent(m)}});Qe.addInitHook("addHandler","tapHold",zl),Qe.mergeOptions({touchZoom:Ie.touch,bounceAtZoomLimits:!0});var Gc=Wn.extend({addHooks:function(){Ne(this._map._container,"leaflet-touch-zoom"),je(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){bt(this._map._container,"leaflet-touch-zoom"),mt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var c=this._map;if(!(!a.touches||a.touches.length!==2||c._animatingZoom||this._zooming)){var m=c.mouseEventToContainerPoint(a.touches[0]),b=c.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),c.options.touchZoom!=="center"&&(this._pinchStartLatLng=c.containerPointToLatLng(m.add(b)._divideBy(2))),this._startDist=m.distanceTo(b),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),je(document,"touchmove",this._onTouchMove,this),je(document,"touchend touchcancel",this._onTouchEnd,this),jt(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var c=this._map,m=c.mouseEventToContainerPoint(a.touches[0]),b=c.mouseEventToContainerPoint(a.touches[1]),T=m.distanceTo(b)/this._startDist;if(this._zoom=c.getScaleZoom(T,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&T<1||this._zoom>c.getMaxZoom()&&T>1)&&(this._zoom=c._limitZoom(this._zoom)),c.options.touchZoom==="center"){if(this._center=this._startLatLng,T===1)return}else{var R=m._add(b)._divideBy(2)._subtract(this._centerPoint);if(T===1&&R.x===0&&R.y===0)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(R),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),G(this._animRequest);var V=d(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=B(V,this,!0),jt(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,G(this._animRequest),mt(document,"touchmove",this._onTouchMove,this),mt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Qe.addInitHook("addHandler","touchZoom",Gc),Qe.BoxZoom=Hn,Qe.DoubleClickZoom=Vl,Qe.Drag=ur,Qe.Keyboard=Fc,Qe.ScrollWheelZoom=Zo,Qe.TapHold=zl,Qe.TouchZoom=Gc,t.Bounds=q,t.Browser=Ie,t.CRS=He,t.Canvas=jl,t.Circle=Pl,t.CircleMarker=ba,t.Class=ct,t.Control=An,t.DivIcon=Ph,t.DivOverlay=Nn,t.DomEvent=sr,t.DomUtil=es,t.Draggable=Li,t.Evented=be,t.FeatureGroup=ar,t.GeoJSON=Or,t.GridLayer=Sa,t.Handler=Wn,t.Icon=or,t.ImageOverlay=Ta,t.LatLng=Ae,t.LatLngBounds=ye,t.Layer=Di,t.LayerGroup=xa,t.LineUtil=di,t.Map=Qe,t.Marker=jo,t.Mixin=Rl,t.Path=lr,t.Point=ge,t.PolyUtil=is,t.Polygon=Ea,t.Polyline=Mr,t.Popup=Bo,t.PosAnimation=Rr,t.Projection=ki,t.Rectangle=js,t.Renderer=qn,t.SVG=Ca,t.SVGOverlay=Dl,t.TileLayer=os,t.Tooltip=qo,t.Transformation=Gr,t.Util=z,t.VideoOverlay=as,t.bind=d,t.bounds=oe,t.canvas=Fo,t.circle=Ch,t.circleMarker=Sh,t.control=Bn,t.divIcon=am,t.extend=l,t.featureGroup=Th,t.geoJSON=kl,t.geoJson=Uo,t.gridLayer=Mh,t.icon=Lo,t.imageOverlay=Nh,t.latLng=Te,t.latLngBounds=ve,t.layerGroup=nm,t.map=ns,t.marker=Ah,t.point=Se,t.polygon=rm,t.polyline=im,t.popup=Ih,t.rectangle=om,t.setOptions=$,t.stamp=y,t.svg=Go,t.svgOverlay=Rh,t.tileLayer=mi,t.tooltip=sm,t.transformation=Zi,t.version=s,t.videoOverlay=Aa;var Zc=window.L;t.noConflict=function(){return window.L=Zc,this},window.L=t}))})(ju,ju.exports)),ju.exports}var wh=_j();const cA=lh(wh);function my(i,e,t){return Object.freeze({instance:i,context:e,container:t})}function py(i,e){return e==null?function(s,l){const h=j.useRef(void 0);return h.current||(h.current=i(s,l)),h}:function(s,l){const h=j.useRef(void 0);h.current||(h.current=i(s,l));const d=j.useRef(s),{instance:v}=h.current;return j.useEffect(function(){d.current!==s&&(e(v,s,d.current),d.current=s)},[v,s,e]),h}}function yj(i,e){j.useEffect(function(){return(e.layerContainer??e.map).addLayer(i.instance),function(){e.layerContainer?.removeLayer(i.instance),e.map.removeLayer(i.instance)}},[e,i])}function uA(i){return function(t){const s=oA(),l=i(fy(t,s),s);return aA(s.map,t.attribution),lA(l.current,t.eventHandlers),yj(l.current,s),l}}function vj(i,e){const t=py(i,e),s=uA(t);return dj(s)}function xj(i,e){const t=py(i),s=pj(t,e);return fj(s)}function bj(i,e){const t=py(i,e),s=uA(t);return mj(s)}function Ej(i,e,t){const{opacity:s,zIndex:l}=e;s!=null&&s!==t.opacity&&i.setOpacity(s),l!=null&&l!==t.zIndex&&i.setZIndex(l)}function wj({bounds:i,boundsOptions:e,center:t,children:s,className:l,id:h,placeholder:d,style:v,whenReady:y,zoom:x,...S},w){const[N]=j.useState({className:l,id:h,style:v}),[O,K]=j.useState(null),$=j.useRef(void 0);j.useImperativeHandle(w,()=>O?.map??null,[O]);const Z=j.useCallback(pe=>{if(pe!==null&&!$.current){const J=new wh.Map(pe,S);$.current=J,t!=null&&x!=null?J.setView(t,x):i!=null&&J.fitBounds(i,e),y!=null&&J.whenReady(y),K(uj(J))}},[]);j.useEffect(()=>()=>{O?.map.remove()},[O]);const ce=O?_r.createElement(dy,{value:O},s):d??null;return _r.createElement("div",{...N,ref:Z},ce)}const Tj=j.forwardRef(wj),Aj=vj(function({position:e,...t},s){const l=new wh.Marker(e,t);return my(l,hj(s,{overlayContainer:l}))},function(e,t,s){t.position!==s.position&&e.setLatLng(t.position),t.icon!=null&&t.icon!==s.icon&&e.setIcon(t.icon),t.zIndexOffset!=null&&t.zIndexOffset!==s.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),t.opacity!=null&&t.opacity!==s.opacity&&e.setOpacity(t.opacity),e.dragging!=null&&t.draggable!==s.draggable&&(t.draggable===!0?e.dragging.enable():e.dragging.disable())}),Sj=xj(function(e,t){const s=new wh.Popup(e,t.overlayContainer);return my(s,t)},function(e,t,{position:s},l){j.useEffect(function(){const{instance:d}=e;function v(x){x.popup===d&&(d.update(),l(!0))}function y(x){x.popup===d&&l(!1)}return t.map.on({popupopen:v,popupclose:y}),t.overlayContainer==null?(s!=null&&d.setLatLng(s),d.openOn(t.map)):t.overlayContainer.bindPopup(d),function(){t.map.off({popupopen:v,popupclose:y}),t.overlayContainer?.unbindPopup(),t.map.removeLayer(d)}},[e,t,l,s])}),Cj=bj(function({url:e,...t},s){const l=new wh.TileLayer(e,fy(t,s));return my(l,s)},function(e,t,s){Ej(e,t,s);const{url:l}=t;l!=null&&l!==s.url&&e.setUrl(l)}),Nj="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",Rj="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";let Ij=cA.icon({iconUrl:Nj,shadowUrl:Rj,iconSize:[25,41],iconAnchor:[12,41]});cA.Marker.prototype.options.icon=Ij;const Pj=({lat:i,lng:e,title:t})=>g.jsx("div",{className:"h-[400px] w-full rounded-xl overflow-hidden shadow-md border border-[var(--color-border)] z-0",children:g.jsxs(Tj,{center:[i,e],zoom:14,scrollWheelZoom:!1,className:"h-full w-full",style:{zIndex:0},children:[g.jsx(Cj,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),g.jsx(Aj,{position:[i,e],children:g.jsx(Sj,{children:t||"Ubicacin de la propiedad"})})]})}),Mj=()=>{const{id:i}=zE(),[e,t]=j.useState(null),[s,l]=j.useState(!0),[h,d]=j.useState(!1),[v,y]=j.useState(0);j.useEffect(()=>{window.scrollTo(0,0),(async()=>{if(i)try{const ce=await tm(i);t(ce)}catch(ce){console.error("Error fetching property:",ce)}finally{l(!1)}})()},[i]);const x=Z=>{y(Z),d(!0)};if(s)return g.jsx("div",{className:"flex justify-center items-center min-h-screen pt-20",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[var(--color-primary)]"})});if(!e)return g.jsxs("div",{className:"container-custom py-32 flex flex-col items-center justify-center min-h-screen",children:[g.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Propiedad no encontrada"}),g.jsx("p",{className:"text-[var(--color-text-light)] mb-8",children:"La propiedad que buscas no existe o ha sido eliminada"}),g.jsx(ft,{to:"/propiedades",children:g.jsxs(lt,{className:"flex items-center gap-2",children:[g.jsx(sh,{className:"w-4 h-4"}),"Volver a propiedades"]})})]});const S={venta:"En venta",alquiler:"En alquiler",opcion_compra:"Alquiler con opcin a compra"},N=`/properties/prop${e.id.length%4+1}.png`,O=e.mainImage||N,K=e.images&&e.images.length>0?e.images:["/properties/prop1.png","/properties/prop2.png","/properties/prop3.png","/properties/prop4.png"],$={"@context":"https://schema.org","@type":"Product",name:e.title,image:K,description:e.description,offers:{"@type":"Offer",priceCurrency:"EUR",price:e.price,availability:"https://schema.org/InStock"}};return g.jsxs("div",{className:"min-h-screen pt-20",children:[g.jsx(xl,{title:e.title,description:e.description?.substring(0,160),image:O,structuredData:$}),g.jsx("div",{className:"container-custom py-6 border-b border-[var(--color-border)]",children:g.jsxs(ft,{to:"/propiedades",className:"inline-flex items-center gap-2 text-[var(--color-primary)] hover:underline",children:[g.jsx(sh,{className:"w-4 h-4"}),"Volver a propiedades"]})}),g.jsx("div",{className:"relative",children:g.jsx("div",{className:"h-[60vh] bg-cover bg-center cursor-pointer",style:{backgroundImage:`url(${O})`},onClick:()=>x(0),children:g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"})})}),g.jsx("div",{className:"container-custom py-12",children:g.jsxs("div",{className:"grid lg:grid-cols-3 gap-12",children:[g.jsxs("div",{className:"lg:col-span-2",children:[g.jsxs("div",{className:"mb-6",children:[g.jsx(Gu,{className:"mb-4",children:S[e.operation]}),g.jsxs("div",{className:"flex justify-between items-start mb-4",children:[g.jsx("h1",{className:"text-4xl font-serif font-bold",children:e.title}),g.jsx(iA,{propertyId:e.id,size:32,className:"mt-1"})]}),g.jsxs("div",{className:"flex items-center gap-2 text-[var(--color-text-light)] mb-6",children:[g.jsx(Wf,{className:"w-5 h-5"}),g.jsx("span",{className:"text-lg",children:e.zone})]}),g.jsxs("div",{className:"text-4xl font-bold text-[var(--color-primary)] mb-2",children:[e.price.toLocaleString("es-ES")," ",e.operation.includes("alquiler")&&g.jsx("span",{className:"text-xl",children:"/mes"})]})]}),g.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-8 p-6 bg-[var(--color-background)] rounded-lg",children:[g.jsxs("div",{className:"flex flex-col items-center text-center",children:[g.jsx(fo,{className:"w-8 h-8 text-[var(--color-primary)] mb-2"}),g.jsx("span",{className:"text-sm text-[var(--color-text-light)]",children:"Tipo"}),g.jsx("span",{className:"font-semibold",children:e.type})]}),g.jsxs("div",{className:"flex flex-col items-center text-center",children:[g.jsx(mD,{className:"w-8 h-8 text-[var(--color-primary)] mb-2"}),g.jsx("span",{className:"text-sm text-[var(--color-text-light)]",children:"Superficie"}),g.jsxs("span",{className:"font-semibold",children:[e.area," m"]})]}),g.jsxs("div",{className:"flex flex-col items-center text-center",children:[g.jsx(Sk,{className:"w-8 h-8 text-[var(--color-primary)] mb-2"}),g.jsx("span",{className:"text-sm text-[var(--color-text-light)]",children:"Habitaciones"}),g.jsx("span",{className:"font-semibold",children:e.bedrooms})]}),g.jsxs("div",{className:"flex flex-col items-center text-center",children:[g.jsx(eA,{className:"w-8 h-8 text-[var(--color-primary)] mb-2"}),g.jsx("span",{className:"text-sm text-[var(--color-text-light)]",children:"Baos"}),g.jsx("span",{className:"font-semibold",children:e.bathrooms})]}),g.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.energyCertificate&&/^[A-G]$/i.test(e.energyCertificate)?g.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center font-bold text-white mb-2 bg-green-500",children:e.energyCertificate.toUpperCase()}):g.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center font-bold text-[var(--color-primary)] bg-[var(--color-primary)]/10 mb-2 border border-[var(--color-primary)]",children:g.jsx("span",{className:"text-xs",children:"CE"})}),g.jsx("span",{className:"text-sm text-[var(--color-text-light)]",children:"Certificado"}),g.jsx("span",{className:"font-semibold text-sm",children:e.energyCertificate||"En proceso"})]})]}),g.jsxs("div",{className:"mb-8",children:[g.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Descripcin"}),g.jsx("p",{className:"text-[var(--color-text)] leading-relaxed",children:e.description})]}),e.location&&e.location.lat!==0&&g.jsxs("div",{className:"mb-8",children:[g.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Ubicacin"}),g.jsx(Pj,{lat:e.location.lat,lng:e.location.lng,title:e.title})]}),K.length>0&&g.jsxs("div",{className:"mb-8",children:[g.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Galera"}),g.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:K.map((Z,ce)=>g.jsx("div",{className:"aspect-video bg-cover bg-center rounded-lg cursor-pointer hover:opacity-90 transition-opacity",style:{backgroundImage:`url(${Z})`},onClick:()=>x(ce)},ce))})]})]}),g.jsx("div",{className:"lg:col-span-1",children:g.jsxs("div",{className:"sticky top-24 p-6 bg-white rounded-lg shadow-lg border border-[var(--color-border)]",children:[g.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Interesado en esta propiedad?"}),g.jsx("p",{className:"text-[var(--color-text-light)] mb-6",children:"Contacta con nosotros y te ayudaremos encantados"}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs(lt,{className:"w-full flex items-center justify-center gap-2",onClick:()=>window.open("https://mail.google.com/mail/?view=cm&fs=1&to=araquecarlota77@gmail.com","_blank"),children:[g.jsx(bf,{className:"w-5 h-5"}),"Enviar email"]}),g.jsxs(lt,{variant:"secondary",className:"w-full flex items-center justify-center gap-2",onClick:()=>window.location.href="tel:+34722713530",children:[g.jsx(tA,{className:"w-5 h-5"}),"Llamar ahora"]})]}),g.jsxs("div",{className:"mt-4 space-y-2 text-center",children:[g.jsx("p",{className:"text-base font-medium",children:"Solo llamadas tardes (18:00 - 20:00)"}),g.jsx("p",{className:"text-xs text-[var(--color-primary)] font-medium",children:"* Preferible contacto por email"})]})]})})]})}),K.length>0&&g.jsx(nA,{images:K,isOpen:h,currentIndex:v,onClose:()=>d(!1),onNext:()=>y(Z=>(Z+1)%K.length),onPrev:()=>y(Z=>(Z-1+K.length)%K.length)})]})},Oj=()=>{const{favorites:i}=cy(),[e,t]=j.useState([]),[s,l]=j.useState(!0);return j.useEffect(()=>{const h=async()=>{l(!0);try{const d=i.map(y=>tm(y)),v=await Promise.all(d);t(v.filter(y=>y!==null))}catch(d){console.error("Error fetching favorites:",d)}finally{l(!1)}};i.length>0?h():(t([]),l(!1))},[i]),s?g.jsx("div",{className:"flex justify-center items-center min-h-screen pt-20",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[var(--color-primary)]"})}):g.jsxs("div",{className:"min-h-screen pt-28 pb-20 container-custom",children:[g.jsx(xl,{title:"Mis Favoritos",description:"Tus propiedades guardadas para revisar ms tarde."}),g.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[g.jsx(ft,{to:"/propiedades",children:g.jsxs(lt,{variant:"secondary",size:"sm",className:"flex items-center gap-2",children:[g.jsx(sh,{className:"w-4 h-4"}),"Volver"]})}),g.jsxs("h1",{className:"text-4xl font-serif font-bold flex items-center gap-3",children:[g.jsx(ah,{className:"w-8 h-8 fill-red-500 text-red-500"}),"Mis Favoritos"]})]}),e.length===0?g.jsxs("div",{className:"text-center py-20 bg-gray-50 rounded-2xl border border-gray-100",children:[g.jsx(ah,{className:"w-16 h-16 mx-auto text-gray-300 mb-6"}),g.jsx("h2",{className:"text-2xl font-bold text-[var(--color-primary)] mb-4",children:"No tienes favoritos guardados"}),g.jsx("p",{className:"text-[var(--color-text-light)] mb-8 max-w-md mx-auto",children:"Marca las propiedades con el corazn  mientras navegas para guardarlas aqu y compararlas despus."}),g.jsx(ft,{to:"/propiedades",children:g.jsxs(lt,{size:"lg",className:"flex items-center gap-2 mx-auto",children:[g.jsx(uy,{className:"w-5 h-5"}),"Explorar Propiedades"]})})]}):g.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(h=>g.jsx(Jf,{property:h},h.id))})]})},Lj=({encargo:i})=>{const e=t=>t?t.seconds?new Date(t.seconds*1e3).toLocaleDateString():new Date(t).toLocaleDateString():"Fecha desconocida";return g.jsxs(Hr,{className:"h-full border-l-4 border-l-[var(--color-primary)]",children:[g.jsxs("div",{className:"flex justify-between items-start mb-2",children:[g.jsx(Gu,{variant:"default",className:"uppercase text-xs tracking-wider",children:i.operation}),g.jsx("span",{className:"text-xs text-[var(--color-text-light)]",children:e(i.createdAt)})]}),g.jsx("h3",{className:"text-lg font-bold mb-1",children:i.priceMax?`Hasta ${i.priceMax.toLocaleString()} `:"Presupuesto a consultar"}),g.jsxs("p",{className:"text-sm text-[var(--color-text-light)] mb-3",children:[" Zona: ",i.zone]}),g.jsxs("p",{className:"text-sm text-[var(--color-text)] italic",children:['"',i.description,'"']})]})},zc="encargos",gy=async i=>{const e=Vc(Gi,zc);return(await MT(e,{...i,createdAt:rh()})).id},kj=async()=>{const i=Vc(Gi,zc),e=ST(i,FL("createdAt","desc"));return(await Qf(e)).docs.map(s=>({id:s.id,...s.data()}))},Dj=async()=>{const i=Vc(Gi,zc),e=ST(i,HL("published","==",!0));return(await Qf(e)).docs.map(l=>({id:l.id,...l.data()})).sort((l,h)=>{const d=l.createdAt?.seconds||0;return(h.createdAt?.seconds||0)-d})},jj=async(i,e)=>{const t=vo(Gi,zc,i);await PT(t,e)},Vj=async i=>{const e=vo(Gi,zc,i);await ey(e)},zj=async()=>{const i=[{name:"Juan Prez",email:"juan.perez@example.com",phone:"600123456",operation:"venta",type:"Piso",priceMin:15e4,priceMax:25e4,zone:"Centro",bedrooms:3,bathrooms:2,description:"Busco piso luminoso con terraza.",published:!0},{name:"Mara Garca",email:"maria.garcia@example.com",phone:"600654321",operation:"alquiler",type:"Casa",priceMax:1200,zone:"Alrededores",bedrooms:4,description:"Casa con jardn para familia con mascotas.",published:!1},{name:"Carlos Rodrguez",email:"carlos.rod@example.com",phone:"600987654",operation:"venta",type:"Terreno",priceMax:8e4,zone:"Sierra",description:"Terreno edificable con buenas vistas.",published:!0},{name:"Ana Martnez",email:"ana.martinez@example.com",phone:"600111222",operation:"opcion_compra",type:"Piso",priceMax:2e5,zone:"Norte",bedrooms:2,bathrooms:1,description:"Piso reformado, listo para entrar a vivir.",published:!1},{name:"Luis Snchez",email:"luis.sanchez@example.com",phone:"600333444",operation:"venta",type:"Local",priceMax:1e5,zone:"Comercial",description:"Local para abrir una cafetera.",published:!0}];for(const e of i)await gy(e)},Uj=async()=>{const i=Vc(Gi,zc),t=(await Qf(i)).docs.map(s=>ey(s.ref));await Promise.all(t)},At=({label:i,error:e,className:t="",...s})=>g.jsxs("div",{className:"w-full",children:[i&&g.jsx("label",{className:"mb-2 block text-sm font-medium text-[var(--color-text)]",children:i}),g.jsx("input",{className:`w-full rounded-lg border border-[var(--color-border)] px-4 py-3 focus:border-[var(--color-primary)] focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)]/20 ${t}`,...s}),e&&g.jsx("p",{className:"mt-1 text-sm text-red-500",children:e})]}),Bj=()=>{const[i,e]=j.useState([]),[t,s]=j.useState(!0),[l,h]=j.useState({name:"",email:"",phone:"",operation:"venta",type:"",priceMin:void 0,priceMax:void 0,zone:"",bedrooms:void 0,bathrooms:void 0,description:""}),[d,v]=j.useState(!1),[y,x]=j.useState(!1);j.useEffect(()=>{(async()=>{try{const N=await Dj();e(N)}catch(N){console.error("Error loading published encargos:",N)}finally{s(!1)}})()},[]);const S=async w=>{w.preventDefault(),v(!0);try{await gy(l),x(!0),h({name:"",email:"",phone:"",operation:"venta",type:"",priceMin:void 0,priceMax:void 0,zone:"",bedrooms:void 0,bathrooms:void 0,description:""}),setTimeout(()=>x(!1),1e4)}catch(N){console.error("Error creating encargo:",N),alert("Error al enviar el encargo. Por favor, intntalo de nuevo.")}finally{v(!1)}};return g.jsxs("div",{className:"container-custom py-12 pt-32",children:[g.jsx(xl,{title:"Demandas Activas y Encargos",description:"Propiedades que nuestros clientes buscan activamente. Djanos tu encargo!"}),g.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[g.jsx("h1",{className:"text-4xl md:text-5xl font-serif mb-6",children:"Demandas Activas"}),g.jsxs("p",{className:"text-[var(--color-text-light)] text-lg leading-relaxed",children:["Estas son algunas de las propiedades que nuestros clientes estn buscando actualmente.",g.jsx("br",{}),g.jsx("span",{className:"font-medium text-[var(--color-primary)]",children:"Tienes una propiedad que encaje?"})," Contctanos y cerraremos la operacin rpidamente."]})]}),g.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-2 max-w-5xl mx-auto mb-20",children:t?g.jsx("div",{className:"col-span-2 text-center py-12 text-[var(--color-text-light)]",children:"Cargando demandas activas..."}):i.length>0?i.map(w=>g.jsx(Lj,{encargo:w},w.id)):g.jsx("div",{className:"col-span-2 text-center py-12 bg-gray-50 rounded-xl border border-dashed border-gray-200",children:g.jsxs("p",{className:"text-[var(--color-text-light)]",children:["No hay demandas pblicas activas en este momento.",g.jsx("br",{}),"S el primero en enviarnos tu encargo!"]})})}),g.jsxs("div",{className:"text-center mb-16 bg-[var(--color-primary)]/5 p-8 rounded-2xl border border-[var(--color-primary)]/10",children:[g.jsx("p",{className:"text-xl font-serif text-[var(--color-primary)] font-medium",children:'"Si te interesa algn encargo u oferta, contctanos y te ayudamos"'}),g.jsx("div",{className:"mt-4 flex justify-center gap-4",children:g.jsxs("div",{className:"flex flex-col items-center",children:[g.jsx(lt,{onClick:()=>window.location.href="tel:+34722713530",children:"Llamar Ahora"}),g.jsx("span",{className:"text-sm text-gray-500 mt-2 font-medium",children:"Horario: 18:00 - 20:00"})]})})]}),g.jsxs("div",{className:"bg-[#F5F5F0] rounded-3xl p-8 md:p-12 max-w-4xl mx-auto border border-[#E5E5E0] shadow-lg",children:[g.jsxs("div",{className:"text-center mb-10",children:[g.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-[var(--color-primary)]/10 rounded-full mb-6 text-[var(--color-primary)]",children:g.jsx(xf,{className:"w-8 h-8"})}),g.jsx("h3",{className:"text-3xl font-serif mb-4",children:"Buzn de Encargos"}),g.jsx("p",{className:"text-[var(--color-text-light)] max-w-2xl mx-auto",children:"No encuentras lo que buscas? Rellena este formulario con los detalles de tu propiedad ideal. Nuestro equipo activar una bsqueda personalizada en nuestra red privada."})]}),y?g.jsxs("div",{className:"bg-green-50 text-green-800 p-8 rounded-xl text-center border border-green-200",children:[g.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:g.jsx(xf,{className:"w-8 h-8 text-green-600"})}),g.jsx("h4",{className:"text-2xl font-serif font-bold mb-2",children:"Encargo Recibido!"}),g.jsxs("p",{className:"text-lg",children:["Hemos registrado tu solicitud correctamente.",g.jsx("br",{}),"Nos pondremos en contacto contigo en cuanto encontremos opciones que encajen."]})]}):g.jsxs("form",{onSubmit:S,className:"space-y-8",children:[g.jsxs("div",{className:"bg-white p-6 rounded-xl border border-[var(--color-border)]",children:[g.jsxs("h4",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[g.jsx(uy,{className:"w-5 h-5 text-[var(--color-primary)]"}),"Tus Datos de Contacto"]}),g.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-2",children:"Nombre *"}),g.jsx(At,{value:l.name,onChange:w=>h({...l,name:w.target.value}),required:!0,placeholder:"Tu nombre completo"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-2",children:"Telfono *"}),g.jsx(At,{value:l.phone,onChange:w=>h({...l,phone:w.target.value}),required:!0,placeholder:"Tu telfono"})]}),g.jsxs("div",{className:"md:col-span-2",children:[g.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email *"}),g.jsx(At,{type:"email",value:l.email,onChange:w=>h({...l,email:w.target.value}),required:!0,placeholder:"tu@email.com"})]})]})]}),g.jsxs("div",{className:"bg-white p-6 rounded-xl border border-[var(--color-border)]",children:[g.jsxs("h4",{className:"font-semibold text-lg mb-4 flex items-center gap-2",children:[g.jsx(fo,{className:"w-5 h-5 text-[var(--color-primary)]"}),"Qu ests buscando?"]}),g.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tipo de Operacin *"}),g.jsxs("select",{className:"w-full rounded-lg border border-[var(--color-border)] px-4 py-3 focus:border-[var(--color-primary)] focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)]/20 bg-white",value:l.operation,onChange:w=>h({...l,operation:w.target.value}),children:[g.jsx("option",{value:"venta",children:"Comprar"}),g.jsx("option",{value:"alquiler",children:"Alquilar"}),g.jsx("option",{value:"opcion_compra",children:"Alquiler con opcin a compra"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tipo de Propiedad"}),g.jsxs("select",{className:"w-full rounded-lg border border-[var(--color-border)] px-4 py-3 focus:border-[var(--color-primary)] focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)]/20 bg-white",value:l.type,onChange:w=>h({...l,type:w.target.value}),children:[g.jsx("option",{value:"",children:"Cualquiera"}),g.jsx("option",{value:"Casa",children:"Casa / Chalet"}),g.jsx("option",{value:"Piso",children:"Piso / Apartamento"}),g.jsx("option",{value:"Finca",children:"Finca Singular"}),g.jsx("option",{value:"Terreno",children:"Terreno / Parcela"}),g.jsx("option",{value:"Local",children:"Local Comercial"})]})]})]}),g.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-2",children:"Presupuesto Mnimo ()"}),g.jsxs("div",{className:"relative",children:[g.jsx(vf,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),g.jsx(At,{type:"number",value:l.priceMin||"",onChange:w=>h({...l,priceMin:w.target.value?Number(w.target.value):void 0}),placeholder:"Mnimo",className:"pl-10"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-2",children:"Presupuesto Mximo ()"}),g.jsxs("div",{className:"relative",children:[g.jsx(vf,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),g.jsx(At,{type:"number",value:l.priceMax||"",onChange:w=>h({...l,priceMax:w.target.value?Number(w.target.value):void 0}),placeholder:"Mximo",className:"pl-10"})]})]})]}),g.jsxs("div",{className:"mb-6",children:[g.jsx("label",{className:"block text-sm font-medium mb-2",children:"Zona Preferente"}),g.jsxs("div",{className:"relative",children:[g.jsx(Wf,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),g.jsx(At,{value:l.zone||"",onChange:w=>h({...l,zone:w.target.value}),placeholder:"Ej: Segovia centro, La Granja, Torrecaballeros...",className:"pl-10"})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-2",children:"Habitaciones (Mn)"}),g.jsx(At,{type:"number",value:l.bedrooms||"",onChange:w=>h({...l,bedrooms:w.target.value?Number(w.target.value):void 0}),placeholder:"Ej: 3"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-2",children:"Baos (Mn)"}),g.jsx(At,{type:"number",value:l.bathrooms||"",onChange:w=>h({...l,bathrooms:w.target.value?Number(w.target.value):void 0}),placeholder:"Ej: 2"})]})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-2",children:"Comentarios Adicionales"}),g.jsx("textarea",{value:l.description,onChange:w=>h({...l,description:w.target.value}),rows:4,placeholder:"Cuntanos ms detalles: jardn imprescindible, garaje, orientacin sur, etc.",className:"w-full px-4 py-3 rounded-lg border border-[var(--color-border)] focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] resize-none bg-white"})]}),g.jsx(lt,{type:"submit",className:"w-full text-lg py-6",disabled:d,children:d?"Enviando Solicitud...":"Enviar Encargo"})]})]})]})},qj=()=>{const[i,e]=j.useState({name:"",email:"",phone:""}),t=s=>{s.preventDefault();const l=encodeURIComponent(`SOLICITUD INVERSOR: ${i.name}`),h=encodeURIComponent(`SOLICITUD DE INFORMACIN PARA INVERSORES

DATOS DEL INTERESADO:
--------------------------------
Nombre: ${i.name}
Email: ${i.email}
Telfono: ${i.phone}

Fecha: ${new Date().toLocaleDateString()}
--------------------------------

Estoy interesado en recibir informacin sobre oportunidades de inversin, activos off-market y proyectos de rentabilidad.
`),d=`https://mail.google.com/mail/?view=cm&fs=1&to=araquecarlota77@gmail.com&su=${l}&body=${h}`;window.open(d,"_blank")};return g.jsxs("form",{onSubmit:t,className:"space-y-4 bg-[var(--color-background)] p-6 rounded-[var(--radius-lg)] border border-[var(--color-border)]",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("h3",{className:"text-xl font-bold",children:"Contactar como Inversor"}),g.jsx("a",{href:"tel:+34722713530",className:"text-sm text-[var(--color-primary)] hover:underline font-medium",children:"Llamar ahora"})]}),g.jsx("p",{className:"text-sm text-[var(--color-text-light)] mb-4",children:"Recibe oportunidades exclusivas antes de que salgan al mercado."}),g.jsx(At,{placeholder:"Nombre completo",className:"bg-white",value:i.name,onChange:s=>e({...i,name:s.target.value}),required:!0}),g.jsx(At,{type:"email",placeholder:"Email corporativo / personal",className:"bg-white",value:i.email,onChange:s=>e({...i,email:s.target.value}),required:!0}),g.jsx(At,{type:"tel",placeholder:"Telfono",className:"bg-white",value:i.phone,onChange:s=>e({...i,phone:s.target.value}),required:!0}),g.jsx(lt,{type:"submit",variant:"secondary",className:"w-full",children:"Solicitar Informacin"})]})},Hj=()=>g.jsxs("div",{className:"container-custom py-12 pt-32",children:[g.jsx(xl,{title:"Inversores",description:"Oportunidades de inversin inmobiliaria, activos off-market y alta rentabilidad en Segovia."}),g.jsxs("div",{className:"grid gap-16 lg:grid-cols-2 items-center",children:[g.jsxs("div",{className:"space-y-8",children:[g.jsx("h1",{className:"text-4xl md:text-5xl",children:"Inversin Inmobiliaria Inteligente"}),g.jsxs("div",{className:"prose prose-lg text-[var(--color-text-light)]",children:[g.jsx("p",{children:"En Ballestrino-Araque, ofrecemos un servicio exclusivo para inversores que buscan rentabilidad y seguridad en el mercado inmobiliario singular."}),g.jsx("p",{children:"Identificamos propiedades con alto potencial de revalorizacin, proyectos de rehabilitacin y oportunidades off-market que no llegan a los portales tradicionales."})]}),g.jsxs("div",{className:"grid gap-6 sm:grid-cols-2 pt-4",children:[g.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-100",children:[g.jsx("div",{className:"text-[var(--color-primary)] mb-2",children:g.jsx(Xk,{className:"w-8 h-8"})}),g.jsx("h3",{className:"font-bold mb-1",children:"Off-Market"}),g.jsx("p",{className:"text-sm text-gray-500",children:"Acceso a propiedades exclusivas antes de su publicacin."})]}),g.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-100",children:[g.jsx("div",{className:"text-[var(--color-primary)] mb-2",children:g.jsx(Ok,{className:"w-8 h-8"})}),g.jsx("h3",{className:"font-bold mb-1",children:"Anlisis"}),g.jsx("p",{className:"text-sm text-gray-500",children:"Estudios de viabilidad y rentabilidad detallados."})]}),g.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-100",children:[g.jsx("div",{className:"text-[var(--color-primary)] mb-2",children:g.jsx(Jk,{className:"w-8 h-8"})}),g.jsx("h3",{className:"font-bold mb-1",children:"Gestin"}),g.jsx("p",{className:"text-sm text-gray-500",children:"Supervisin de reformas y puesta en valor."})]}),g.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-100",children:[g.jsx("div",{className:"text-[var(--color-primary)] mb-2",children:g.jsx(tD,{className:"w-8 h-8"})}),g.jsx("h3",{className:"font-bold mb-1",children:"Red Local"}),g.jsx("p",{className:"text-sm text-gray-500",children:"Contactos directos con propietarios y administracin."})]})]})]}),g.jsx("div",{className:"lg:pl-12",children:g.jsx("div",{className:"sticky top-24",children:g.jsx(qj,{})})})]})]}),Fj=()=>{const[i,e]=j.useState(""),[t,s]=j.useState(""),[l,h]=j.useState(""),[d,v]=j.useState(!1),{login:y}=ly(),x=mo(),S=async w=>{w.preventDefault(),h(""),v(!0);try{await y(i,t),x("/admin")}catch(N){N.code==="auth/invalid-credential"?h("Email o contrasea incorrectos"):N.code==="auth/user-not-found"?h("Usuario no encontrado"):N.code==="auth/wrong-password"?h("Contrasea incorrecta"):h("Error al iniciar sesin. Intntalo de nuevo."),console.error("Login error:",N)}finally{v(!1)}};return g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-[var(--color-background)] to-white px-4",children:g.jsxs(Hr,{className:"w-full max-w-md p-8",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("h1",{className:"text-2xl font-serif font-bold mb-2",children:"Acceso Administrativo"}),g.jsx("p",{className:"text-[var(--color-text-light)]",children:"Ballestrino-Araque"})]}),g.jsxs("form",{onSubmit:S,className:"space-y-6",children:[l&&g.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:l}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),g.jsxs("div",{className:"relative",children:[g.jsx(bf,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),g.jsx("input",{type:"email",value:i,onChange:w=>e(w.target.value),className:"w-full pl-10 pr-4 py-3 rounded-lg border border-[var(--color-border)] focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)]",placeholder:"admin@ballestrino.com",required:!0,disabled:d})]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"password",className:"block text-sm font-medium mb-2",children:"Contrasea"}),g.jsx(At,{id:"password",type:"password",value:t,onChange:w=>s(w.target.value),placeholder:"",required:!0,disabled:d,className:"w-full"})]}),g.jsx(lt,{type:"submit",className:"w-full",disabled:d,children:d?"Iniciando sesin...":"Iniciar Sesin"})]}),g.jsx("div",{className:"mt-6 text-center text-sm text-[var(--color-text-light)]",children:g.jsx("p",{children:"Acceso restringido solo para administradores"})})]})})},Gj=()=>{const[i,e]=j.useState([]),[t,s]=j.useState(!0),l=async()=>{try{s(!0);const x=await kj();e(x)}catch(x){console.error("Error loading encargos:",x),alert("Error al cargar los encargos")}finally{s(!1)}};j.useEffect(()=>{l()},[]);const h=async x=>{if(x.id)try{await jj(x.id,{published:!x.published}),await l()}catch(S){console.error("Error updating encargo:",S),alert("Error al actualizar el estado del encargo")}},d=async(x,S)=>{if(window.confirm(`Ests seguro de eliminar el encargo de "${S}"?
Esta accin no se puede deshacer.`))try{await Vj(x),await l(),alert("Encargo eliminado correctamente")}catch(w){console.error("Error deleting encargo:",w),alert(`Error al eliminar el encargo: ${w.message||"Desconocido"}`)}},v=async()=>{if(confirm("Quieres generar 5 encargos de prueba?"))try{s(!0),await zj(),await l(),alert("Datos de prueba generados correctamente")}catch(x){console.error("Error seeding encargos:",x),alert("Error al generar datos de prueba")}finally{s(!1)}};if(t)return g.jsx("div",{className:"flex items-center justify-center h-64",children:g.jsx("p",{className:"text-[var(--color-text-light)] text-lg",children:"Cargando encargos..."})});if(i.length===0)return g.jsxs(Hr,{className:"p-12 text-center",children:[g.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:g.jsx(bf,{className:"w-8 h-8 text-gray-400"})}),g.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No hay encargos"}),g.jsx("p",{className:"text-[var(--color-text-light)] mb-6",children:"An no has recibido ninguna solicitud de bsqueda."}),g.jsx(lt,{onClick:v,variant:"secondary",children:"Generar Datos de Prueba"})]});const y=async()=>{if(confirm("Ests SEGURO de borrar TODOS los encargos?"))try{s(!0),await Uj(),await l(),alert("Todos los encargos han sido eliminados")}catch(x){console.error("Error deleting all encargos:",x),alert("Error al eliminar todos los encargos")}finally{s(!1)}};return g.jsxs("div",{className:"grid gap-4",children:[g.jsx("div",{className:"flex justify-end mb-4",children:g.jsxs(lt,{onClick:y,variant:"secondary",className:"text-red-600 hover:bg-red-50",children:[g.jsx(Xg,{className:"w-4 h-4 mr-2"}),"Borrar Todo"]})}),i.map(x=>g.jsx(Hr,{className:`p-6 transition-colors ${x.published?"border-l-4 border-l-green-500":"border-l-4 border-l-gray-200"}`,children:g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-6",children:[g.jsxs("div",{className:"flex-1 w-full",children:[g.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 mb-4",children:[g.jsx("h3",{className:"font-semibold text-lg",children:x.name}),g.jsxs("div",{className:"flex flex-wrap gap-2",children:[g.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium uppercase tracking-wider ${x.operation==="venta"?"bg-green-100 text-green-800":x.operation==="alquiler"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:x.operation==="opcion_compra"?"Opcin Compra":x.operation}),x.published&&g.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800 flex items-center gap-1",children:[g.jsx(yE,{className:"w-3 h-3"}),"Publicado"]}),g.jsxs("span",{className:"text-xs text-gray-500 flex items-center gap-1",children:[g.jsx(Pk,{className:"w-3 h-3"}),x.createdAt?.seconds?new Date(x.createdAt.seconds*1e3).toLocaleDateString():"Fecha desconocida"]})]})]}),g.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[g.jsxs("div",{className:"space-y-1 text-sm text-[var(--color-text-light)]",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(tA,{className:"w-4 h-4"}),g.jsx("a",{href:`tel:${x.phone}`,className:"hover:text-[var(--color-primary)]",children:x.phone})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(bf,{className:"w-4 h-4"}),g.jsx("a",{href:`https://mail.google.com/mail/?view=cm&fs=1&to=${x.email}`,target:"_blank",rel:"noopener noreferrer",className:"hover:text-[var(--color-primary)]",children:x.email})]})]}),g.jsxs("div",{className:"space-y-1 text-sm",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"font-medium",children:"Busca:"}),x.type||"Cualquier tipo"]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Wf,{className:"w-4 h-4 text-gray-400"}),x.zone||"Cualquier zona"]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(qk,{className:"w-4 h-4 text-gray-400"}),x.priceMin&&x.priceMax?`${x.priceMin.toLocaleString()} - ${x.priceMax.toLocaleString()} `:x.priceMax?`Hasta ${x.priceMax.toLocaleString()} `:"Presupuesto a consultar"]})]})]}),x.description&&g.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-sm text-[var(--color-text)] italic border border-gray-100 whitespace-pre-wrap",children:['"',x.description,'"']}),(x.bedrooms||x.bathrooms)&&g.jsxs("div",{className:"mt-3 flex gap-4 text-sm text-gray-500",children:[x.bedrooms&&g.jsxs("span",{children:[" Min ",x.bedrooms," hab"]}),x.bathrooms&&g.jsxs("span",{children:[" Min ",x.bathrooms," baos"]})]})]}),g.jsxs("div",{className:"flex flex-row md:flex-col gap-2 w-full md:w-auto border-t md:border-t-0 pt-4 md:pt-0",children:[g.jsxs(lt,{variant:x.published?"secondary":"primary",size:"sm",onClick:()=>h(x),className:`flex-1 md:flex-none flex items-center justify-center gap-2 ${x.published?"text-gray-600":""}`,children:[x.published?g.jsx(Zk,{className:"w-4 h-4"}):g.jsx(yE,{className:"w-4 h-4"}),x.published?"Ocultar":"Publicar"]}),g.jsxs(lt,{variant:"secondary",size:"sm",onClick:()=>x.id&&d(x.id,x.name),className:"flex-1 md:flex-none text-red-600 hover:bg-red-50 flex items-center gap-2 justify-center",children:[g.jsx(Xg,{className:"w-4 h-4"}),"Eliminar"]})]})]})},x.id))]})},Zj=()=>{const[i,e]=j.useState("properties"),[t,s]=j.useState([]),[l,h]=j.useState(!0),d=async()=>{try{h(!0);const y=await em();s(y)}catch(y){console.error("Error loading properties:",y),alert("Error al cargar las propiedades")}finally{h(!1)}};j.useEffect(()=>{i==="properties"&&d()},[i]);const v=async(y,x)=>{if(window.confirm(`Ests seguro de eliminar "${x}"?
Esta accin no se puede deshacer.`))try{await ij(y),console.log("Propiedad eliminada"),await d()}catch(S){console.error("Error deleting property:",S),alert(`Error al eliminar la propiedad: ${S.message||"Desconocido"}`)}};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[g.jsxs("div",{className:"text-center md:text-left",children:[g.jsx("h1",{className:"text-3xl font-serif font-bold mb-2",children:"Panel de Administracin"}),g.jsx("p",{className:"text-[var(--color-text-light)]",children:"Gestiona tus propiedades y encargos"})]}),i==="properties"&&g.jsx(ft,{to:"/admin/properties/new",className:"w-full md:w-auto",children:g.jsxs(lt,{className:"flex items-center justify-center gap-2 w-full md:w-auto",children:[g.jsx(xE,{className:"w-5 h-5"}),"Nueva Propiedad"]})})]}),g.jsxs("div",{className:"flex border-b border-gray-200 mb-6 overflow-x-auto",children:[g.jsx("button",{className:`pb-4 px-6 font-medium text-sm transition-colors relative whitespace-nowrap ${i==="properties"?"text-[var(--color-primary)] border-b-2 border-[var(--color-primary)]":"text-gray-500 hover:text-gray-700"}`,onClick:()=>e("properties"),children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(fo,{className:"w-4 h-4"}),"Propiedades"]})}),g.jsx("button",{className:`pb-4 px-6 font-medium text-sm transition-colors relative whitespace-nowrap ${i==="encargos"?"text-[var(--color-primary)] border-b-2 border-[var(--color-primary)]":"text-gray-500 hover:text-gray-700"}`,onClick:()=>e("encargos"),children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(xf,{className:"w-4 h-4"}),"Encargos"]})})]}),i==="properties"?l?g.jsx("div",{className:"flex items-center justify-center h-64",children:g.jsx("p",{className:"text-[var(--color-text-light)] text-lg",children:"Cargando propiedades..."})}):t.length===0?g.jsxs(Hr,{className:"p-12 text-center",children:[g.jsx(fo,{className:"w-16 h-16 mx-auto mb-4 text-[var(--color-text-light)]"}),g.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No hay propiedades"}),g.jsx("p",{className:"text-[var(--color-text-light)] mb-6",children:"Comienza aadiendo tu primera propiedad"}),g.jsx(ft,{to:"/admin/properties/new",children:g.jsxs(lt,{className:"flex items-center gap-2 mx-auto",children:[g.jsx(xE,{className:"w-4 h-4"}),"Aadir Primera Propiedad"]})})]}):g.jsx("div",{className:"grid gap-4",children:t.map(y=>g.jsx(Hr,{className:"p-6",children:g.jsxs("div",{className:"flex flex-col md:flex-row items-start gap-6",children:[g.jsx("div",{className:"w-full md:w-32 h-48 md:h-32 bg-gradient-to-br from-[var(--color-primary)]/10 to-[var(--color-accent)]/10 rounded-lg overflow-hidden flex-shrink-0",children:y.mainImage&&g.jsx("img",{src:y.mainImage,alt:y.title,className:"w-full h-full object-cover"})}),g.jsxs("div",{className:"flex-1 w-full",children:[g.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-3 mb-3",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"font-semibold text-xl mb-1",children:y.title}),g.jsx("p",{className:"text-sm text-[var(--color-text-light)]",children:y.zone})]}),g.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[g.jsx(ft,{to:`/admin/properties/${y.id}/edit`,className:"flex-1 md:flex-none",children:g.jsxs(lt,{variant:"secondary",size:"sm",className:"flex items-center justify-center gap-2 w-full",children:[g.jsx(PD,{className:"w-4 h-4"}),"Editar"]})}),g.jsxs(lt,{variant:"secondary",size:"sm",onClick:()=>v(y.id,y.title),className:"flex-1 md:flex-none flex items-center justify-center gap-2 text-red-600 hover:bg-red-50",children:[g.jsx(Xg,{className:"w-4 h-4"}),"Eliminar"]})]})]}),g.jsx("p",{className:"text-sm text-[var(--color-text)] mb-3 line-clamp-2",children:y.description}),g.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-[var(--color-text-light)]",children:[g.jsx("span",{className:"capitalize font-medium text-[var(--color-primary)]",children:y.operation==="opcion_compra"?"Alquiler + Venta":y.operation}),g.jsx("span",{children:""}),g.jsxs("span",{className:"font-semibold text-[var(--color-text)]",children:[y.price.toLocaleString("es-ES")," ",y.operation.includes("alquiler")&&"/mes"]}),g.jsx("span",{children:""}),g.jsxs("span",{children:[y.area," m"]}),g.jsx("span",{children:""}),g.jsxs("span",{children:[y.bedrooms," hab"]}),g.jsx("span",{children:""}),g.jsxs("span",{children:[y.bathrooms," baos"]}),y.highlighted&&g.jsxs(g.Fragment,{children:[g.jsx("span",{children:""}),g.jsx("span",{className:"text-[var(--color-accent)] font-medium flex items-center gap-1",children:" Destacada"})]})]})]})]})},y.id))}):g.jsx(Gj,{})]})},NE=()=>{const{id:i}=zE(),e=mo(),[t,s]=j.useState(!1),[l,h]=j.useState([]),[d,v]=j.useState([]),[y,x]=j.useState(null),[S,w]=j.useState(""),[N,O]=j.useState({title:"",description:"",price:0,zone:"",area:0,bedrooms:0,bathrooms:0,type:"Casa",operation:"venta",energyCertificate:"En proceso",highlighted:!1,mainImage:"",images:[],features:[],location:{lat:0,lng:0}});j.useEffect(()=>{i&&K(i)},[i]);const K=async J=>{try{const X=await tm(J);if(X){const{id:_e,...Ee}=X;O(Ee),v(X.images||[]),w(X.mainImage||"")}}catch(X){console.error("Error loading property:",X),alert("Error al cargar la propiedad")}},$=J=>{const X=J.target.files?.[0];if(!X)return;x(X);const _e=new FileReader;_e.onloadend=()=>{w(_e.result)},_e.readAsDataURL(X)},Z=J=>{const X=Array.from(J.target.files||[]),_e=(N.images?.length||0)+d.length;if(X.length+_e>5){alert("Mximo 5 imgenes por propiedad");return}h(Ee=>[...Ee,...X]),X.forEach(Ee=>{const k=new FileReader;k.onloadend=()=>{v(M=>[...M,k.result])},k.readAsDataURL(Ee)})},ce=J=>{v(X=>X.filter((_e,Ee)=>Ee!==J)),h(X=>X.filter((_e,Ee)=>Ee!==J))},pe=async J=>{J.preventDefault(),s(!0);try{const X=i||`temp_${Date.now()}`;let _e="";if(S&&S.startsWith("http")&&(_e=S),y)try{const[H]=await RE(15e3,SE([y],X));_e=H}catch(H){console.error("Failed to upload main image",H);const B=H instanceof Error?H.message:"Error desconocido";alert(`Error CRTICO al subir portada: ${B}. Intenta usar una URL externa.`),s(!1);return}const Ee=d.filter(H=>H.startsWith("http"));let k=[];if(l.length>0){console.log("Starting gallery images upload...");try{k=await RE(15e3,SE(l,X))}catch(H){console.error("Failed to upload gallery images",H);const B=H instanceof Error?H.message:"Error desconocido";alert(`Error CRTICO al subir galera: ${B}. Intenta usar URLs externas.`),s(!1);return}}const M=[...Ee,...k],D={...N,mainImage:_e,images:M};i?(await nj(i,D),alert("Propiedad actualizada correctamente")):(await tj(D),alert("Propiedad creada correctamente")),e("/admin")}catch(X){console.error("Error saving property FULL:",X);const _e=X.message||X.toString();alert(`Error al guardar: ${_e}`)}finally{s(!1)}};return g.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx(ft,{to:"/admin",children:g.jsxs(lt,{variant:"secondary",size:"sm",className:"flex items-center gap-2",children:[g.jsx(sh,{className:"w-4 h-4"}),"Volver"]})}),g.jsx("h1",{className:"text-3xl font-serif font-bold",children:i?"Editar Propiedad":"Nueva Propiedad"})]}),g.jsx("form",{onSubmit:pe,children:g.jsxs(Hr,{className:"p-8 space-y-8",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-semibold mb-4 text-[var(--color-primary)]",children:"Informacin Bsica"}),g.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"md:col-span-2",children:[g.jsx("label",{className:"block text-sm font-medium mb-2",children:"Ttulo de la Propiedad *"}),g.jsx(At,{value:N.title,onChange:J=>O({...N,title:J.target.value}),placeholder:"Ej: Casa de pueblo en Seplveda",required:!0,className:"w-full"})]}),g.jsxs("div",{className:"md:col-span-2",children:[g.jsx("label",{className:"block text-sm font-medium mb-2",children:"Descripcin *"}),g.jsx("textarea",{className:"w-full px-4 py-3 rounded-lg border border-[var(--color-border)] focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)] resize-none",rows:4,value:N.description,onChange:J=>O({...N,description:J.target.value}),placeholder:"Describe la propiedad, sus caractersticas, ubicacin, etc.",required:!0}),g.jsx("p",{className:"text-xs text-[var(--color-text-light)] mt-1",children:"Escribe 2-3 frases destacando lo ms importante"})]})]})]}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-semibold mb-4 text-[var(--color-primary)]",children:"Detalles de la Propiedad"}),g.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tipo *"}),g.jsxs("select",{className:"w-full px-4 py-3 rounded-lg border border-[var(--color-border)] focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)]",value:N.type,onChange:J=>O({...N,type:J.target.value}),required:!0,children:[g.jsx("option",{value:"Casa",children:"Casa"}),g.jsx("option",{value:"Apartamento",children:"Apartamento"}),g.jsx("option",{value:"Casa Rural",children:"Casa Rural"}),g.jsx("option",{value:"Chalet",children:"Chalet"}),g.jsx("option",{value:"Terreno",children:"Terreno"}),g.jsx("option",{value:"Local Comercial",children:"Local Comercial"}),g.jsx("option",{value:"Finca",children:"Finca"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-2",children:"Operacin *"}),g.jsxs("select",{className:"w-full px-4 py-3 rounded-lg border border-[var(--color-border)] focus:outline-none focus:ring-2 focus:ring-[var(--color-primary)]",value:N.operation,onChange:J=>O({...N,operation:J.target.value}),required:!0,children:[g.jsx("option",{value:"venta",children:"Venta"}),g.jsx("option",{value:"alquiler",children:"Alquiler"}),g.jsx("option",{value:"opcion_compra",children:"Alquiler con Opcin a Compra"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-2",children:"Certificado Energtico *"}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(At,{value:N.energyCertificate||"",onChange:J=>O({...N,energyCertificate:J.target.value}),placeholder:"Ej: A, B, En proceso...",required:!0,className:"w-full"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{type:"button",onClick:()=>O({...N,energyCertificate:"En proceso"}),className:"text-xs px-2 py-1 rounded bg-[var(--color-background)] border border-[var(--color-border)] hover:bg-[var(--color-primary)] hover:text-white transition-colors",children:"En proceso"}),g.jsx("button",{type:"button",onClick:()=>O({...N,energyCertificate:"No tiene actualmente"}),className:"text-xs px-2 py-1 rounded bg-[var(--color-background)] border border-[var(--color-border)] hover:bg-[var(--color-primary)] hover:text-white transition-colors",children:"No tiene actualmente"})]})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-2",children:"Zona *"}),g.jsx(At,{value:N.zone,onChange:J=>O({...N,zone:J.target.value}),placeholder:"Ej: Seplveda",required:!0,className:"w-full"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-2",children:"Precio () *"}),g.jsx(At,{type:"number",value:N.price===0?"":N.price,onChange:J=>O({...N,price:Number(J.target.value)}),min:"0",placeholder:"250000",required:!0,className:"w-full"}),g.jsx("p",{className:"text-xs text-[var(--color-text-light)] mt-1",children:N.operation.includes("alquiler")?"Precio mensual":"Precio total"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-2",children:"Superficie (m) *"}),g.jsx(At,{type:"number",value:N.area===0?"":N.area,onChange:J=>O({...N,area:Number(J.target.value)}),min:"0",placeholder:"150",required:!0,className:"w-full"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-2",children:"Habitaciones *"}),g.jsx(At,{type:"number",value:N.bedrooms===0?"":N.bedrooms,onChange:J=>O({...N,bedrooms:Number(J.target.value)}),min:"0",placeholder:"3",required:!0,className:"w-full"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-2",children:"Baos *"}),g.jsx(At,{type:"number",value:N.bathrooms===0?"":N.bathrooms,onChange:J=>O({...N,bathrooms:Number(J.target.value)}),min:"0",placeholder:"2",required:!0,className:"w-full"})]})]})]}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-semibold mb-4 text-[var(--color-primary)]",children:"Imgenes de la Propiedad"}),g.jsxs("div",{className:"mb-8",children:[g.jsx("label",{className:"block text-sm font-medium mb-3",children:"Imagen Principal (Portada)"}),g.jsx("div",{className:"mb-4 flex gap-2",children:g.jsx(At,{placeholder:" O pega aqu el enlace (URL) de la imagen...",onChange:J=>{const X=J.target.value;X&&(w(X),O(_e=>({..._e,mainImage:X})),x(null))}})}),g.jsx("div",{className:"flex items-start gap-6",children:S?g.jsxs("div",{className:"relative group w-64 h-40",children:[g.jsx("img",{src:S,alt:"Main preview",className:"w-full h-full object-cover rounded-lg border-2 border-[var(--color-primary)] bg-gray-100",onError:J=>{J.target.src="https://via.placeholder.com/400x300?text=Error+Loading+Image"}}),g.jsx("button",{type:"button",onClick:()=>{x(null),w(""),O(J=>({...J,mainImage:""}))},className:"absolute top-2 right-2 bg-red-500 text-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:g.jsx(oh,{className:"w-4 h-4"})}),g.jsx("span",{className:"absolute bottom-2 left-2 bg-[var(--color-primary)] text-white text-xs px-2 py-1 rounded",children:"Portada"})]}):g.jsxs("div",{className:"w-64 h-40 border-2 border-dashed border-[var(--color-border)] rounded-lg flex flex-col items-center justify-center bg-gray-50 hover:bg-gray-100 transition-colors cursor-pointer relative",children:[g.jsx(wE,{className:"w-8 h-8 text-gray-400 mb-2"}),g.jsx("span",{className:"text-sm text-gray-500",children:"Subir Portada"}),g.jsx("input",{type:"file",accept:"image/*",onChange:$,className:"absolute inset-0 opacity-0 cursor-pointer"})]})})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsx("label",{className:"block text-sm font-medium",children:"Galera de Imgenes"}),g.jsxs("div",{className:"flex gap-2 mb-4",children:[g.jsx(At,{id:"gallery-url-input",placeholder:" Pega enlace para galera y pulsa enter...",onKeyDown:J=>{if(J.key==="Enter"){J.preventDefault();const X=J.currentTarget,_e=X.value;_e&&(v(Ee=>[...Ee,_e]),X.value="")}}}),g.jsx(lt,{type:"button",variant:"secondary",onClick:()=>{const J=document.getElementById("gallery-url-input");J&&J.value&&(v(X=>[...X,J.value]),J.value="")},children:"Aadir"})]}),d.length>0&&g.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:d.map((J,X)=>g.jsxs("div",{className:"relative group",children:[g.jsx("img",{src:J,alt:`Preview ${X+1}`,className:"w-full h-32 object-cover rounded-lg border-2 border-[var(--color-border)] bg-gray-100",onError:_e=>{_e.target.src="https://via.placeholder.com/400x300?text=Error+Loading+Image"}}),g.jsx("button",{type:"button",onClick:()=>ce(X),className:"absolute top-2 right-2 bg-red-500 text-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:g.jsx(oh,{className:"w-4 h-4"})})]},X))}),g.jsxs("div",{className:"border-2 border-dashed border-[var(--color-border)] rounded-lg p-8 text-center",children:[g.jsx(wE,{className:"w-12 h-12 mx-auto mb-4 text-[var(--color-text-light)]"}),g.jsxs("label",{className:"cursor-pointer",children:[g.jsx("span",{className:"text-[var(--color-primary)] font-semibold hover:underline",children:"Click para seleccionar imgenes"}),g.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:Z,className:"hidden"})]}),g.jsx("p",{className:"text-sm text-[var(--color-text-light)] mt-2",children:"Mximo 5 imgenes. La primera ser la imagen principal."})]})]})]}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-semibold mb-4 text-[var(--color-primary)]",children:"Ubicacin en el Mapa"}),g.jsx("div",{className:"bg-blue-50 p-4 rounded-lg mb-4 text-sm text-blue-800",children:" Para obtener las coordenadas: Ve a Google Maps, haz clic derecho en la ubicacin exacta y copia los nmeros (ej: 41.2345, -3.5678)."}),g.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-2",children:"Latitud"}),g.jsx(At,{type:"number",step:"any",value:N.location?.lat||"",onChange:J=>O({...N,location:{...N.location,lat:parseFloat(J.target.value)||0,lng:N.location?.lng||0}}),placeholder:"Ej: 40.4168"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-2",children:"Longitud"}),g.jsx(At,{type:"number",step:"any",value:N.location?.lng||"",onChange:J=>O({...N,location:{...N.location,lat:N.location?.lat||0,lng:parseFloat(J.target.value)||0}}),placeholder:"Ej: -3.7038"})]})]})]}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-semibold mb-4 text-[var(--color-primary)]",children:"Opciones"}),g.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-4 border border-[var(--color-border)] rounded-lg hover:bg-[var(--color-primary)]/5 transition-colors",children:[g.jsx("input",{type:"checkbox",checked:N.highlighted,onChange:J=>O({...N,highlighted:J.target.checked}),className:"w-5 h-5 text-[var(--color-primary)] border-[var(--color-border)] rounded focus:ring-[var(--color-primary)]"}),g.jsxs("div",{children:[g.jsx("span",{className:"font-medium",children:"Propiedad Destacada"}),g.jsx("p",{className:"text-sm text-[var(--color-text-light)]",children:"La propiedad aparecer en el carrusel de la pgina de inicio"})]})]})]}),g.jsx("div",{className:"mt-4",children:g.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-4 border border-[var(--color-border)] rounded-lg hover:bg-[#D4AF37]/5 transition-colors border-l-4 border-l-transparent hover:border-l-[#D4AF37]",children:[g.jsx("input",{type:"checkbox",checked:N.isVIP||!1,onChange:J=>O(X=>({...X,isVIP:J.target.checked})),className:"w-5 h-5 text-[#D4AF37] border-[var(--color-border)] rounded focus:ring-[#D4AF37]"}),g.jsxs("div",{children:[g.jsx("span",{className:"font-medium flex items-center gap-2",children:"Coleccin Premium / VIP "}),g.jsx("p",{className:"text-sm text-[var(--color-text-light)]",children:"La propiedad tendr un distintivo especial dorado de lujo"})]})]})}),g.jsxs("div",{className:"flex gap-4 pt-6 border-t border-[var(--color-border)]",children:[g.jsxs(lt,{type:"submit",disabled:t,className:"flex items-center gap-2",children:[g.jsx($g,{className:"w-5 h-5"}),t?"Guardando...":"Guardar Propiedad"]}),g.jsx(ft,{to:"/admin",children:g.jsx(lt,{type:"button",variant:"secondary",children:"Cancelar"})})]}),d.length===0&&g.jsx("p",{className:"text-sm text-gray-500 mt-4",children:" Modo diagnstico: Se permite guardar sin imgenes para probar la conexin."})]})})]})},RE=(i,e)=>new Promise((t,s)=>{const l=setTimeout(()=>{s(new Error(`Timeout de carga (${i}ms) - Posible problema de conexin o permisos con Firebase Storage`))},i);e.then(h=>{clearTimeout(l),t(h)}).catch(h=>{clearTimeout(l),s(h)})}),Kj=()=>{const[i,e]=j.useState(!0),[t,s]=j.useState(!1),[l,h]=j.useState({magazineUrl:"",magazineActive:!1});j.useEffect(()=>{d()},[]);const d=async()=>{try{const y=await hy();h(y)}catch(y){console.error("Error loading settings:",y),alert("Error al cargar la configuracin")}finally{e(!1)}},v=async y=>{y.preventDefault(),s(!0);try{await rj(l),alert("Configuracin guardada correctamente ")}catch(x){console.error("Error saving settings:",x),alert("Error al guardar cambios")}finally{s(!1)}};return i?g.jsx("div",{className:"flex justify-center p-12",children:g.jsx(fg,{className:"w-8 h-8 animate-spin text-[var(--color-primary)]"})}):g.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[g.jsx("h1",{className:"text-3xl font-serif font-bold text-[var(--color-primary)]",children:"Configuracin General"}),g.jsxs("form",{onSubmit:v,children:[g.jsxs(Hr,{className:"p-8 space-y-8",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[g.jsx("div",{className:"p-2 bg-[var(--color-primary)]/10 rounded-lg",children:g.jsx("span",{className:"text-2xl",children:""})}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-semibold text-[var(--color-primary)]",children:"Peridico del Pueblo"}),g.jsx("p",{className:"text-sm text-[var(--color-text-light)]",children:'Gestiona el enlace que aparece en la seccin "Lifestyle & Cultura" de la portada.'})]})]}),g.jsxs("div",{className:"space-y-6",children:[g.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-4 border border-[var(--color-border)] rounded-lg hover:bg-gray-50 transition-colors",children:[g.jsx("input",{type:"checkbox",checked:l.magazineActive,onChange:y=>h(x=>({...x,magazineActive:y.target.checked})),className:"w-5 h-5 text-[var(--color-primary)] border-[var(--color-border)] rounded focus:ring-[var(--color-primary)]"}),g.jsxs("div",{children:[g.jsx("span",{className:"font-medium",children:'Mostrar Botn "Leer Peridico"'}),g.jsx("p",{className:"text-sm text-[var(--color-text-light)]",children:'Si est desactivado, se mostrar "Prximamente..."'})]})]}),g.jsxs("div",{className:`transition-opacity duration-300 ${l.magazineActive?"opacity-100":"opacity-50 grayscale"}`,children:[g.jsx("label",{className:"block text-sm font-medium mb-2",children:"Enlace al Peridico (URL)"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx(At,{type:"url",placeholder:"https://ejemplo.com/periodico-semana-12.pdf",value:l.magazineUrl||"",onChange:y=>h(x=>({...x,magazineUrl:y.target.value})),disabled:!l.magazineActive,className:"w-full"}),l.magazineUrl&&g.jsx("a",{href:l.magazineUrl,target:"_blank",rel:"noopener noreferrer",className:"p-2 border border-[var(--color-border)] rounded-lg hover:bg-gray-100 flex items-center justify-center",title:"Probar enlace",children:g.jsx(Fk,{className:"w-5 h-5 text-gray-600"})})]}),g.jsx("p",{className:"text-xs text-[var(--color-text-light)] mt-2",children:"Puedes pegar un enlace a un PDF (Google Drive/Dropbox) o a una pgina web externa."})]})]})]}),g.jsx("div",{className:"pt-6 border-t border-[var(--color-border)] flex justify-end",children:g.jsx(lt,{type:"submit",disabled:t,className:"flex items-center gap-2 min-w-[150px] justify-center",children:t?g.jsxs(g.Fragment,{children:[g.jsx(fg,{className:"w-4 h-4 animate-spin"}),"Guardando..."]}):g.jsxs(g.Fragment,{children:[g.jsx($g,{className:"w-4 h-4"}),"Guardar Cambios"]})})})]}),g.jsxs(Hr,{className:"p-8 space-y-8 mt-6",children:[g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[g.jsx("div",{className:"p-2 bg-purple-100 rounded-lg text-purple-600",children:g.jsx("span",{className:"text-2xl",children:""})}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-semibold text-[var(--color-primary)]",children:"Filtros Personalizados del Quiz"}),g.jsx("p",{className:"text-sm text-[var(--color-text-light)]",children:'Aade nuevas opciones (ej: "Futboln", "Pista de Padel") para que los clientes puedan marcarlas en el paso "Imprescindibles".'})]})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex gap-2",children:[g.jsx(At,{placeholder:"Nueva caracterstica (ej: Jacuzzi Interior)",onKeyDown:y=>{if(y.key==="Enter"){y.preventDefault();const x=y.currentTarget.value.trim();x&&!l.quizFeatures?.includes(x)&&(h(S=>({...S,quizFeatures:[...S.quizFeatures||[],x]})),y.currentTarget.value="")}}}),g.jsx(lt,{type:"button",variant:"secondary",onClick:()=>{alert("Pulsa Enter en la caja de texto para aadir")},children:"Aadir con Enter"})]}),g.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[l.quizFeatures?.map((y,x)=>g.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1.5 bg-gray-100 rounded-full text-sm",children:[y,g.jsx("button",{type:"button",onClick:()=>h(S=>({...S,quizFeatures:S.quizFeatures?.filter(w=>w!==y)})),className:"text-gray-400 hover:text-red-500 font-bold",children:""})]},x)),(!l.quizFeatures||l.quizFeatures.length===0)&&g.jsx("span",{className:"text-sm text-gray-400 italic",children:"No hay filtros personalizados an."})]})]})]}),g.jsx("div",{className:"pt-6 border-t border-[var(--color-border)] flex justify-end",children:g.jsx(lt,{type:"submit",disabled:t,className:"flex items-center gap-2 min-w-[150px] justify-center",children:t?g.jsxs(g.Fragment,{children:[g.jsx(fg,{className:"w-4 h-4 animate-spin"}),"Guardando..."]}):g.jsxs(g.Fragment,{children:[g.jsx($g,{className:"w-4 h-4"}),"Guardar Cambios"]})})})]})]})]})},Yj=()=>{const i=mo(),[e,t]=j.useState(1),[s,l]=j.useState(!1),[h,d]=j.useState([]),[v,y]=j.useState([]),[x,S]=j.useState([]),[w,N]=j.useState({operation:"",type:"",bedrooms:0,bathrooms:0,surfaceMin:0,features:[],additionalNotes:"",priceMax:"",name:"",email:"",phone:""});j.useEffect(()=>{(async()=>{const[_e,Ee]=await Promise.all([em(),hy()]);d(_e),Ee&&Ee.quizFeatures&&S(Ee.quizFeatures)})()},[]);const O=w.type==="Local",K=()=>{let X=e+1;if(O&&e===2&&(X=5),X===8){const _e=h.filter(Ee=>{if(w.operation&&Ee.operation!==w.operation||w.type&&Ee.type!==w.type||!O&&(w.bedrooms>0&&Ee.bedrooms<w.bedrooms||w.bathrooms>0&&Ee.bathrooms<w.bathrooms)||w.surfaceMin>0&&Ee.area&&Ee.area<w.surfaceMin||w.priceMax&&Ee.price>Number(w.priceMax))return!1;if(w.features.length>0){const k=Ee.features||[];if(!w.features.every(D=>k.includes(D)))return!1}return!0});y(_e)}t(X)},$=()=>{let X=e-1;O&&X===4&&(X=2),t(X)},Z=X=>{N(_e=>({..._e,features:_e.features.includes(X)?_e.features.filter(Ee=>Ee!==X):[..._e.features,X]}))},ce=async X=>{X.preventDefault(),l(!0);try{let _e="";O?_e=`Local comercial. Superficie mn: ${w.surfaceMin}m.`:_e=`${w.type}. Hab: ${w.bedrooms}+, Baos: ${w.bathrooms}+, Superficie mn: ${w.surfaceMin}m.`;const Ee=`[Quiz Avanzado] Busco: ${_e}
            Operacin: ${w.operation}.
            Caractersticas: ${w.features.join(", ")}. 
            Propuestas/Notas: ${w.additionalNotes||"Ninguna"}.
            Presupuesto mx: ${w.priceMax}.`;await gy({name:w.name,email:w.email,phone:w.phone,operation:w.operation,type:w.type,bedrooms:w.bedrooms,bathrooms:w.bathrooms,priceMax:Number(w.priceMax),description:Ee,published:!1}),v.length>0?i(`/propiedad/${v[0].id}`):(alert("Gracias! Hemos guardado tu bsqueda. Te avisaremos cuando tengamos algo."),i("/"))}catch(_e){console.error("Error sending quiz encargo:",_e),alert("Hubo un error al enviar tu solicitud. Intntalo de nuevo.")}finally{l(!1)}},J=e/8*100;return g.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden border border-gray-100 relative min-h-[600px] flex flex-col w-full max-w-5xl mx-auto",children:[g.jsx("div",{className:"bg-gray-100 h-2 w-full",children:g.jsx("div",{className:"bg-[var(--color-primary)] h-full transition-all duration-500 ease-out",style:{width:`${J}%`}})}),g.jsxs("div",{className:"p-8 md:p-12 flex-1 flex flex-col",children:[e===1&&g.jsxs("div",{className:"animate-fade-in flex-1 flex flex-col justify-center",children:[g.jsx("h3",{className:"text-3xl font-serif text-center mb-2",children:"Cul es tu objetivo?"}),g.jsx("p",{className:"text-center text-gray-500 mb-10",children:"Selecciona el tipo de operacin"}),g.jsxs("div",{className:"grid md:grid-cols-3 gap-6 max-w-4xl mx-auto w-full",children:[g.jsxs("button",{onClick:()=>{N({...w,operation:"venta"}),K()},className:"group p-8 rounded-2xl border-2 border-gray-100 hover:border-[var(--color-primary)] hover:bg-[var(--color-primary)]/5 transition-all text-center",children:[g.jsx("div",{className:"w-16 h-16 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform",children:g.jsx(sD,{className:"w-8 h-8"})}),g.jsx("h4",{className:"text-xl font-bold mb-2",children:"Comprar"})]}),g.jsxs("button",{onClick:()=>{N({...w,operation:"alquiler"}),K()},className:"group p-8 rounded-2xl border-2 border-gray-100 hover:border-[var(--color-primary)] hover:bg-[var(--color-primary)]/5 transition-all text-center",children:[g.jsx("div",{className:"w-16 h-16 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform",children:g.jsx(vf,{className:"w-8 h-8"})}),g.jsx("h4",{className:"text-xl font-bold mb-2",children:"Alquilar"})]}),g.jsxs("button",{onClick:()=>{N({...w,operation:"opcion_compra"}),K()},className:"group p-8 rounded-2xl border-2 border-gray-100 hover:border-[var(--color-primary)] hover:bg-[var(--color-primary)]/5 transition-all text-center",children:[g.jsx("div",{className:"w-16 h-16 bg-purple-100 text-purple-600 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform",children:g.jsx(_D,{className:"w-8 h-8"})}),g.jsx("h4",{className:"text-xl font-bold mb-2",children:"Opcin a Compra"})]})]})]}),e===2&&g.jsxs("div",{className:"animate-fade-in flex-1 flex flex-col justify-center",children:[g.jsx("h3",{className:"text-3xl font-serif text-center mb-2",children:"Qu buscas?"}),g.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 max-w-3xl mx-auto w-full mt-8",children:[{id:"Casa",icon:fo,label:"Casa / Chalet"},{id:"Piso",icon:_E,label:"Piso"},{id:"Finca",icon:EE,label:"Finca Singular"},{id:"Local",icon:LD,label:"Local / Negocio"}].map(X=>g.jsxs("button",{onClick:()=>{N({...w,type:X.id}),K()},className:`p-6 rounded-xl border-2 transition-all flex flex-col items-center gap-3 ${w.type===X.id?"border-[var(--color-primary)] bg-[var(--color-primary)]/5 text-[var(--color-primary)]":"border-gray-100 hover:border-gray-300 text-gray-600"}`,children:[g.jsx(X.icon,{className:"w-8 h-8"}),g.jsx("span",{className:"font-medium",children:X.label})]},X.id))})]}),e===3&&!O&&g.jsxs("div",{className:"animate-fade-in flex-1 flex flex-col justify-center",children:[g.jsx("h3",{className:"text-3xl font-serif text-center mb-2",children:"Cuntas habitaciones?"}),g.jsx("div",{className:"flex justify-center gap-4 mt-8",children:[1,2,3,4,5].map(X=>g.jsxs("button",{onClick:()=>{N({...w,bedrooms:X}),K()},className:`w-16 h-16 rounded-full border-2 text-xl font-bold transition-all ${w.bedrooms===X?"border-[var(--color-primary)] bg-[var(--color-primary)] text-white":"border-gray-200 hover:border-[var(--color-primary)] text-gray-600"}`,children:[X,"+"]},X))})]}),e===4&&!O&&g.jsxs("div",{className:"animate-fade-in flex-1 flex flex-col justify-center",children:[g.jsx("h3",{className:"text-3xl font-serif text-center mb-2",children:"Cuntos baos?"}),g.jsx("div",{className:"flex justify-center gap-4 mt-8",children:[1,2,3].map(X=>g.jsxs("button",{onClick:()=>{N({...w,bathrooms:X}),K()},className:`w-16 h-16 rounded-full border-2 text-xl font-bold transition-all ${w.bathrooms===X?"border-[var(--color-primary)] bg-[var(--color-primary)] text-white":"border-gray-200 hover:border-[var(--color-primary)] text-gray-600"}`,children:[X,"+"]},X))})]}),e===5&&g.jsxs("div",{className:"animate-fade-in flex-1 flex flex-col justify-center",children:[g.jsx("h3",{className:"text-3xl font-serif text-center mb-2",children:"Necesitas que sea muy amplio?"}),g.jsx("p",{className:"text-center text-gray-500 mb-10",children:"Selecciona superficie mnima (m)"}),g.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 max-w-3xl mx-auto w-full",children:[0,50,80,100,150,200,300,500].map(X=>g.jsxs("button",{onClick:()=>{N({...w,surfaceMin:X}),K()},className:`p-4 rounded-xl border-2 transition-all flex items-center justify-center gap-2 ${w.surfaceMin===X?"border-[var(--color-primary)] bg-[var(--color-primary)] text-white":"border-gray-100 hover:border-gray-300 text-gray-600"}`,children:[g.jsx(vE,{className:"w-5 h-5"}),g.jsx("span",{className:"font-bold text-lg",children:X===0?"Indiferente":`${X} m+`})]},X))})]}),e===6&&g.jsxs("div",{className:"animate-fade-in flex-1 flex flex-col justify-center",children:[g.jsx("h3",{className:"text-3xl font-serif text-center mb-2",children:"Imprescindibles"}),g.jsx("p",{className:"text-center text-gray-500 mb-10",children:"Selecciona lo que no puede faltar"}),g.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 max-w-4xl mx-auto w-full mb-8",children:(()=>{const X=O?[{id:"Salida de humos",icon:Qk},{id:"Escaparate",icon:RD},{id:"A pie de calle",icon:dD},{id:"Almacn",icon:BD},{id:"Reformado",icon:mg},{id:"Difano",icon:vE}]:[{id:"Jardn",icon:EE},{id:"Piscina",icon:TE},{id:"Vistas",icon:bE},{id:"Chimenea",icon:KD},{id:"Garaje",icon:fo},{id:"Reformado",icon:mg},{id:"Terraza",icon:bE},{id:"Trastero",icon:_E},{id:"Jacuzzi",icon:TE}],_e=x.map(M=>({id:M,icon:mg})),Ee=[...X,..._e],k=new Set;return Ee.filter(M=>{const D=k.has(M.id);return k.add(M.id),!D})})().map(X=>g.jsxs("button",{onClick:()=>Z(X.id),className:`p-4 rounded-xl border-2 transition-all flex items-center gap-3 ${w.features.includes(X.id)?"border-[var(--color-primary)] bg-[var(--color-primary)]/5 text-[var(--color-primary)]":"border-gray-100 hover:border-gray-300 text-gray-600"}`,children:[g.jsx("div",{className:`p-2 rounded-full ${w.features.includes(X.id)?"bg-[var(--color-primary)] text-white":"bg-gray-100"}`,children:g.jsx(X.icon,{className:"w-4 h-4"})}),g.jsx("span",{className:"font-medium text-sm",children:X.id})]},X.id))}),g.jsxs("div",{className:"max-w-2xl mx-auto w-full mb-8",children:[g.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-600",children:"Tienes alguna otra preferencia o propuesta? (Opcional)"}),g.jsx("textarea",{value:w.additionalNotes,onChange:X=>N({...w,additionalNotes:X.target.value}),placeholder:"Ej: Me gustara que tenga sol de maana, o busco una zona muy tranquila...",className:"w-full p-4 rounded-xl border-2 border-gray-200 focus:border-[var(--color-primary)] focus:outline-none min-h-[100px] resize-none"})]}),g.jsx("div",{className:"text-center",children:g.jsxs(lt,{onClick:K,size:"lg",className:"px-12",children:["Continuar ",g.jsx(Wd,{className:"w-4 h-4 ml-2"})]})})]}),e===7&&g.jsxs("div",{className:"animate-fade-in flex-1 flex flex-col justify-center",children:[g.jsx("h3",{className:"text-3xl font-serif text-center mb-2",children:"Presupuesto Mximo"}),g.jsxs("div",{className:"max-w-md mx-auto w-full space-y-8 mt-8",children:[g.jsxs("div",{className:"relative",children:[g.jsx(vf,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 w-6 h-6"}),g.jsx(At,{type:"number",value:w.priceMax,onChange:X=>N({...w,priceMax:X.target.value}),placeholder:"Ej: 250000",className:"pl-12 text-2xl py-6 font-serif",autoFocus:!0})]}),g.jsx("div",{className:"flex justify-center",children:g.jsxs(lt,{onClick:K,size:"lg",className:"px-12",disabled:!w.priceMax,children:["Ver Resultados ",g.jsx(Wd,{className:"w-4 h-4 ml-2"})]})})]})]}),e===8&&g.jsxs("div",{className:"animate-fade-in flex-1 flex flex-col justify-center max-w-4xl mx-auto w-full",children:[v.length>0?g.jsxs("div",{className:"mb-8",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("div",{className:"w-16 h-16 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-4",children:g.jsx(kk,{className:"w-8 h-8"})}),g.jsxs("h3",{className:"text-2xl font-serif font-bold",children:["Hemos encontrado ",v.length," inmuebles para ti!"]}),g.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl mt-4 max-w-lg mx-auto border border-blue-100 flex gap-4 justify-center text-sm text-blue-800",children:[g.jsxs("div",{children:[g.jsx("span",{className:"font-bold block text-lg",children:v.length}),"Coincidencias"]}),g.jsx("div",{className:"w-px bg-blue-200"}),g.jsxs("div",{children:[g.jsxs("span",{className:"font-bold block text-lg",children:[Math.round(v.reduce((X,_e)=>X+_e.price,0)/v.length/1e3),"k "]}),"Precio Medio"]}),v.some(X=>X.area)&&g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"w-px bg-blue-200"}),g.jsxs("div",{children:[g.jsxs("span",{className:"font-bold block text-lg",children:[Math.round(v.reduce((X,_e)=>X+(_e.area||0),0)/v.length)," m"]}),"Superficie Media"]})]})]}),g.jsx("p",{className:"text-gray-500 mt-4",children:"Aqu tienes las propiedades que mejor encajan con tu bsqueda. Djanos tus datos para agendar una visita prioritaria."})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-10 text-left",children:v.slice(0,4).map(X=>g.jsx("div",{className:"transform scale-90 origin-top",children:g.jsx(Jf,{property:X})},X.id))})]}):g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("div",{className:"w-16 h-16 bg-orange-100 text-orange-600 rounded-full flex items-center justify-center mx-auto mb-4",children:g.jsx(TD,{className:"w-8 h-8"})}),g.jsx("h3",{className:"text-2xl font-serif font-bold",children:"No hay coincidencias exactas"}),g.jsxs("p",{className:"text-gray-500",children:["No hemos encontrado inmuebles que cumplan 100% tus requisitos actuales.",g.jsx("br",{}),"Pero djanos tus datos y te avisaremos en cuanto entre algo similar."]}),g.jsx("div",{className:"mt-4",children:g.jsx(ft,{to:"/propiedades",className:"text-[var(--color-primary)] underline font-medium",children:"Ver todas las propiedades sin filtrar"})})]}),g.jsxs("div",{className:"bg-gray-50 p-8 rounded-2xl border border-gray-100",children:[w.additionalNotes&&g.jsxs("div",{className:"mb-6 bg-yellow-50 border border-yellow-200 p-4 rounded-xl flex items-start gap-3",children:[g.jsx("div",{className:"text-2xl",children:""}),g.jsxs("div",{className:"text-sm text-yellow-800",children:[g.jsx("p",{className:"font-bold mb-1",children:"Nota sobre tu bsqueda:"}),g.jsxs("p",{children:["Hemos buscado propiedades con las caractersticas marcadas (",w.features.length>0?w.features.join(", "):"ninguna seleccionada",")."]}),g.jsxs("p",{className:"mt-2",children:[" ",g.jsxs("strong",{children:['"',w.additionalNotes,'"']}),": No podemos filtrar automticamente por este criterio todava. Por favor, ",g.jsx("strong",{children:"guarda tu alerta abajo"})," para que un agente revise esto manualmente."]})]})]}),v.length>0?g.jsxs("div",{className:"text-center mb-10",children:[g.jsx("h4",{className:"text-xl font-bold mb-4",children:"Quieres ver ms detalles?"}),g.jsx("p",{className:"text-gray-600 mb-6",children:"Accede al catlogo completo filtrado con tus preferencias para ver todas las fotos y detalles."}),g.jsxs(ft,{to:`/propiedades?operation=${w.operation}&type=${w.type}&features=${w.features.join(",")}`,className:"inline-flex items-center justify-center px-8 py-4 text-white bg-[var(--color-primary)] rounded-xl font-bold hover:opacity-90 transition-all",children:["Ver todas las recomendaciones ",g.jsx(Wd,{className:"ml-2 w-5 h-5"})]}),g.jsxs("div",{className:"mt-8 border-t border-gray-100 pt-8",children:[g.jsx("p",{className:"font-bold text-gray-800 mb-2",children:"No es exactamente lo que buscas?"}),g.jsx("p",{className:"text-gray-600 text-sm mb-6 max-w-lg mx-auto",children:w.additionalNotes?"Guarda tu alerta abajo para que revisemos tus notas especficas (como 'Futboln') manualmente.":"Si quieres que te avisemos de novedades o tienes requisitos especiales, guarda tu alerta aqu."})]})]}):g.jsx("div",{className:"text-center mb-8",children:g.jsx("h4",{className:"text-xl font-bold mb-4 text-center",children:"Activa tu Alerta de Bsqueda"})}),g.jsxs("form",{onSubmit:ce,className:"space-y-4 max-w-md mx-auto bg-white p-6 rounded-xl border border-gray-100 shadow-sm",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nombre"}),g.jsx(At,{value:w.name,onChange:X=>N({...w,name:X.target.value}),required:!0,placeholder:"Tu nombre completo"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),g.jsx(At,{type:"email",value:w.email,onChange:X=>N({...w,email:X.target.value}),required:!0,placeholder:"tu@email.com"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium mb-1",children:"Telfono (Opcional)"}),g.jsx(At,{type:"tel",value:w.phone,onChange:X=>N({...w,phone:X.target.value}),placeholder:"Tu telfono (opcional)"})]}),g.jsx(lt,{type:"submit",className:"w-full py-6 text-lg mt-4",disabled:s,children:s?"Procesando...":"Guardar Alerta Personalizada"})]}),v.length>0&&g.jsx("div",{className:"mt-6 text-center",children:g.jsx("button",{type:"button",onClick:()=>i("/"),className:"text-gray-400 hover:text-gray-600 text-sm",children:"Volver al Inicio sin guardar"})})]})]}),e>1&&e<8&&g.jsx("div",{className:"mt-8 flex justify-start",children:g.jsxs("button",{onClick:$,className:"text-gray-400 hover:text-gray-600 flex items-center gap-2 text-sm font-medium transition-colors",children:[g.jsx(sh,{className:"w-4 h-4"})," Volver"]})})]})]})},Qj=()=>g.jsxs("div",{className:"min-h-screen bg-[#F5F5F0] flex flex-col",children:[g.jsx(xl,{title:"Buscador Inteligente"}),g.jsxs("div",{className:"p-6 flex justify-between items-center",children:[g.jsxs(ft,{to:"/",className:"text-2xl font-serif font-bold tracking-tight",children:["Ballestrino ",g.jsx("span",{className:"text-[var(--color-primary)]",children:"Araque"})]}),g.jsx(ft,{to:"/",className:"p-2 rounded-full hover:bg-black/5 transition-colors",children:g.jsx(oh,{className:"w-6 h-6 text-gray-500"})})]}),g.jsx("div",{className:"flex-1 flex items-center justify-center p-4 md:p-8",children:g.jsx(Yj,{})})]}),$j=()=>{const{pathname:i}=Fr();return j.useEffect(()=>{window.scrollTo(0,0)},[i]),null};function Xj(){return g.jsx(t1,{children:g.jsxs(eC,{basename:"/Ballestrino-Araque",children:[g.jsx($j,{}),g.jsx(hk,{children:g.jsxs(fk,{children:[g.jsxs(I2,{children:[g.jsxs(ii,{path:"/",element:g.jsx(WD,{}),children:[g.jsx(ii,{index:!0,element:g.jsx(sj,{})}),g.jsx(ii,{path:"propiedades",element:g.jsx(lj,{})}),g.jsx(ii,{path:"propiedad/:id",element:g.jsx(Mj,{})}),g.jsx(ii,{path:"favoritos",element:g.jsx(Oj,{})}),g.jsx(ii,{path:"encargos",element:g.jsx(Bj,{})}),g.jsx(ii,{path:"inversores",element:g.jsx(Hj,{})})]}),g.jsx(ii,{path:"/admin/login",element:g.jsx(Fj,{})}),g.jsx(ii,{path:"/quiz",element:g.jsx(Qj,{})}),g.jsxs(ii,{path:"/admin",element:g.jsx(dk,{children:g.jsx(JD,{})}),children:[g.jsx(ii,{index:!0,element:g.jsx(Zj,{})}),g.jsx(ii,{path:"properties/new",element:g.jsx(NE,{})}),g.jsx(ii,{path:"properties/:id/edit",element:g.jsx(NE,{})}),g.jsx(ii,{path:"settings",element:g.jsx(Kj,{})})]})]}),g.jsx("div",{className:"bg-noise"})]})})]})})}const IE=document.getElementById("root");IE&&kS.createRoot(IE).render(g.jsx(j.StrictMode,{children:g.jsx(Xj,{})}));
